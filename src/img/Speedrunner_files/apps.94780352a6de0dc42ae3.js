(window.webpackJsonp=window.webpackJsonp||[]).push([["apps"],{"+cqQ":function(e,t,n){"use strict";function r(){var e=[],t=a.bind(e);return t.off=i.bind(e),t._fns=e,t}function a(){var e=this,t=arguments,n=t[0];if("function"!=typeof n){for(var r=e.length,a=!1,i=0;i<r;i++)!0===e[i].apply(null,t)&&(a=!0);return a}Array.prototype.slice.call(t).forEach((function(t){return e.push(t)}))}function i(e){e?function(e,t){for(;;){var n=e.indexOf(t);if(!(n>=0))break;e.splice(n,1)}}(this,e):this.length=0}function o(e,t){e((function n(){t(),setTimeout((function(){e.off(n)}))}))}n.r(t),n.d(t,"onEmitOnce",(function(){return o})),t.default=Object.assign(r,{kind:function(){var e={};return function(t){return e[t]||(e[t]=r())}}}),window.befall=r},"0hva":function(e,t,n){"use strict";n.r(t),n.d(t,"initAlbumPage",(function(){return f}));var r=n("vOib"),a=n("1VZq"),i=n("z1UI"),o=n("O5lf"),s=(n("tlMv"),n("z9sQ"));var c,u,l,d,_=function(e){void 0===e&&(e={});var t=window.lang,n=e.title||"",c=e.description||"",u=e.pretag,l=e.buttons||{},d=(e.photos||[]).map((function(e){return Object(a.default)({photo:e})})),_=null;if(e.is_loading)_=Wd.wrap(Object(o.default)({mix:"al_loading",type:"pageLoader"}));else{if(!d.length)return Object(i.default)({separator:!0,more_text:e.add_url?t.mobile_photos_placeholder_album_action:null,more_type:"primary",more_url:e.add_url,text:t.mobile_photos_placeholder_album_text});_={inner:[d],class:"AlbumPage__photos photos_page",tag:"div"}}var p=s.default.class("AlbumPage",{withoutDescription:!c},"--");return{inner:[Object(r.default)({inner:[{inner:[{inner:[n],class:"AlbumPage__title",tag:"h2"},c&&{inner:[c],class:"AlbumPage__description",tag:"span"}],class:"AlbumPage__info",tag:"div"},l.prev,_,l.more,u]})],class:p,tag:"div"}},p=n("OcsD");function f(){var e=$("#mhead");Object(p.getH)(e);$(".AlbumPage")&&(c=!1,u=!1,l=!1,d=!1,Object(p.onBodyScroll)(h),Object(p.onBodyScroll)(!0))}function h(){if(c||(c=$(".AlbumPage__title"),u=Object(p.getH)(c)),l||(l=$(".header__title",$("#mhead"))),!l)return Object(p.onBodyScroll)("__clear",h);d||(d=$(".header__text",l));var e=Math.min(40,Math.max(0,getY(c)-u-scrollTop()));p.setStyle.transform(d,1,[0,e]),l.classList.toggle("header__title--initial-position",0===e)}var b=n("Cbap");b.default.getRouter().addRoute(/\/(?:album|tag)(-?\d+(?:_\d+)?)/,f),b.default.getRouter().addRoute(/\/(?:attachments\?act=choose_photo).*(?:album|tag)=(-?\d+(?:_\d+)?)/,f);t.default=_},1:function(e,t,n){e.exports=n("akQD")},"1By4":function(e,t,n){"use strict";n.r(t);var r=n("2mXy"),a=n("fdw3"),i=n("OcsD");t.default={html:_,render:function(e){if(O(e))return e;return _(e)},preactRender:r.render,createElement:r.createElement,wrap:function(e){return e?{__raw__:e}:null},handle:function(){var e=j(arguments[0]),t=Array.prototype.slice.call(arguments,1),n=e[0];if(!n)return;O(n)||console.warn('Invalid handler "'+n+'"');var r=M(window,n);if(!C(r))return void console.warn("`"+n+"` is not a function");return r.apply(null,e.slice(1).concat(t))},handle2:function(e,t){var n=Array.prototype.slice.call(arguments,2),r=e[0];if(!r)return;O(r)||console.warn('Invalid handler "'+r+'"');var a=M(window,r);if(!C(a))return void console.warn("`"+r+"` is not a function");for(var i=e.slice(1),o=0,s=i.length;o<s;o++)if("event"===i[o]){i[o]=t;break}a.apply(null,i.concat(n))},elem:function(e){return e?Object(i.ceFromString)(_(e)):""},preactElem:u,preact:d,hydrate:function(e,t,n){return Object(r.hydrate)(Object(r.createElement)(e,t),n)},class:h,style:b,getInternalData:function(){return{__is_wd_internal_data:!0}},innerItemToString:f,toFlatArray:P,prepareHandler:m,isAttrHandler:p,mountPreactComponent:function(e,t,n){if(!n)return;n.innerHTML="",Object(r.render)(Object(r.createElement)(e,t),n)},mountPreactTemplate:l,preactElemFromTemplate:function(e){return u((function(){return e}),{})}};var o=["tag","inner","attrs","innerHTML","outerHTML","_"],s=["area","base","br","col","command","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],c=["abort","auxclick","beforecopy","beforecut","beforepaste","blur","cancel","canplay","canplaythrough","change","click","close","contextmenu","copy","cuechange","cut","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","paste","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointermove","pointerout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","search","seeked","seeking","select","selectstart","stalled","submit","suspend","timeupdate","toggle","touchcancel","touchend","touchmove","touchstart","volumechange","waiting","wheel"].map((function(e){return"on"+e}));function u(e,t){var n=document.createElement("div");return l(e,t,n),n.children[0]}function l(e,t,n){Object(r.render)(d(e,t),n)}function d(e,t){return function e(t,n){return function(n){var o=C(t)?t(n):t;if(!o)return null;if("string"==typeof o||"number"==typeof o)return o;if(E(o))return o.map((function(t){return e(t)(t&&t.props)}));o.children=o.inner?E(o.inner)?o.inner:[o.inner]:null,delete o.inner,o.attrs=o.attrs||{},E(o.children)&&(o.children=Object(i.flatArray)(o.children),o.children=o.children.map((function(t){return t&&t.__raw__?Object(r.createElement)("div",{dangerouslySetInnerHTML:{__html:t.__raw__}}):e(t)(t&&t.props)})));var s=Object(i.flatArray)([o.class,o.className]).reduce((function(e,t){return t&&e.push.apply(e,t.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e}))),e}),[]);Object.keys(o).forEach((function(e){if(w(e)){var t=o[e];o[e]=Object(a.preactCallback)(t),o["preacted-"+e.toLowerCase()]=!0}}));var c=Object.assign({},o,{className:s.length?s.join(" "):null});return delete c.class,delete c.tag,delete c.attrs,Object(r.createElement)(o.tag||"div",c,o.children)}}((function(t){return e(t)}))(t)}function _(e){if(O(e))return e?{__raw__:e}:null;if(E(e))return e.map(_).join("");if(!y(e))throw"Invalid input, object is expected";if("outerHTML"in e){var t=e.outerHTML;if(O(t))return t;if(A(t))return t.toString();if(t)throw"Invalid outerHTML";return""}var n=function(e){if("tag"in e){var t=e.tag;if(O(t)&&/^[\w-]+$/.test(t))return t;throw"Invalid tag name"}if(k(e.href))return"a";return"div"}(e),r=function(e){if("innerHTML"in e){var t=e.innerHTML;if(O(t))return t;if(A(t))return t.toString();if(t)throw"Invalid innerHTML";return""}if("inner"in e)return P(e.inner).map(f).join("");return""}(e),a=function(e){var t="";y(e.attrs)&&Object.assign(e,e.attrs);for(var n in e)if(!D(n)){var r=e[n];"class"===n?r=h(r):p(n,r)?r=m(r):r&&(r=g(r)),"style"===n&&(r=b(r));var a=S(n);!0===r?t+=" "+a:A(r)?t+=" "+a+'="'+r+'"':O(r)?t+=" "+a+'="'+S(r)+'"':r&&(r=r.__raw__?r.__raw__:g(r))&&(t+=" "+a+'="'+r+'"')}O(e.attrs)&&(t+=" "+e.attrs.replace(/</g,"&lt;").replace(/>/g,"&gt;"));return t}(e);return function(e){return s.includes(e.toLowerCase())}(n)?"<"+n+a+" />":"<"+n+a+">"+r+"</"+n+">"}function p(e,t){return w(e)&&(E(t)||O(n=t)&&/^[\w.]+$/.test(n));var n}function f(e){return A(e)?e.toString():O(e)?S(e):y(e)?e.__raw__?e.__raw__:_(e):""}function h(e){return P(e).filter(k).join(" ").trim().replace(/\s+/g," ")}function b(e){return y(e)?Object.entries(e).map((function(e){var t=e[0],n=e[1];return(t=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})))+":"+n})).join(";"):e}function m(e){var t=j(e);if(!t.length)return null;var n=t[0];return O(n)?n+"("+t.slice(1).map(v).join(", ")+")":e}function v(e){return A(e)||"this"===e||"event"===e||void 0===e?e:S(JSON.stringify(e),!0)}function g(e){return void 0===e&&(e=""),e="boolean"==typeof e||A(e)?e:O(e)?S(e,!0):y(e)?e.__raw__:S(JSON.stringify(e),!0)}function D(e){return o.includes(e)}function w(e){return c.includes(e.toLowerCase())}function A(e){return"number"==typeof e&&!isNaN(e)}function O(e){return"string"==typeof e}function E(e){return Array.isArray(e)}function y(e){return"[object Object]"===Object.prototype.toString.call(e)}function C(e){return"[object Function]"===Object.prototype.toString.call(e)}function k(e){return O(e)&&e}function j(e){return E(e)?e:[e]}function S(e,t){return void 0===e&&(e=""),t?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):(e=e.replace(/&(?!(#\d{0,4};|quot;|lt;|gt;|amp;))/g,"&amp;",e)).replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function P(e){return E(e)?function e(t){var n=[];return t.forEach((function(t){E(t)?n=n.concat(e(t)):n.push(t)})),n}(e):[e]}function M(e,t){for(var n=t.split("."),r=n.length,a=e,i=0;i<r;i++)try{a=a[n[i]]}catch(e){return}return a}},"1VZq":function(e,t,n){"use strict";n.r(t);var r=n("Y6JH"),a=n("HaOv"),i=n("xTMR");var o=function(e){var t,n=e.photo,o=n.restriction;if(o&&"block"===o.type)t={inner:[{inner:[Object(r.default)({icon:Object(a.getDoNotDisturbOutline56Icon)()})],class:"PhotosPhotoItem__restriction",tag:"div"}],class:"_image PhotosPhotoItem__photo",tag:"div"};else{var s=["_image",Bem.class("PhotosPhotoItem__photo",{blur:o&&"blur"===o.type},"--")];t={inner:[o&&o.type?{inner:[Object(r.default)({icon:Object(i.getHideOutline56Icon)()})],class:"PhotosPhotoItem__restriction",tag:"div"}:null],style:"background-image: url("+n.src+")",attrs:n.attrs,class:s,tag:"div"}}return{inner:[t],href:n.href,class:"PhotosPhotoItem "+n.class,onclick:n.onclick,tag:"a"}};t.default=o},"29dZ":function(e,t,n){"use strict";n.r(t);var r=n("UvyM"),a=n("myok");n.d(t,"setDisabled",(function(){return a.setDisabled})),n.d(t,"setLoading",(function(){return a.setLoading})),Object.assign(r.default,a.default),window.Btn=r.default,t.default=r.default},"2IoG":function(e,t,n){"use strict";n.r(t);var r=n("MUpH"),a=n("bZ/P");function i(){var e=Object(r.default)(["\n    <",' class="','" '," ",">\n      ","\n    </",">\n  "]);return i=function(){return e},e}t.default=function(e){void 0===e&&(e={});var t,n,r=a.default.list(e.inner);e.url?(t="a",n=a.default.attr("href",e.url)):(t=e.tag||"div",n="");return a.default.html(i(),t,e.mix,n,e.attrs,r,t)}},"4zn2":function(e,t,n){"use strict";n.r(t),n.d(t,"API_VERSION",(function(){return r})),n.d(t,"VKPAY_TRANSACTION_EVENT",(function(){return a})),n.d(t,"PLATFORM",(function(){return i})),n.d(t,"CLIENT_SCHEME",(function(){return o})),n.d(t,"ERROR_CODES",(function(){return s})),n.d(t,"ERROR_REASONS",(function(){return c})),n.d(t,"ERROR_TYPES",(function(){return u})),n.d(t,"CLOSE_STATUS",(function(){return l})),n.d(t,"GROUP_STATUS",(function(){return d})),n.d(t,"VKPAY_APPS",(function(){return _})),n.d(t,"TEXTLIVE_APPS",(function(){return p})),n.d(t,"VK_CONNECT_EVENTS",(function(){return f}));var r="5.95",a="VKWebAppActionDone",i={WEB:"web",MOBILE_WEB:"mobile-web"},o={BRIGHT_LIGHT:"bright_light",SPACE_GRAY:"space_gray"},s={UNKNOWN:1,MISSING_PARAM:2,OLD_MISSING_PARAM:100,CONNECTION_LOST:3,USER_DENIED:4,INVALID_PARAMS:5,CUSTOM:6,REQUESTS_LIMIT_REACHED:10,ACCESS_DENIED:11},c={UNSUPPORTED_PLATFORM:"Unsupported platform",NATIVE_APP_IS_NOT_INSTALLED:"VK client is not installed on device",USER_NOT_A_PRIVATE_GROUP_MEMBER:"User is not a member of the given private group",UNKNOWN_ERROR:"Unknown error",NETWORK_ERROR:"Network error"},u={CLIENT:"client_error",API:"api_error",AUTH:"auth_error"},l=["success","failed"],d={OPEN:0,CLOSED:1,PRIVATE:2},_=[6217559,7131443],p=[7512376],f={VKWebAppAddToCommunity:"add_to_community",VKWebAppAddToCommunityPreload:"get_groups_list",VKWebAppAddToFavorites:"add_to_favorites",VKWebAppAddToFavoritesPreload:"already_added_to_favorites",VKWebAppAddToMenu:"add_to_menu",VKWebAppAddToMenuPreload:"is_in_left_menu",VKWebAppGetCommunityAuthToken:"get_community_token",VKWebAppGetCommunityAuthTokenPreload:"get_community_scope",VKWebAppGetCommunityToken:"get_community_token",VKWebAppGetCommunityTokenPreload:"get_community_scope",VKWebAppGetAuthToken:"get_auth_token",VKWebAppGetAuthTokenPreload:"get_auth_token_info",VKWebAppGetPhoneNumber:"get_phone_number",VKWebAppGetPhoneNumberPreload:"already_get_phone_number",VKWebAppGetEmail:"get_email",VKWebAppGetEmailPreload:"already_get_email",VKWebAppGetFriends:"get_friends",VKWebAppAllowNotificationsPreload:"are_notifications_allowed",VKWebAppAllowNotifications:"allow_notifications",VKWebAppDenyNotifications:"deny_notifications",VKWebAppAllowMessagesFromGroup:"allow_messages_from_group",VKWebAppAllowMessagesFromGroupPreload:"can_send_messages_from_group",VKWebAppJoinGroup:"join_group",VKWebAppJoinGroupPreload:"is_group_member",VKWebAppLeaveGroup:"leave_group",VKWebAppLeaveGroupPreload:"is_group_member",VKWebAppOpenApp:"open_app",VKWebAppGetUserInfo:"get_user_info",VKWebAppSendPayload:"send_payload",VKWebAppSendToClient:"send_to_client",VKWebAppSendToClientPreload:"get_open_in_native_permission",VKWebAppShowOrderBox:"order",VKWebAppShowLeaderBoardBox:"show_leader_board",VKWebAppShowInviteBox:"invite_friends",VKWebAppShowStoryBox:"story_box",VKWebAppShowRequestBox:"send_request",VKWebAppShowRequestBoxPreload:"request_box_preload",VKWebAppStorageGetKeys:"storage_get_keys",VKWebAppStorageSet:"storage_set",VKWebAppStorageGet:"storage_get",VKWebAppOpenArticleEditor:"open_article_edit",VKWebAppSubscribeStoryApp:"subscribe_story_app",VKWebAppClose:"close",VKWebAppGetGroupInfo:"get_group_info",VKWebAppGetGroupInfoPreload:"is_group_info_allowed"}},"8ZMO":function(e,t,n){"use strict";n.r(t);var r=function(e){return{class:["Anchor",e.mix],id:e.id,tag:"div"}};t.default=r},"9M99":function(e,t,n){"use strict";n.r(t),n.d(t,"emojiToHTML",(function(){return c}));var r=n("S6+Z"),a=n("TxR4"),i=n("vkmG");function o(e,t,n,r){return!n&&t?t:r?'<i class="emoji @'+e+'" emoji="'+e+'"'+(t?' title="'+t+'"':"")+"></i>":'<img class="emoji" src="/emoji/e/'+e+(window.devicePixelRatio>=2?"_2x":"")+'.png"'+(t?' alt="'+t+'"':"")+(browser.msie&&Number(browser.version)>8?' contenteditable="false"':"")+">"}function s(e){return o(Object(a.emojiSymbolToByteHex)(e),Object(i.encodeHTMLEntities)(e),!0)}var c=function(e){return function(e,t){if(browser.ipad||browser.iphone)return e;e=(e+"").replace(/&nbsp;/g," ").replace(/<br>/g,"\n");for(var n=0;n<2;n++)Object.keys(r.EMOJI_PREFIXED_REPLACES).forEach((function(t){e.replace(r.EMOJI_PREFIXED_REPLACES[t],(function(e,n,r,a){return(n||"")+o(t)+(a||"")}))}));return Object.keys(r.EMOJI_REPLACES).forEach((function(t){e=e.replace(r.EMOJI_REPLACES[t],(function(e,n,r){return o(t)+(r||"")}))})),e=e.replace(/\n/g,"<br>"),t&&(e=e.replace(/\uFE0F/g,"").replace(Object(r.emojiRegex)(),s)),e}(e,!0)}},"9y81":function(e,t,n){"use strict";n.r(t),n.d(t,"IconWd",(function(){return o}));var r=n("bZ/P"),a=n("Mc5h"),i=function(e){var t,n=e.icon,i=e.class||e.mix;return Object(a.default)({mix:r.default.class(i,"Icon",(t={},t[n]=!0,t.active=e.active,t.blue=e.blue,t.bluer=e.bluer,t.dark=e.dark,t.selected=e.selected,t.small=e.small,t.white=e.white,t)),url:e.url,attrs:e.attrs})};function o(e){var t,n=e.icon;return{class:[e.class,Bem.class("Icon",(t={},t[n]=!0,t.active=e.active,t.blue=e.blue,t.bluer=e.bluer,t.dark=e.dark,t.selected=e.selected,t.small=e.small,t.white=e.white,t))],href:e.url,attrs:e.attrs}}Object.assign(i,{toggleActive:function(e){e.classList.toggle(s)}});var s="Icon_active";t.default=i;window.Icon=i},B9v3:function(e,t,n){"use strict";n.r(t),n.d(t,"setBookmarkState",(function(){return se})),n.d(t,"ActionsPanel",(function(){return A})),n.d(t,"init",(function(){return ce}));var r=n("Y6JH"),a=n("VRji"),i=n("p5n7"),o=n("29dZ"),s=n("fdw3"),c=n("haUC"),u=n("Uz3H"),l=n("7ADY"),d=n("1S0R"),_=n("ETBP"),p=n("dvEy"),f=n("Epxf"),h=n("sYro"),b=n("7E7W"),m=n("3ZCC"),v=n("Fbxv"),g=n("2fMF"),D=n("PssS");function w(e){return void 0===e&&(e={}),{class:"SharePanel SharePanel-header SharePanel--active ShareHeaderConversationsPanel","aria-hidden":"false","data-name":"ShareHeaderConversationsPanel",inner:[{"aria-label":Object(s.getLang)("mobile_close"),onclick:"cur.share.destroy()",role:"button",class:"SharePanel-header__close",inner:Object(r.default)(Object(l.getCancel24Icon)())},{class:"SharePanel-headerText",inner:[{class:"SharePanel-headerText__label",inner:Object(s.getLang)("mobile_like_publish_head_title")},{class:"SharePanel-headerText__receivers"}]},{class:"SharePanel-headerRight",inner:[{"aria-label":Object(s.getLang)("mobile_search"),class:"SharePanel-headerRight__search",role:"button",inner:Object(r.default)(Object(d.getSearch24Icon)()),onclick:"cur.share.toggleConversationsSearch(true)"},e.supportsExternalShare?{"aria-label":Object(s.getLang)("mobile_share_external"),class:"SharePanel-headerRight__externalShare",role:"button",inner:"iOS"===e.platform?Object(r.default)(Object(_.getShareExternalIos24Icon)()):Object(r.default)(Object(p.getShareExternalAndroid24Icon)()),onclick:"cur.share.externalShare()"}:null]}]}}function A(e){var t=e.buttons,n=e.options,r="boolean"!=typeof e.active||e.active;return{class:"ActionsPanel SharePanel "+(r?"SharePanel--active":""),"data-name":"ActionsPanel","aria-hidden":!r,style:!(n.can_to_own||n.can_to_club||n.can_bookmark)?"display: none;":"",inner:t.map((function(e){if(e)return function(e){var t=e.href?"a":"div",n=e.onclick,r={tag:t,role:"button",tabindex:-1,href:e.href,onclick:n,class:"ActionsPanel-button ActionsPanel-button--"+e.target,inner:[{class:"ActionsPanel-button__icon",inner:e.icon},{class:"ActionsPanel-button__label",inner:e.label}]};"boolean"==typeof e["aria-pressed"]&&(r["aria-pressed"]=e["aria-pressed"]+"");return r}(e)}))}}var O=function(e){var t=e.can_bookmark,n=e.is_bookmarked,l=e.object,_=e.list,p=e.from,O=e.post_from,E=e.supportsExternalShare,y=e.isVKApp,C=e.targetOwnOnClick,k=Object(s.makeUrl)("/wall",{act:"add",share_box:1,is_vk_app:y,object:l,list:_,from:p,post_from:O});return{inner:[{inner:[w({platform:e.platform,supportsExternalShare:E}),{class:"SharePanel ShareHeaderSearch ShareHeaderConversationsSearchPanel","aria-hidden":"true","data-name":"ShareHeaderConversationsSearchPanel",role:"search",inner:Object(i.default)({disabled:!0,autocomplete:!1,onblur:'cur.share.clearSearch(event, "peers", true)',prefix:{text:{role:"button",inner:Object(r.default)(Object(h.getSearchOutline16Icon)())}},postfix:{text:{class:"ShareHeaderSearch__clear",role:"button",onclick:'cur.share.clearSearch(event, "peers")',inner:Object(r.default)(Object(b.getCancelOutline24Icon)())}},class:"ShareHeaderConversationsSearchPanel__input",id:"ShareHeaderConversationsSearchPanel__input",placeholder:Object(s.getLang)("mobile_search"),spellcheck:!1})},{class:"SharePanel SharePanel-header ShareHeaderGroupsPanel","aria-hidden":"true","data-name":"ShareHeaderGroupsPanel",inner:[{"aria-label":Object(s.getLang)("mobile_back"),onclick:"cur.share.toggleGroupsPanel(false)",role:"button",class:"SharePanel-header__close",inner:Object(r.default)(Object(f.getBack24Icon)())},{class:"SharePanel-headerText",inner:[{class:"SharePanel-headerText__label",inner:Object(s.getLang)("mobile_like_publish_head_title")}]},{class:"SharePanel-headerRight",inner:[{class:"SharePanel-headerRight__search",role:"button",inner:Object(r.default)(Object(d.getSearch24Icon)()),onclick:'cur.share.setActivePanel(this, "ShareHeaderGroupsSearchPanel", true)'}]}]},{class:"SharePanel ShareHeaderSearch ShareHeaderGroupsSearchPanel","aria-hidden":"true","data-name":"ShareHeaderGroupsSearchPanel",role:"search",inner:Object(i.default)({disabled:!0,autocomplete:!1,onblur:'cur.share.clearSearch(event, "group", true)',prefix:{text:{"aria-label":Object(s.getLang)("mobile_search"),role:"button",inner:Object(r.default)(Object(h.getSearchOutline16Icon)())}},postfix:{text:{class:"ShareHeaderSearch__clear",onclick:'cur.share.clearSearch(event, "group")',inner:Object(r.default)(Object(b.getCancelOutline24Icon)())}},class:"ShareHeaderGroupsSearchPanel__input",id:"ShareHeaderGroupsSearchPanel__input",placeholder:Object(s.getLang)("mobile_search"),spellcheck:!1})}],class:"SharePanelRoot ShareHeader",tag:"header"},{id:"Share__input",style:"display: none;",tag:"input"},{inner:[{class:"ShareConversations SharePanel SharePanel--active filter_peer_wrap","data-name":"ShareConversations","aria-hidden":"false",role:"group",id:"ShareConversations"},{class:"ShareGroups SharePanel","data-name":"ShareGroups","aria-hidden":"true",role:"group",id:"ShareGroups"}],class:"SharePanelRoot ShareLists",tag:"section"},{inner:[A({active:!0,options:e,buttons:[e.can_to_own?{target:"own",label:Object(s.getLang)("mobile_share_target_own"),onclick:C||"cur.share.go('"+k+"')",icon:Object(r.default)(Object(c.getRepostOutline28Icon)())}:null,e.can_to_club?{target:"group",label:Object(s.getLang)("mobile_share_target_group"),icon:Object(r.default)(Object(u.getUsersOutline28Icon)())}:null,t?{target:"bookmark","aria-pressed":n,label:n?Object(s.getLang)("mobile_share_target_bookmark_active"):Object(s.getLang)("mobile_share_target_bookmark"),icon:Object(r.default)(e.is_bookmarked?Object(g.getFavorite28Icon)():Object(D.getFavoriteOutline28Icon)())}:null]}),{class:"SharePanel MessagePanel","aria-hidden":"true","data-name":"MessagePanel",inner:[Object(i.default)({tabindex:-1,autocomplete:!1,class:"MessagePanel__input",on_click:["cur.share.expandMessage"],placeholder:Object(s.getLang)("mobile_share_message_placeholder"),spellcheck:!1,readonly:!0,disabled:!0}),Object(o.default)({stretch:!0,size:"large",inner:Object(s.getLang)("mobile_share_message_single"),on_click:"cur.share.sendMessage(event)",use_native_onclick:!0})]},{class:"SharePanel ExpandedMessagePanel","aria-hidden":"true","data-name":"ExpandedMessagePanel",inner:[{class:"ExpandedMessagePanel__textareaWrap",inner:[Object(a.default)({placeholder:Object(s.getLang)("mobile_share_message_placeholder"),rows:1}),{class:"ExpandedMessagePanelSend",inner:Object(r.default)(Object(m.getSendActive24Icon)())}]}]},{class:"SharePanel ProcessingPanel","aria-hidden":"true","data-name":"ProcessingPanel",inner:[{class:"ProcessingPanel__icon ProcessingPanel__icon--loading",inner:Object(r.default)(Object(v.getLoading40Icon)())},{class:"ProcessingPanel__label",inner:Object(s.getLang)("mobile_share_state_progress")}]}],class:"SharePanelRoot ShareBottom",tag:"footer"}],class:"Share","aria-role":"dialog","aria-label":Object(s.getLang)("mobile_like_publish_head_title"),hidden:"false",tabindex:"-1",tag:"div"}},E=n("wTbK"),y=n("YU/R"),C=n("Qz23"),k=n("OcsD");function j(e){return/^((?:([a-z]+)_)?([a-z_]+))(-?\d+)?(?:_(\d+))?$/.test(e)}var S=n("UxAg"),P=n("j80l"),M=n("aiw/"),x=n("H5mD"),I=n("zq7H"),T=n("yOyn"),B=n("L3oE"),F=n("1u0X"),L="/hints?act=a_json_friends&mobile=1&from=imwrite&case=Nom&qs=1",R="ShareConversations",N=0,W=!1,H={bookmarks:{}};function U(e){V(e)}function K(e){nav.go(e),cur.share.destroy({isNavigation:!0})}function V(e){if(cur.share){var t=cur.share._els.header,n=e.scrollTop;t.classList.toggle("ShareHeader--scrolled",n>=10)}}function q(e,t,n){if(!cur.share||cur.share.blocked)return!1;if($(!0),cancelEvent(n),hasClass("inline_item_selected",t))return cur.shareSearch.toggleAttach(e,!1),function(e,t){for(var n=0;n<cur.share.selected.length;n++)if(cur.share.selected[n]===e){cur.share.selected.splice(n,1);break}return X(!1),Z(),!1}(e);cur.shareSearch.toggleAttach(e,!0);for(var r=!1,a=0;a<cur.share.selected.length;a++)if(cur.share.selected[a]===e){r=!0;break}return r||cur.share.selected.push(e),$(!1),X(!1),Z(),!1}function G(e,t,n){if(cur.share&&!cur.share.blocked){e=e.closest(".SharePanelRoot");var r,a=Object(S.$$)(".SharePanel",e);t&&(r=Object(S.$)("."+t,e)),a.forEach((function(e){var t=e===r;e.setAttribute("aria-hidden",!t),e.classList.toggle("SharePanel--active",t),t?e.removeAttribute("tabindex"):e.setAttribute("tabindex",-1),Object(S.$$)("input, ul",e).forEach((function(e){e.setAttribute("aria-hidden",!t);var n=e.closest(".TextInput");t?(null==n||n.classList.remove("TextInput_disabled"),e.removeAttribute("disabled"),e.setAttribute("tabindex",0)):(null==n||n.classList.add("TextInput_disabled"),e.setAttribute("disabled",!0),e.setAttribute("tabindex",-1))}))}));var i=Object(S.$)("input",r);i&&n&&i.focus(),setStyle(e,{height:r?r.clientHeight:0})}}function $(e){var t=Object(S.$)(".ShareModal");t&&t.classList.toggle("ShareModal--disableAnimations",!e)}function z(e){if(cur.share){var t=cur.share._els,n=t.header,r=t.content,a=t.bottom;r.classList.add("ShareLists--transition"),$(!0),G(n,e?"ShareHeaderGroupsPanel":"ShareHeaderConversationsPanel"),G(r,e?"ShareGroups":"ShareConversations"),G(a,e?"":"ActionsPanel"),setTimeout((function(){r.classList.remove("ShareLists--transition")}),300),Object(S.$)(".SharePanel--active ul",r).focus(),Z(),V(e?Object(S.$)("#ShareGroups .ShareList__container"):Object(S.$)("#ShareConversations .ShareList__container"))}}function Q(e){if(cur.share){var t=cur.share._els,n=t.header,r=(t.content,t.bottom),a=J();W=e,$(!1),G(r,e?"":a),e&&G(n,"ShareHeaderConversationsSearchPanel",!0),!x.isIOS&&innerWidth<I.DESKTOP_WIDTH&&Z(e),setTimeout((function(){browser.ios&&Object(k.scrollTop)(document.activeElement)}),500)}}function Y(){if(cur.share){var e=cur.share._els,t=e.content,n=e.bottom,r=e.messageTextarea;G(n,"ExpandedMessagePanel"),t.classList.add("ShareLists--transition"),x.isIOS||Z(!1),r.focus({preventScroll:!0})}}function X(e){if(void 0===e&&(e=!0),cur.share){var t=cur.share,n=t.selected,r=t._els;ge(R)&&(!function(){if(!cur.share)return;var e=cur.share.cache._cache,t=Object(S.$)(".ShareHeaderConversationsPanel"),n=Object(S.$)(".ShareHeaderConversationsPanel .SharePanel-headerText__receivers",t),r=cur.share.selected,a=r.length;t.classList.toggle("ShareHeaderConversationsPanel--hasReceivers",a>0);var i="";if(1===a){i=getLang("mobile_share_box_to_single");var o=e[r[0]][0];i=i.replace("{name}",o)}else if(2===a){i=getLang("mobile_share_box_to_couple");var s=e[r[0]][6]||e[r[0]][0],c=e[r[1]][6]||e[r[1]][0];i=i.replace("{name1}",s).replace("{name2}",c)}else if(a>2){i=getLang("mobile_share_box_to_many");var u=e[r[0]][6]||e[r[0]][0];i=i.replace("{name}",u).replace("{count}",a-1)}n.innerHTML=i}(),ee());var a,i,o=J();G(r.bottom,o,e),a=n.length>1,i=cur.share._els.messagePanel,Object(S.$)(".Btn",i).innerHTML=a?getLang("mobile_share_message_many"):getLang("mobile_share_message_single")}}function J(){if(cur.share){var e=cur.share,t=e.selected,n=e.content,r=Object(S.$)(".SharePanel--active",n).getAttribute("data-name");return"ShareHeaderGroupsSearchPanel"===r||"ShareHeaderGroupsPanel"===r?"":document.activeElement&&document.activeElement.closest(".ExpandedMessagePanel")?"ExpandedMessagePanel":t.length>0?"MessagePanel":"ActionsPanel"}}function Z(e){if(cur.share&&cur.share._els){var t=cur.share._els,n=t.header,r=t.bottom,a=t.content,i=t.groupsList;if(n&&r&&a){Object(S.$)(".ShareModal");var o=400;(e=W||e)&&(o+=cur.share.lastBottomHeight-Object(k.getH)(r)),r.clientHeight&&(cur.share.lastBottomHeight=r.clientHeight);var s=[n,r].reduce((function(e,t){var n=Object(S.$)(".SharePanel--active",t);return n&&(e+=n.clientHeight,setStyle(t,{height:n.clientHeight})),e}),0),c=Math.min(o,Object(k.getCh)()-s),u=s+c!==N;u||($(!1),a.classList.remove("ShareLists--transition")),setStyle(i,{bottom:-r.clientHeight}),setStyle(a,{height:c}),u||$(!0),N=s+c}}}function ee(){cur.share&&each(geByClass("inline_item",Object(S.$)("ShareConversations__container")),(function(e,t){if(cur.share){var n=intval((t.id||"").substr(4)),r=-1!==cur.share.selected.indexOf(n);toggleClass("inline_item_selected",t,r),t.setAttribute("aria-selected",r);var a=Object(S.$)('input[type="checkbox"]',t);a&&(a.checked=r)}}))}function te(e){var t=cur.share._els.bookmarkButton;if(t){var n=Object(S.$)(".ActionsPanel-button__icon",t),a=Object(S.$)(".ActionsPanel-button__label",t);t.setAttribute("aria-pressed",e),e?(n.innerHTML=Wd.html(Object(r.default)(Object(g.getFavorite28Icon)())),a.innerHTML=getLang("mobile_share_target_bookmark_active")):(n.innerHTML=Wd.html(Object(r.default)(Object(D.getFavoriteOutline28Icon)())),a.innerHTML=getLang("mobile_share_target_bookmark")),window.thover.clear()}}function ne(e){var t=cur.share._els,n=t.bottom,a=t.processingPanel,i=this.mail_hash,o=this.object,s=this.list,c=this.appId,u=this.shouldInteractWithGlobalStories,l={_ajax:1,from:"share_box",hash:i,list:s,message:Object(S.$)(".ExpandedMessagePanel__textareaWrap textarea").value,to:cur.share.selected.join(","),app_id:c};j(cur.share.options.object)?l.media=o:l.link=o,$(!0),e&&cancelEvent(e),G(n,"ProcessingPanel"),cur.share.blocked=!0,(o.startsWith("story")||o.startsWith("narrative"))&&u&&Stories.sendAnalyticsEvent("share_to_message"),setTimeout((function(){Z()})),setTimeout((function(){Z()}),350),ajax.post("/mail?act=send",l,{onDone:function(e){$(!0);var t=Object(S.$)(".ProcessingPanel__icon",a),n=Object(S.$)(".ProcessingPanel__label",a);t.classList.remove("ProcessingPanel__icon--loading");var i=e.error;t.innerHTML=Wd.html(i?Object(r.default)(Object(F.getErrorCircle40Icon)()):Object(r.default)(Object(B.getDoneCircle40Icon)())),n.innerText=i?getLang("mobile_share_state_error"):getLang("mobile_share_state_success"),setTimeout((function(){cur.app&&(i&&cur.app.hasOwnProperty("vkMiniAppShareFail")?cur.app.vkMiniAppShareFail():!i&&window.isFunction(cur.app.vkMiniAppShareSuccess)&&cur.app.vkMiniAppShareSuccess(0)),cur.share&&cur.share.destroy({isFail:i})}),1e3)}})}function re(e,t,n){void 0===n&&(n=!1),Object(k.preventEvent)(e);var r,a,i,o=cur.share._els.header;if("group"===t?(r=ge("ShareHeaderGroupsSearchPanel__input"),a="ShareHeaderGroupsPanel",i=cur.shareGroupSearch):"peers"===t&&(r=ge("ShareHeaderConversationsSearchPanel__input"),a="ShareHeaderConversationsPanel",i=cur.shareSearch),$(!1),r.value){if(n)return void $(!0);i.clear()}else"peers"===t?(G(o,a),Q(!1)):(G(o,a),$(!0))}function ae(){var e,t=cur.share.options.object,n="unknown";if(j(cur.share.options.object)){e=/^([a-z_]+)(-?\d+)_(\d+)$/.exec(cur.share.options.object),n=e[1];var r=e[2],a=e[3];"app"===n&&"0"===a&&(t="app"+r),cur.share.options.list&&(t+="?list="+cur.share.options.list),t=t.replace("wall_reply","wall")}else cur.share.options.isVKApp&&(n="link");t=cur.share.options.external_url||t;var i=navigator.share({url:t});if(!i)return Object(k.statlogsValueEvent)("mvk_share_external",n);i.then((function(){cur.share&&Object(k.statlogsValueEvent)("mvk_share_external",n)}))}function ie(e,t,n){var r=e.split("_"),a=31,i=5,o=6,s=[a,i,3,o].includes(Object(k.toInt)(t.bookmark_type)),c=[2,o].includes(t.bookmark_type);if(ajax.post("/bookmarks.php",{_ajax:1,from:"share_box",wide:c?1:0,star:s?1:0,act:t.is_bookmarked?"bookmark_remove":"bookmark_add",item_type:t.bookmark_type,item_oid:r[0],item_id:r[1],hash:t.bookmark_hash,link_url:t.link_url,link_title:t.link_title,link_img:t.link_img},{onDone:function(e,t){var n=Object(S.$)("."+e),r=Object(k.ceFromString)(t);n&&Object(k.replace)(r,n.parentNode)}}),t.bookmark_type===i&&Article.toggleButton(e,!t.is_bookmarked),t.bookmark_type===a&&t.shouldInteractWithGlobalStories){var u=Object(S.$)(".StoryMenu__button");Stories.toggleBookmark(u,!0)}t.is_bookmarked=!t.is_bookmarked,H.bookmarks[e]=t.is_bookmarked,n()}function oe(){Z(!1)}function se(e,t){H.bookmarks[e]=t}var ce=function(e,t,n){var i=t.can_to_own,o=void 0===i||i,s=t.can_to_club,c=void 0===s||s,u=t.can_bookmark,l=t.is_bookmarked,d=t.from,_=t.post_from,p=t.list,f=(t.message,t.targetOwnOnClick),h=t.appId,b=t.isVKApp;cur.share&&cur.share.destroy();var m=!j(t.object);if(!m||b){m&&!/^(https|http)?:\/\//i.test(t.object)&&(t.object="https://"+e,e=t.object),y.default&&y.default.close(),t.withoutScrollView||Object(C.preventDocumentScroll)(),m||(l=void 0!==H.bookmarks[e]?H.bookmarks[e]:l,t.is_bookmarked=l),cancelEvent(n);var v=!!navigator.share,g=browser.ios?"iOS":"Android",D=Object(E.default)({on_overlay_click:"cur.share.destroy()",class:"ShareModal",attached:!0,body:O({targetOwnOnClick:!!f&&"cur.share.toOwnWall()",can_to_own:o,can_to_club:c,supportsExternalShare:v,platform:g,can_bookmark:u,is_bookmarked:l,list:p,from:d,post_from:_,object:t.object,isVKApp:t.isVKApp})}),w=t.withoutHash?null:"share";E.default.open(Wd.elem(D),!0,w,{swipeDown:!0,onClose:function(){cur.share&&cur.share.destroy({closeModal:!1})}});var A=Object(S.$)(".ShareModal"),k=Object(S.$)(".ShareHeader"),I=Object(S.$)(".ShareLists"),B=Object(S.$)(".ShareBottom"),F=Object(S.$)(".ActionsPanel-button--bookmark"),N=Object(S.$)(".ActionsPanel-button--group");setTimeout((function(){!function(e){void 0===e&&(e={});cur.shareSearch=new QuickSearch;var t=e.appId?L+"&app_id="+e.appId:L,n=e.appId?L+"&app_id="+e.appId+R:"/hints?act=a_json_friends&mobile=1&from=imwrite&case=Nom&qs=1ShareConversations";cur.shareSearch.init({action:t,field:"ShareHeaderConversationsSearchPanel__input",container:R,top_len:20,onFocusChanged:function(e){e?M.onOpen("top"):M.onClose(),Z(e),setTimeout((function(){Z(e)}),200)},tpl:function(e,t){return'<ul aria-multiselectable="true" aria-hidden="false" class="ScrollView ShareConversations__container ShareList__container" onscroll="cur.share.onScroll(this)">'+e+"</ul>"},item_tpl:function(e,t){if(cur.share){var n=cur.share.cache._cache,a=n[this.id][0],i=!(!n[this.id][8]||!n[this.id][8].is_casper)?'<span class="ShareConversationsCasperTitle">\n             <span class="ShareConversationsCasperTitle__text">'+this.highlight(a)+'</span>\n             <span class="ShareConversationsCasperTitle__icon">'+Wd.html(Object(r.default)(Object(T.getCasper16Icon)()))+"</span>\n           </span>":this.highlight(a),o=-1!==cur.share.selected.indexOf(+this.id)?"inline_item_selected":"";return'\n        <label aria-label="'+a+'" tabindex="0" role="checkbox" id="peer'+this.id+'" onclick="cur.share.select('+this.id+', this)" class="inline_item active '+o+'">\n          <input type="checkbox" style="display: none;">\n            <img aria-hidden="true" class="ii_img" src="'+t+'" />\n            <div class="ii_body">\n              <div class="ii_owner">\n                 '+i+"\n              </div>\n            </div>\n          </input>\n        </label>\n      "}},null_tpl:function(e){var t=getLang("mobile_friends_search_not_found").replace("%s",htsc(e));return e||(t=getLang("mobile_share_list_no_friends")),'<div class="service_msg_box"><div class="service_msg service_msg_null">'+t+"</div></div>"}}),cur.share.cache=QuickSearchCache[n],ee()}({appId:h})}),250),addEvent(F,"click",ie.bind(this,e,t,(function(){te(t.is_bookmarked)})),{passive:!0}),addEvent(N,"click",(function(){z(!0)}),{passive:!0});var W=Object(S.$)(".ExpandedMessagePanel textarea"),V=Object(S.$)(".MessagePanel__input input");W.value=t.message||"",V.value=t.message||"",Object(a.initAutogrow)(W),addEvent(W,"input blur focus",(function(e){var t=cur.share._els.content;V.value=W.value.replace(/\n/gi," "),$(!1),"input"===e.type&&Z(!1),"focus"===e.type&&(t.classList.remove("ShareLists--transition"),A.classList.add("ModalMenu--blocked"),A.classList.add("ModalMenu--focused"),M.onOpen("bottom"),setTimeout((function(){X(!0),$(!1),Z()}),100)),"blur"===e.type&&(A.classList.remove("ModalMenu--blocked"),e.preventDefault(),e.stopPropagation(),M.onClose(),$(!1),A.classList.remove("ModalMenu--focused"),x.isIOS||Z(!1),setTimeout((function(){X(!1),$(!1),Z()}),100))})),addEvent(Object(S.$)(".ExpandedMessagePanelSend"),"click touchend",(function(e){e.stopPropagation(),e.preventDefault(),document.activeElement&&document.activeElement.blur(),cur.share.sendMessage()}),{capture:!0}),addEvent(W,"touchmove",(function(e){stopEvent(e)}),{capture:!0}),M.onCloseCallback(oe),addEvent(W,"keydown",(function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey&&browser.mac)&&cur.share.sendMessage(e)}));var J={act:"publish_box",object:"null"};h&&(J.app_id=h),t.object?(J.object=t.object,t.list&&(J.list=t.list)):m&&(J.link=e,delete J.object);var se=Object(P.makeUrl)("/like",J);cur.share={open:!0,onClose:befall(),go:K,options:t,externalShare:ae,actionBox:se,blocked:!1,updateHeights:Z,_els:{actionsPanel:Object(S.$)(".ActionsPanel"),messagePanel:Object(S.$)(".MessagePanel"),processingPanel:Object(S.$)(".ProcessingPanel"),groupsList:ge("ShareGroups"),conversationsList:ge("ShareConversations"),bookmarkButton:F,messageTextarea:W,header:k,content:I,bottom:B},selected:[],expandMessage:Y,toggleGroupsPanel:z,toggleConversationsSearch:Q,select:q,clearSearch:re,setActivePanel:G,onScroll:U,sendMessage:ne.bind(t),lastBottomHeight:B.clientHeight,destroy:function(e){void 0===e&&(e={}),e=extend({closeModal:!0,isFail:!0,isNavigation:!1},e),M.offCloseCallback(oe);var t=Object(S.$)(".ShareModal");e.isFail&&cur.app&&cur.app.vkMiniAppShareFail&&cur.app.vkMiniAppShareFail(),t&&e.closeModal&&E.default.close(t),cur.share&&(cur.share.onClose(e.isNavigation),cur.share.open=!1),cur.share.options.withoutScrollView||Object(C.restoreDocumentScroll)(),delete cur.share,delete cur.shareSearch,delete cur.shareGroupSearch}},f&&(cur.share.toOwnWall=f),setTimeout((function(){!function(){cur.shareGroupSearch=new QuickSearch;var e=Icon({icon:"chevron_right"});if(!cur.share.options.can_to_club)return;cur.shareGroupSearch.init({load_once:!0,field:"ShareHeaderGroupsSearchPanel__input",container:"ShareGroups",action:cur.share.actionBox,onFocusChanged:function(e){e?M.onOpen("top"):M.onClose(),setTimeout((function(){Z(!1)}),100)},tpl:function(e,t){return'<ul aria-hidden="true"  class="ScrollView ShareGroups__container ShareList__container" onscroll="cur.share.onScroll(this)">'+e+"</ul>"},item_tpl:function(t,n){if(!cur.share)return"";var r=function(){if(!cur.share)return{};var e=cur.share.actionBox+"ShareGroups";return QuickSearchCache[e]}()._cache[this.id][0],a=cur.share.options,i=a.object,o=a.list,s=a.from,c=a.post_from,u={act:"add",share_box:"1"};i&&(u=extend(u,{object:i,list:o,from:s,post_from:c})),cur.share.options.isVKApp&&(u.is_vk_app=+cur.share.options.isVKApp);var l=Object(P.makeUrl)("/wall"+this.id,u);return'\n        <li aria-label="'+r+'" tabindex="0" role="link" id="group'+this.id+'" onclick="cur.share.go(\''+l+"', "+cur.share.options.isVKApp+')" class="inline_item " xmlns="http://www.w3.org/1999/html">\n          <img aria-hidden="true" class="ii_img" src="'+n+'" />\n          <div class="ii_body">\n            <div class="ii_owner">\n               '+this.highlight(r)+'\n            </div>\n            <div class="ii_go">\n               '+e+"\n            </div>\n          </div>\n        </li>\n      "},null_tpl:function(e){var t=getLang("mobile_groups_no_groups_found");return e||(t=getLang("mobile_share_list_no_groups")),'<div class="service_msg_box"><div class="service_msg service_msg_null">'+t+"</div></div>"}})}()}),300),te(l),Z(),k.closest(".Share").focus(),onBodyResize((function(){document.activeElement&&"INPUT"===document.activeElement.tagName?Z(!0):Z(!1),setTimeout((function(){$(!0)}),150)})),onBodyResize(!0)}else console.warn("Can't share link outside miniapp")};window.Share=ce,extend(window.Share,{setBookmarkState:se});t.default=O},BoyB:function(e,t,n){"use strict";n.r(t);var r=n("TYsd"),a=n("z9sQ"),i=n("Y6JH"),o=n("/0lW"),s=function(e){void 0===e&&(e={});var t=[e.class||e.mix,a.default.class("Loading",{white:e.white,large:e.large,spinner:e.spinner})];if(e.spinner)return r.default.html({inner:[Object(i.default)({icon:Object(o.getSpinner16Icon)()})],class:t,tag:"div"});return r.default.html({class:t,inner:{class:"Loading__items",inner:[{class:"Loading__item Loading__item_0"},{class:"Loading__item Loading__item_1"},{class:"Loading__item Loading__item_2"}]}})};t.default=s;window.Loading=s},CQvH:function(e,t,n){"use strict";n.r(t),n.d(t,"isTabbing",(function(){return w})),n.d(t,"setFocusTrap",(function(){return A})),n.d(t,"setMenuNavigation",(function(){return O})),n.d(t,"expandPopup",(function(){return E})),n.d(t,"onTransitionEnd",(function(){return y})),n.d(t,"sayIt",(function(){return o}));var r=n("OcsD"),a=n("H5mD"),i=n("UxAg");function o(e,t){var n=(void 0===t?{}:t).important,r=void 0!==n&&n;if(e){Object(i.$$)('[id^="say-it-"]').forEach((function(e){document.body.removeChild(e)}));var a=document.createElement("span"),o=r?"alert":"status";a.setAttribute("aria-live",r?"assertive":"polite"),a.setAttribute("role",o),a.classList.add("visually-hidden"),a.id="say-it-"+Date.now(),document.body.appendChild(a),setTimeout((function(){a.innerHTML=e}),10)}}var s=function(){function e(e){var t=e.capacity,n=void 0===t?1:t;this._capacity=n,this.clear()}var t=e.prototype;return t.add=function(e){this._cursor>=this._capacity&&(this._cursor=0),this._buffer[this._cursor]=e,this._cursor++,this._size<this._capacity&&this._size++},t.clear=function(){this._buffer=Array(this._capacity),this._cursor=0,this._size=0},t.size=function(){return this._size},t.toArray=function(){return this._buffer},e}(),c=n("DM2o"),u=n("Cz26"),l=n("W9Tc");!function(){var e=new s({capacity:15}),t=new s({capacity:15}),n=new s({capacity:15}),r=new s({capacity:15}),a=null;if(window.addEventListener("mousemove",(function(){if(a){var t=Date.now()-a;t>500&&(t-500<500&&e.add(!1),a=null)}else a=Date.now()}),{capture:!0,passive:!0}),new u.Timers({timer:1e4}).add((function(){e.add(!0)})),window.addEventListener("touchstart",(function(e){if(e&&e.touches)if(e.touches.length>1)t.add(!1);else{if(1===e.touches.length){var n=e.touches[0];if(0!==n.radiusX&&0!==n.radiusY)return void t.add(!1)}t.add(!0)}}),{capture:!0,passive:!0}),window.addEventListener("click",(function(a){if(a&&a.target){var i=0===a.pageX&&0===a.pageY&&0===a.screenX&&0===a.screenY,o=a.target.getBoundingClientRect(),s=Math.abs(o.width/2+o.left-a.clientX)<2&&Math.abs(o.height/2+o.top-a.clientY)<2;if(i||s){n.add(!0);try{r.add(function e(t){if(t.id)return"#"+t.id;var n=t.tagName.toLowerCase(),r="";t.name&&(r+='[name="'+t.name+'"]');var a="";!r&&t.className&&(a=t.className.split(/ +/g).map((function(e){return"."+e})).join(""));var i="";if(!r)for(var o=0,s=0;s<t.parentNode.children.length;s++){var c=t.parentNode.children[s];if(c.tagName===t.tagName&&o++,t===c){i=":nth-of-type("+o+")";break}}var u=n+r+a+i;return t.parentNode===document.body?"body > "+u:e(t.parentNode)+" > "+u}(a.target)+"—"+s+"—"+i)}catch(e){}}else n.add(!1),r.add(!1);if(n.size()>3){var u=e.toArray().filter((function(e){return e})).length>=Math.round(e.size()/2),l=t.toArray().filter((function(e){return e})).length>=Math.round(t.size()/2),d=n.toArray().filter((function(e){return e})).length>=Math.round(n.size()/2);if(localStorage&&localStorage.getItem){var _=localStorage.getItem("isKeyboardUser1"),p=d&&l&&u,f=document.querySelector(".keyboardUser");f&&(p?(f.style.display="block",f.innerHTML=e.toArray().filter((function(e){return e})).length+"."+t.toArray().filter((function(e){return e})).length+"."+n.toArray().filter((function(e){return e})).length):f.style.display="none"),(p&&null===_||null!==_&&_!==String(p))&&(localStorage.setItem("isKeyboardUser1",p),Object(c.statlogsValueEvent)("accessibility","is_keyboard_user",p))}}}}),{capture:!0,passive:!0}),Object(l.partConfigEnabled)("mvk_show_a11y_box")){var i=window.onDOMReady||function(e){setTimeout(e,5e3)};i&&i((function(){if(document.body&&!document.querySelector(".keyboardUser")){var e=document.createElement("div");e.style.background="rgba(230,0,255,.7)",e.style.position="fixed",e.style.top="3px",e.style.right="3px",e.style.color="#fff",e.style.fontSize="10px",e.style.minWidth="8px",e.style.height="14px",e.style.lineHeight="14px",e.style.textAlign="center",e.style.border="1px solid rgba(255,255,255, 0.2)",e.style.display="none",e.style.zIndex=9999999999,e.innerHTML="K",e.style.padding="0 3px",e.className="keyboardUser";var t=document.createElement("textarea");if(t.style.position="fixed",t.style.opacity=.9,t.style.top=0,t.style.right=0,t.style.bottom=0,t.style.left=0,t.style.width="100%",t.style.padding="10px",t.style.zIndex=9999999,t.style.display="none",document.body.appendChild(t),e.addEventListener("click",(function(){t.innerHTML=r.toArray().join("\n\n"),"none"===t.style.display?t.style.display="block":t.style.display="none"})),document.body.appendChild(e),localStorage&&localStorage.getItem)"true"===localStorage.getItem("isKeyboardUser1")&&(e.style.display="block")}}))}}();var d=38,_=40,p=36,f=35,h=32,b=13,m=27,v=9,g=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]","[tabindex]"];function D(){document.body.classList.add("tabbing")}function w(){return document.body.classList.contains("tabbing")}function A(e){if(a.isIOS&&a.iosMajor>8)return!1;if(!e)throw new Error("A11y: No element passed to setFocusTrap");var t=Array.from(e.querySelectorAll(g.join()));if(!(t=t.filter((function(e){return null!==e.offsetParent}))).length)return!1;var n=t[0],r=t[t.length-1],i=k(e,(function(e){var t=e.event,a=e.exit;t.keyCode===v&&(t.shiftKey?document.activeElement===n&&(t.preventDefault(),r.focus()):document.activeElement===r&&(t.preventDefault(),n.focus())),t.keyCode===m&&a()}));return cur.destroy.push((function(){i()})),setTimeout((function(){n.focus()})),i}function O(e,t){void 0===t&&(t={});var n=void 0===t.enableInitialFocus||t.enableInitialFocus;if(a.isIOS&&a.iosMajor>8)return!1;if(!e)throw new Error("A11y: No element passed to setMenuNavigation");if(!["menu","menubar"].includes(e.getAttribute("role")))throw new Error('A11y: Element must be `role="menu"` or `role="menubar"`');var r=['[role="menu"]','[role="menubar"]'].join(),i=['[role="menuitem"]','[role="menuitemradio"]','[role="menuitemcheckbox"]'].join(),o=Array.from(e.querySelectorAll(r)),s=Array.from(e.querySelectorAll(i));if(o.forEach((function(e){Array.from(e.querySelectorAll(i)).forEach((function(e){s[s.indexOf(e)]=null}))})),!(s=(s=s.filter((function(e){return e}))).filter((function(e){return null!==e.offsetParent}))).length)return!1;if("menu"===e.getAttribute("role")&&!s.every((function(e){return"-1"===e.getAttribute("tabindex")})))throw new Error('A11y: Every `menuitem` must have `tabindex="-1" attribute`');var c=k(e,(function(e){var t=e.event,n=e.exit,r=document.activeElement,a=s[0],i=s[s.length-1||0],o=s.indexOf(r),c=s[o+1],u=s[o-1];t.keyCode===d&&(u?C(u,t):i&&C(i,t)),t.keyCode===_&&(c?C(c,t):a&&C(a,t)),t.keyCode===p&&a&&C(a,t),t.keyCode===f&&i&&C(i,t),t.keyCode!==h&&t.keyCode!==b||(n(),r.click(),t.preventDefault()),t.keyCode!==m&&t.keyCode!==v||n()}),{onExit:function(){}});return n&&setTimeout((function(){C(s[0])})),c}function E(e){if(!e)throw new Error("A11y: No element passed to expandPopup");if(!e.getAttribute("aria-haspopup"))throw new Error("A11y: No `aria-haspopup` attribute on expanded element");if(null==e.getAttribute("aria-expanded"))throw new Error("A11y: No `aria-expanded` attribute on expanded element");if(null==e.getAttribute("aria-controls"))throw new Error("A11y: No `aria-controls` attribute on expanded element");if(!document.getElementById(e.getAttribute("aria-controls")))throw new Error("A11y: No element that the `aria-controls` refers to. Try to call `expandPopup` _after_ appending a popup");return e.setAttribute("aria-expanded",!0),k(e,(function(e){var t=e.event,n=e.exit;t.keyCode===m&&n()}),{onExit:function(){e.setAttribute("aria-expanded",!1)}})}function y(e,t){return void 0===t&&(t=10),new Promise((function(n){var r=setTimeout((function(){e.removeEventListener("transitionrun",a),n()}),t),a=function t(){clearTimeout(r),e.removeEventListener("transitionrun",t);e.addEventListener("transitionend",(function t(){e.removeEventListener("transitionend",t),n()}),!1)};e.addEventListener("transitionrun",a,!1)}))}function C(e,t){t&&(D(),t.preventDefault());var n=!1;null!=e.getAttribute("tabindex")&&(n=!0),n||e.setAttribute("tabindex",0),e.focus(),setTimeout((function(){n||e.removeAttribute("tabindex")}))}function k(e,t,n){void 0===n&&(n={}),e._enteredA11yElementKeyDownHandler&&document.removeEventListener("keydown",e._enteredA11yElementKeyDownHandler);var a=document.activeElement,i=!1;function o(t){if(t&&o.exitIntent&&!1===o.exitIntent(t))t.preventDefault();else if(!i){i=!0;var c=Object(r.scrollTop)(),u=Array.from(e.querySelectorAll(g.join()));document.activeElement&&!u.includes(document.activeElement)||(a&&C(a),Object(r.scrollTop)(c)),document.removeEventListener("keydown",s),n.onExit&&n.onExit()}}function s(e){e.ctrlKey||e.altKey||e.metaKey||t({event:e,exit:o.bind(null,e)})}return document.addEventListener("keydown",s),e._enteredA11yElementKeyDownHandler=s,o}addEvent(window,"keydown",(function(e){e.keyCode===v&&D()}),{passive:!0}),addEvent(window,"mousedown touchstart",(function(){document.body.classList.remove("tabbing")}),{capture:!0,passive:!0}),document._buttonA11yFix||(document._buttonA11yFix=!0,document.addEventListener("keydown",(function(e){e.ctrlKey||e.altKey||e.metaKey||(e.keyCode!==b&&e.keyCode!==h||"button"!==e.target.getAttribute("role")||(e.target.click(),e.preventDefault()),e.keyCode!==h||"checkbox"!==e.target.getAttribute("role")&&"radio"!==e.target.getAttribute("role")||(e.target.click(),e.preventDefault()))})))},Cbap:function(e,t,n){"use strict";n.r(t);var r=function(){function e(){this.routes=[]}e.getRouter=function(){return window.router||(window.router=new e),window.router};var t=e.prototype;return t.addRoute=function(e,t,n){this.routes.push({isActive:!1,test:e,activateCallback:t,deactivateCallback:n})},t.test=function(e){var t=e.test;if(nav.cur)return"function"==typeof t?t(window.nav.cur):t instanceof RegExp?t.test(window.nav.cur):!(!window.nav.cur||"string"!=typeof t)&&window.nav.cur.startsWith(t)},t.deactivateAllRoutes=function(){this.routes=this.routes.map((function(e){return e.isActive=!1,e.deactivateCallback&&e.deactivateCallback(),e}))},t.checkRoutes=function(){var e=this;this.routes=this.routes.map((function(t){var n=e.test(t);return n&&t.activateCallback&&t.activateCallback(),!n&&t.isActive&&t.deactivateCallback&&t.deactivateCallback(),t.isActive=n,t}))},e}();t.default=r,window.Router=r},Cz26:function(e,t,n){"use strict";n.r(t),n.d(t,"Timers",(function(){return r}));var r=function(){function e(e){var t=e.timer,n=void 0===t?1e3:t,r=e.autostart,a=void 0===r||r;this._list=[],this._timer=n,this._autostart=a}var t=e.prototype;return t._animate=function(e){var t=!1;return function n(){t||requestAnimationFrame((function(){t||(e(),n())}))}(),function(){t=!0}},t.add=function(e,t){var n=(void 0===t?{}:t).id;this.remove(e),n?(this.remove(n),this._list.push({id:n,callback:e})):this._list.push({callback:e}),!this._cancellation&&this._autostart&&this.start()},t.remove=function(e){this._list="function"==typeof e?this._list.filter((function(t){return t.callback!==e})):this._list.filter((function(t){return t.id!==e}))},t.start=function(){var e=this,t=Date.now();return this._cancellation=this._animate((function(){var n=Date.now();t+e._timer<n&&(e._list.forEach((function(n){var r=t;Promise.resolve().then((function(){var t=Date.now()-(r+e._timer);n.callback(Math.floor(t/e._timer)+1)}))})),t=n)})),this._cancellation},t.stop=function(){return!!this._cancellation&&(this._cancellation(),this._list=[],!0)},e}()},GVTI:function(e,t,n){"use strict";n.r(t),n.d(t,"_PhotoviewPage_tags",(function(){return p}));var r=n("vOib"),a=n("rc7J"),i=n("fdw3"),o=n("29dZ"),s=n("vk58"),c=n("Q8gl"),u=n("O5lf"),l=n("vhZE");function d(e){var t="wi_like_wrap";e.liked_people||(t+=" is_empty");var n="PhotoviewPage__description";return e.photo.description||(n+=" PhotoviewPage__description--empty"),{inner:[e.photo.caption?{inner:[Wd.wrap(e.photo.caption)],class:"PhotoviewPage__caption",tag:"div"}:null,{inner:[Wd.wrap(e.photo.description)],class:n,tag:"div"},{inner:[e.liked_people?e.liked_people:null],class:t,tag:"div"},e.buttons?{inner:[{inner:[e.buttons],class:"wi_buttons",tag:"div"}],class:"wi_buttons_wrap",tag:"div"}:null,e.author,e.replies],class:"PhotoviewPage__footer",tag:"div"}}function _(e){var t=window.lang;return{inner:[{inner:[e.edit_data.rotate.can_rotate?Object(s.default)({inner:[Object(o.default)({inner:[t.mobile_photos_edit_rotate_left],url:e.edit_data.rotate.left,stretch:!0}),Object(o.default)({inner:[t.mobile_photos_edit_rotate_right],url:e.edit_data.rotate.right,stretch:!0})],nowrap:!0}):null,{inner:[{inner:[t.mobile_photos_edit_desc_label],class:"fi_label",tag:"dt"},{inner:[{inner:[e.photo.description],name:"text",class:"textfield",rows:"4",tag:"textarea"}],class:"iwrap",tag:"dd"}],class:"fi_row",tag:"dl"},{inner:[{inner:[t.mobile_photos_edit_album_label],class:"fi_label",tag:"dt"},{inner:[{inner:[e.edit_data.albums.map((function(e){return{inner:[e.name],selected:e.selected?"selected":null,value:e.id,tag:"option"}}))],name:"aid",tag:"select"},{inner:[Object(c.default)({withoutWrap:!0,name:"cover",label:t.mobile_photos_edit_cover_label,type:"checkbox"})],class:"fi_subrow",tag:"div"}],class:"iwrap",tag:"dd"}],class:"fi_row",tag:"dl"},{inner:[Object(s.default)({inner:[Object(o.default)({inner:[t.mobile_photos_edit_save_btn],type:"submit"}),Object(o.default)({inner:[t.mobile_cancel],theme:"link",url:e.edit_data.back_url})]})],class:"fi_row",tag:"div"}],action:e.edit_data.action,method:"post",tag:"form"}],class:"form_item",tag:"div"}}function p(e){return void 0===e&&(e=[]),{inner:[Object.keys(e).map((function(t){return{inner:[{class:"fill",tag:"div"}],class:"pv_tag",id:"pv_tag"+t,style:function(e){if(!Object(i.isArray)(e))return"";var t=e[0];return Object(i.isArray)(t)?"left: "+t[0]+"%; top: "+t[1]+"%; width: "+t[2]+"%; height: "+t[3]+"%":""}(e[t]),tag:"div"}}))],class:"PhotoviewPage__tags",tag:"div"}}var f=function(e){void 0===e&&(e={});var t=e.info||{},n=e.photo||{},o=e.is_loading||!1,s=e.navigation_buttons||{},c=Object(i.concatValues)("PhotoviewPage ",e.class);e.info&&(e.author=Object(a.default)({url:t.url,author_url:t.author_url,avatar:t.avatar,title:t.title,subtitle:t.subtitle,withoutBottomBorder:!e.has_replies})),e.photo||(e.photo={}),e.photo.description||(e.photo.description="");var f,h="",b=null;o&&(c=Object(i.concatValues)(c," PhotoviewPage--skeleton"),n.width?h+=" width"+e.width+"px;":b=Wd.wrap(Object(u.default)({mix:"al_loading",type:"pageLoader"})));var m=["PhotoviewPage__photo"];e.photo.restriction&&("block"===e.photo.restriction.type?m.push("PhotoviewPage__photo--block"):"blur"===e.photo.restriction.type&&m.push("PhotoviewPage__photo--blur")),f=[{src:n.src,style:h,tag:"img"},p(e.tags)];var v,g=!!e.photo.restriction;return g&&((v=e.photo.restriction).width=e.width,v.height=e.height||e.width),Object(r.default)({inner:[{inner:[{inner:[b||{inner:[f],class:m,href:n.href,tag:"a"},{inner:[Object(l.default)(v)],class:"PhotoviewPage__restrictedInfo",style:g?"":"display: none;",tag:"div"},s],class:"PhotoviewPage__thumb",tag:"div"},e.edit_mode?_(e):d(e)],id:e.photo.id,tag:"div"}],class:c})};t.default=f},GtpT:function(e,t,n){"use strict";n.r(t),n.d(t,"getDataFromDOM",(function(){return c}));var r=n("Y6JH"),a=n("HaOv"),i=n("xTMR");var o=function(e){var t,n=e.album,o=n.url,s=n.title,c=n.photos_count_label,u=n.restriction,l="AlbumItem al_album";n.thumb?t=n.thumb:u||(l+=" AlbumItem--empty");var d,_="";if(u){var p={};p[u.type]=!0,_=Bem.class("AlbumItem__restriction",p,"--")}if(u&&"geo"===u.type)d={inner:[{inner:[Object(r.default)({icon:Object(a.getDoNotDisturbOutline56Icon)()})],class:_,tag:"div"}],class:"AlbumItem__thumb",tag:"div"};else{var f=[Bem.class("AlbumItem__thumb",{blur:u&&"blur"===u.type},"--")];d={inner:[u&&u.type?{inner:[Object(r.default)({icon:Object(i.getHideOutline56Icon)()})],class:_,tag:"div"}:null],class:f,"data-thumb-id":n.thumb_id,style:"background-image: url("+t+")",tag:"div"}}return{inner:[{inner:[d],class:"AlbumItem__thumbWrap",tag:"div"},{inner:[{inner:[s],class:"AlbumItemInfo__title",tag:"div"},{inner:[c],class:"AlbumItemInfo__subtitle",tag:"div"}],class:"AlbumItemInfo",tag:"div"}],href:o,class:l,onclick:e.onClick,tag:"a"}},s=n("OcsD");function c(e){if(!e.classList.contains("AlbumItem"))return{};var t=Object(s.val)($(".AlbumItemInfo__title",e))||"",n=Object(s.val)($(".AlbumItemInfo__subtitle",e))||"",r=e.getAttribute("href"),a=$(".AlbumItem__thumb",e),i=/url\("(.*)"\)/.exec(a.style.backgroundImage),o=!!i&&i[1],c=$(".AlbumItem__restriction",e),u=!1;return c&&(c.classList.contains("AlbumItem__restriction--blur")?u={type:"blur"}:c.classList.contains("AlbumItem__restriction--geo")&&(u={type:"geo"})),{album:{title:Wd.wrap(t),photos_count_label:n,url:r,thumb:o,restriction:u},onClick:e.getAttribute("onclick")}}t.default=o},H5mD:function(e,t,n){"use strict";n.r(t),n.d(t,"IPHONE_SAFARI_BOTTOM_BAR",(function(){return i})),n.d(t,"IPHONE_X_SAFARI_BOTTOM_BAR",(function(){return o})),n.d(t,"IPHONE_KEYBOARD_REJECT_OFFSET",(function(){return s})),n.d(t,"IOS_NO_KEYBOARD_ALLOWED_OFFSET",(function(){return c})),n.d(t,"isIPad",(function(){return d})),n.d(t,"isIPhone",(function(){return _})),n.d(t,"isIOS",(function(){return p})),n.d(t,"isIPadOS",(function(){return l})),n.d(t,"iosMajor",(function(){return r})),n.d(t,"iosMinor",(function(){return a})),n.d(t,"isWKWebView",(function(){return b})),n.d(t,"isScrollBasedViewport",(function(){return h})),n.d(t,"isIPhoneX",(function(){return m})),n.d(t,"isIOSChrome",(function(){return v})),n.d(t,"isLandscapePhone",(function(){return g})),n.d(t,"checkIPadOS",(function(){return D}));var r,a,i=45,o=85,s=180,c=70,u=navigator.userAgent.toLowerCase(),l=D(u),d=l||-1!==u.indexOf("ipad"),_=!d&&-1!==u.search(/iphone|ipod/),p=_||d,f=p&&navigator.userAgent.match(/OS ([\d_]+) like Mac OS X/i);l&&(r=13,a=0),f&&(f=f[1].split("_"),r=+f[0],a=+f[1]),f=null;var h=r<13&&!(11===r&&a<3),b=p&&function(e){if(window.webkit&&window.webkit.messageHandlers)return!0;var t=/constructor/i.test(window.HTMLElement),n=!!window.indexedDB;if(-1===e.indexOf("safari")||-1===e.indexOf("version")||navigator.standalone){if(!n&&t||!window.statusbar||!window.statusbar.visible);else if(!t||n)return!0}else;return!1}(u),m=p&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio,v=-1!==u.search(/crios/i);function g(){return 90===Math.abs(window.orientation)&&!d}function D(e){var t=!/ipad|iphone|ipod/.test(e);return!(!/mac os/.test(e)||!t||"boolean"!=typeof navigator.standalone)}},I7Du:function(e,t,n){"use strict";n.r(t);var r=n("z9sQ");var a=function(e){void 0===e&&(e={});var t=e.on_change;return{class:[e.mix||e.class,r.default.class("Select",{disabled:e.disabled})],inner:[{class:"Select__native",tag:"select",name:e.name,disabled:e.disabled,onchange:e.nativeOnChange?e.onChange:t?["Select._onChange","this",t]:null,required:e.required,inner:e.options.map((function(e){return e?{class:"Select__option",tag:"option",value:e.value,selected:e.selected?"selected":null,inner:e.label,attrs:e.attrs}:null}))}]}};t.default=a},KiYr:function(e,t,n){"use strict";n.r(t);var r=n("LmmP");t.default=r.default},LmmP:function(e,t,n){"use strict";n.r(t),n.d(t,"Alert",(function(){return a}));var r=n("z9sQ");function a(e){return{inner:[e.title?{inner:[e.title],class:"Alert__title",tag:"div"}:null,{inner:[e.text||e.inner],class:"Alert__description",tag:"div"}],class:[e.class,r.default.class("Alert",{theme:e.theme})].join(" "),tag:"div"}}t.default=a},Mc5h:function(e,t,n){"use strict";n.r(t);var r=n("2IoG");t.default=r.default,window.Brick=r.default},O5lf:function(e,t,n){"use strict";n.r(t);var r=n("9y81"),a=n("Y6JH"),i=n("z9sQ"),o=n("Fbxv"),s=function(e){void 0===e&&(e={});var t=e.mix||"",n="pageLoader"===(e.type||"gray"),s=i.default.class("Spinner",{pageLoader:n,hidden:e.isHidden,fixed:e.isFixed},"--"),c=t+" "+s;if(n)return Wd.html({inner:[Object(a.default)(Object(o.getLoading40Icon)())],class:c,tag:"div"});return Object(r.default)({mix:c,icon:"spinner"})};var c=n("jE6c");var u={show:function(e){Object(c.isElement)(e)&&e.classList.remove("Spinner--hidden")},hide:function(e){Object(c.isElement)(e)&&(e.classList.contains("Spinner--hidden")||e.classList.add("Spinner--hidden"))}};Object.assign(s,u),window.Spinner=s;t.default=s},OGfC:function(e,t,n){"use strict";n.r(t);var r=n("JX7q"),a=n("dI71"),i=n("W9Tc");function o(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}var s=n("W0P9"),c=n("Xrg9"),u=function(){function e(e,t){var n=this;this.sw=e,this.SWClient=t,vk.id&&this.canBeEnabled().then((function(e){e&&(n.listenPermission(),n.loadEndpoint()&&n.update().then(n.checkMessageState.bind(n)))}))}e.getPermission=function(){return Notification.permission};var t=e.prototype;return t.cleanNotification=function(){this.sw.action("cleanNotification")},t.canBeEnabled=function(){return Promise.resolve(this.isSupported())},t.isSupported=function(){return"PushManager"in window&&"Notification"in window&&this.SWClient.isSupported()},t.loadEndpoint=function(){return c.default.get("push_notifier_endpoint"+vk.id)||!1},t.saveEndpoint=function(e){c.default.set("push_notifier_endpoint"+vk.id,e||!1)},t.action=function(e,t){return this.sw.action(e,t)},t._needupdate=function(e){var t=Date.now(),n=this.loadEndpoint(),r=c.default.get("push_notifier_subscribed_ts"+vk.id),a=!1;return(n!==e.endpoint||!r||t-r>6e4)&&(c.default.set("push_notifier_subscribed_ts"+vk.id,t),a=!0),a},t.listenPermission=function(){var e=this;Object(i.partConfigEnabled)("push_notifier")&&navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"notifications"}).then((function(t){t.onchange=function(){return e.update()}}))},t.update=function(){var t=this;return this.updatePermission().then((function(n){return n===e.PUSH_NOTIFIER_PERMISSION_GRANTED?t.subscribe().catch((function(t){t!==e.SUBSCRIBE_ERROR_NETWORK&&Object(s.error)("can not update subscribe")})):Promise.reject("premession_not_granted")})).catch(s.error)},t.updatePermission=function(){var t=e.getPermission();if(t!==e.PUSH_NOTIFIER_PERMISSION_GRANTED){var n=this.loadEndpoint();if(n)return this.unsubscribe(n).then((function(){return t}))}return Promise.resolve(t)},t.processSubscribe=function(t){return t.subscribe({userVisibleOnly:!0,applicationServerKey:o(e.SERVER_KEY)})},t.setupSubscription=function(){var t=this;return new Promise((function(n,r){var a=e.getPermission(),i=function(){t.subscribe(!0).then((function(){n()})).catch((function(){r()}))};a!==e.PUSH_NOTIFIER_PERMISSION_DENIED?a!==e.PUSH_NOTIFIER_PERMISSION_GRANTED?a===e.PUSH_NOTIFIER_PERMISSION_DEFAULT&&t.requestPermission().then((function(t){t===e.PUSH_NOTIFIER_PERMISSION_GRANTED?i():r()})):i():r(e.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS)}))},t.subscribe=function(t){var n=this;return this.sw.getRegistration().then((function(e){var t=e.pushManager;return t.getSubscription().then((function(e){if(e){var r=e.expirationTime;return r&&Date.now()>r-432e6?n.unsubscribe(n.loadEndpoint()).then((function(){return n.processSubscribe(t)})):e}return n.processSubscribe(t)}))})).then((function(r){return new Promise((function(a,i){if(t||n._needupdate(r)){var o=r.getKey("p256dh"),s=r.getKey("auth");window.ajax.post(e.SERVER_URL,{act:"a_subscribe",hash:n.sw.getParams().push_hash,endpoint:r.endpoint,key:o?btoa(String.fromCharCode.apply(null,new Uint8Array(r.getKey("p256dh")))):null,token:s?btoa(String.fromCharCode.apply(null,new Uint8Array(r.getKey("auth")))):null},{onDone:function(e){e?(n.saveEndpoint(r.endpoint),a()):i()},onFail:function(){return i(e.SUBSCRIBE_ERROR_NETWORK),!0}})}else a()}))}))},t.unsubscribe=function(t){var n=this;return this.sw.register().then((function(r){return r.pushManager.getSubscription().then((function(r){return r?r.unsubscribe().then((function(r){return r?new Promise((function(r,a){ajax.post(e.SERVER_URL,{act:"a_unsubscribe",endpoint:t},{onDone:function(e){e?(n.saveEndpoint(!1),r()):a()}})})):Promise.reject("ERROR: can not unsubscribe")})):(n.saveEndpoint(!1),Promise.reject("ERROR: no subscription"))}))}))},t.requestPermission=function(){var t=e.getPermission();return t===e.PUSH_NOTIFIER_PERMISSION_DEFAULT?new Promise((function(e,t){var n=Notification.requestPermission((function(t){e(t)}));n instanceof Promise&&n.then(e,t)})):Promise.resolve(t)},t.checkMessageState=function(){var t=this;return new Promise((function(e){return setTimeout(e,5e3)})).then((function(){return t.action("getMessagesMetaData")})).then((function(t){return"object"==typeof t&&Object.keys(t).length?new Promise((function(n,r){window.ajax.post(e.SERVER_URL,{act:"a_update_messages_state",data:Object.entries(t)},{onDone:function(e){e?n(e):r("ERROR: act error")},onFail:function(){return r("ERROR: network error"),!0}})})):Promise.resolve({})})).then((function(e){try{return JSON.parse(e)}catch(e){return{}}})).then((function(e){return t.action("updateMessageNotifications",e)})).catch((function(e){return Object(s.error)(e)}))},e}();u.SERVER_KEY="BPrntRk2W1_ISFwlgY-vz9tQDg9i1oSQ3-N8xyjdbNAbIOdZIGFdh5FlO7zn730UwU9Sayoec-Fpqq4JZFTyv60",u.SERVER_URL="push_notifier",u.PUSH_NOTIFIER_PERMISSION_GRANTED="granted",u.PUSH_NOTIFIER_PERMISSION_DEFAULT="default",u.PUSH_NOTIFIER_PERMISSION_DENIED="denied",u.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS="BLOCKED_BY_BROWSER_SETTINGS",u.SUBSCRIBE_ERROR_NETWORK="SUBSCRIBE_ERROR_NETWORK";var l=u,d=n("PovR"),_=function(e){function t(t,n){var a;return a=e.call(this,t,n)||this,vk.id&&a.canBeEnabled().then((function(e){e&&(a.updateHeadClass(),a.handlerMessagesLP=a.handlerMessagesLP.bind(Object(r.default)(a)),page.onChange((function(){return a.updateHeadClass()})))})),a}Object(a.default)(t,e);var n=t.prototype;return n.canBeEnabled=function(){return e.prototype.canBeEnabled.call(this).then((function(e){return e?t.isNativeAppInstalled().then((function(e){return!e})):Promise.resolve(!1)}))},n.isSupported=function(){return e.prototype.isSupported.call(this)&&(browser.chrome||browser.mozilla)},n.updateHeadClass=function(){var e=l.getPermission();document.head&&(removeClass(document.head,"push_notifier_"+l.PUSH_NOTIFIER_PERMISSION_GRANTED),removeClass(document.head,"push_notifier_"+l.PUSH_NOTIFIER_PERMISSION_DENIED),removeClass(document.head,"push_notifier_"+l.PUSH_NOTIFIER_PERMISSION_DEFAULT),e&&addClass(document.head,"push_notifier_"+e),addClass(document.head,"push_notifier_supported"))},n.handlerMessagesLP=function(e,t){this.sw.action("removeMessageNotification",{peerId:t,msgId:e})},n.cleanNotification=function(){this.sw.action("cleanNotification")},n.removeLongPollListener=function(){this.lp&&this.lp.off(),this.lp=null},n.addLongPollListener=function(){window.isNewMail&&window.isNewLongpoll&&!this.lp&&(this.lp=window.im.onMsgReadByMe(this.handlerMessagesLP))},t.isNativeAppInstalled=function(){var e=Date.now(),n=c.default.get(t.PUSH_NOTIFIER_LS_KEY_RELATED_APPS_TS),r=c.default.get(t.PUSH_NOTIFIER_LS_KEY_RELATED_APPS);return new Promise((function(a){null!==r&&n&&e-n<t.PUSH_NOTIFIER_LS_TTL_RELATED_APPS?a(!!r):"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((function(n){var r=Object.values(n).some((function(e){return"com.vkontakte.android"===e.id}));c.default.set(t.PUSH_NOTIFIER_LS_KEY_RELATED_APPS_TS,e),c.default.set(t.PUSH_NOTIFIER_LS_KEY_RELATED_APPS,r),a(r)})).catch((function(){a(!1)})):a(!1)}))},n.update=function(){var t=this;return e.prototype.update.call(this).then((function(){t.updateHeadClass(),t.addLongPollListener()}))},n.unsubscribe=function(t){var n=this;return e.prototype.unsubscribe.call(this,t).then((function(){return n.removeLongPollListener()}))},t}(l);_.PUSH_NOTIFIER_LS_KEY_RELATED_APPS="push_notifier_related_apps",_.PUSH_NOTIFIER_LS_KEY_RELATED_APPS_TS="push_notifier_related_apps_ts",_.PUSH_NOTIFIER_LS_TTL_RELATED_APPS=d.HOUR/2;t.default=_},PU8N:function(e,t,n){"use strict";n.r(t),n.d(t,"isMvk",(function(){return a})),n.d(t,"getVideoDuration",(function(){return i})),n.d(t,"getMediaBlob",(function(){return o})),n.d(t,"getBlobType",(function(){return s})),n.d(t,"noop",(function(){return c})),n.d(t,"getAverageRGB",(function(){return u})),n.d(t,"loadImage",(function(){return l})),n.d(t,"loadImages",(function(){return d})),n.d(t,"loadFontFace",(function(){return _})),n.d(t,"loadFontFacePromise",(function(){return p})),n.d(t,"getCroppedImage",(function(){return f}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function a(){return!!window.isMVK}function i(e){return void 0===e&&(e=""),new Promise((function(t,n){var r=document.createElement("video");r.addEventListener("loadedmetadata",(function(){return t(r.duration)}),{once:!0}),r.addEventListener("error",n,{once:!0}),r.crossOrigin="anonymous",r.preload="metadata",r.src=e}))}function o(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){if(404===r.response.status)return n();t(r.response)},r.onerror=n,r.send()}))}function s(e){try{return e.type.split("/").splice(-1)[0]}catch(e){return null}}var c=function(){};function u(e){var t,n={r:0,g:0,b:0};try{t=e.getImageData(0,0,e.canvas.width,e.canvas.height)}catch(e){return n}for(var r=-4,a=0;(r+=20)<t.data.length;)++a,n.r+=t.data[r],n.g+=t.data[r+1],n.b+=t.data[r+2];return n.r=~~(n.r/a),n.g=~~(n.g/a),n.b=~~(n.b/a),n}function l(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin=e.startsWith("data:")?null:"Anonymous",r.onerror=function(){return n(new Error("Failed to load image's URL: "+e))},r.onload=function(){return t(r)},r.src=e}))}var d=function(e){return new Promise((function(t){var n=e.map((function(e){return l(e)}));Promise.all(n).then((function(e){return t(e)})).catch((function(){}))}))};function _(e,t){var n,r,a,i,o,s,c,u,l={normal:"400",500:"500",600:"600",bold:"700"},d={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},_={display:"block","font-size":"48px","line-height":"normal","font-variant":"normal","white-space":"nowrap",position:"absolute",visibility:"hidden",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0"};function p(e){var t=[];return each(e,(function(e,n){t.push(e+":"+n)})),t.join(";")}function f(e,t,n){return Math.abs(e.width-t.offsetWidth)>n||Math.abs(e.height-t.offsetHeight)>n}function h(){i||(utilsNode.appendChild(o),i=!0,a={sansSerif:{width:c.offsetWidth,height:c.offsetHeight},serif:{width:s.offsetWidth,height:s.offsetHeight}},browser.opera&&!browser.chrome?(c.style.fontFamily='"'+e+'", sans-serif',s.style.fontFamily='"'+e+'", serif'):(setStyle(c,"font-family",'"'+e+'", sans-serif'),setStyle(s,"font-family",'"'+e+'", serif'))),i&&a&&(f(a.sansSerif,c,t.tolerance)||f(a.serif,s,t.tolerance))?(re(o),t.success()):(new Date).getTime()-r.getTime()>t.timeout?(re(o),t.error()):!i&&"requestAnimationFrame"in window?window.requestAnimationFrame(h):window.setTimeout(h,t.delay)}for(var b in d)t.hasOwnProperty(b)||(t[b]=d[b]);_["font-weight"]=t.weight,_["font-style"]=t.style,!t.glyphs&&"fonts"in document?(t.timeout&&(n=setTimeout((function(){t.error()}),t.timeout)),function(n){each(null===document||void 0===document?void 0:document.fonts,(function(r){r.family.toLowerCase()===e.toLowerCase()&&(l[r.weight]||r.weight)===""+t.weight&&r.style===t.style&&r.load().then((function(){t.success(),clearTimeout(n)}))}))}(n)):(u="AxmTYklsjo190QW"+t.glyphs,r=new Date,o=ce("div"),c=ce("div",{innerHTML:u}),s=ce("div",{innerHTML:u}),c.setAttribute("style",p(extend({"font-family":"sans-serif"},_))),s.setAttribute("style",p(extend({"font-family":"serif"},_))),o.appendChild(c),o.appendChild(s),h())}function p(e,t){return new Promise((function(n,a){_(e,r(r({},t),{glyphs:"",success:function(){var e=function(){n(),(null==t?void 0:t.success)&&t.success()};browser.safari?setTimeout(e,150):e()},error:function(){a(),(null==t?void 0:t.error)&&t.error()}}))}))}function f(e,t,n,r,a){return new Promise((function(i,o){("string"==typeof e?l(e):Promise.resolve(e)).then((function(e){var s=document.createElement("canvas");s.width=e.width,s.height=e.height;var c=s.getContext("2d");if(c){c.drawImage(e,0,0);var u=c.getImageData(t,n,r,a),d=document.createElement("canvas");d.width=r,d.height=a;var _=d.getContext("2d");if(_)return _.putImageData(u,0,0),l(d.toDataURL("image/jpeg",1)).then(i).catch(o);i(e)}else i(e)})).catch(o)}))}},"Po+v":function(e,t,n){"use strict";n.r(t),t.default=function(e){void 0===e&&(e={});var t=[];if(e.on_overlay_click_native)t=e.on_overlay_click_native;else{var n=!0;"boolean"==typeof e.hide_on_overlay_click&&(n=e.hide_on_overlay_click),t=["Popup._onOverlayClick","this",e.on_overlay_click||null,n]}e.content||(e.content=e.inner);return{id:e.id,class:[e.mix?e.mix:e.class,Bem.class("Popup",{open:e.open,scrollable:e.scrollable})],inner:[e.rel?e.rel:null,{class:"Popup__overlay",onclick:t},{class:"Popup__wrap",inner:{tag:"div",class:"Popup__content",role:"dialog","aria-modal":"true",inner:[e.header?{class:"Popup__header",inner:[e.header.title?{class:"Popup__headerTitle",inner:e.header.title}:null,e.header.corner?{class:["Popup__headerCorner",e.header.corner.class],inner:e.header.corner.text,href:e.header.corner.url,onclick:e.header.corner.onclick,attrs:e.header.corner.attrs}:null]}:null,e.scrollable?{class:"Popup__scroll ScrollView",inner:{class:"Popup__scrollContent",inner:e.content}}:e.content,e.footer?{class:"Popup__footer",inner:e.footer}:null]}}]}}},PovR:function(e,t,n){"use strict";n.r(t),n.d(t,"SECOND",(function(){return r})),n.d(t,"MINUTE",(function(){return a})),n.d(t,"HOUR",(function(){return i})),n.d(t,"DAY",(function(){return o})),n.d(t,"PUSH_NOTIFIER_PERMISSION_GRANTED",(function(){return s})),n.d(t,"PUSH_NOTIFIER_PERMISSION_DEFAULT",(function(){return c})),n.d(t,"PUSH_NOTIFIER_PERMISSION_DENIED",(function(){return u}));var r=1e3,a=60*r,i=60*a,o=24*i,s="granted",c="default",u="denied"},Q8gl:function(e,t,n){"use strict";n.r(t),n.d(t,"Control_switcher",(function(){return u})),n.d(t,"Control_checkbox",(function(){return s})),n.d(t,"Control_radio",(function(){return c}));var r=n("OcsD"),a=n("z9sQ"),i=n("UWnA"),o=n("fdw3");function s(e){return l(Object(o.extend)(e,{type:"checkbox"}))}function c(e){return l(Object(o.extend)(e,{type:"radio"}))}function u(e){return l(Object(o.extend)(e,{type:"switcher"}))}function l(e){void 0===e&&(e={});var t,n=e.name,r=e.description,s=e.label||e.inner,c=e.type,u=e.checked,l=e.disabled,d=e.on_change||e.onChange,_=e.ariaHiddenLabel?e.ariaHiddenLabel:"true",p="value"in e?e.value:"1",f=[e.class||e.mix,a.default.class("Control",{type:c})],h=e.attrs||[];h=Object(o.extend)({onclick:!0},h),"switcher"===c&&(t="switch");var b=e.name+"_"+p+"_label",m={inner:[{id:e.input_id,class:"Control__native",name:n,value:p,checked:!!u&&"checked",disabled:!!l&&"disabled",type:"switcher"===c?"checkbox":c,onChange:d?["Control._onChange","this",d]:null,"aria-labelledby":s?b:null,role:t,tag:"input"},{class:"Control__icon",tag:"div"},{inner:[{inner:[s],id:b,"aria-hidden":_,tag:"span"},r?{inner:[r],class:"Control__description",tag:"div"}:""],class:"Control__label",tag:"div"}],tag:"div"}.inner;return e.withoutWrap?{inner:[m],class:f,attrs:h,tag:"label"}:(h.role="menuitem",Object(i.default)({inner:[m],tag:"label",class:f,attrs:h}))}var d=l,_=n("TYsd"),p={setChecked:function(e,t){void 0===t&&(t=!0);v(e).checked=t},isChecked:function(e){return v(e).checked}},f=p;p._onChange=m;var h=".Control",b=".Control__native";function m(e,t){_.default.handle(t,{$control:e.closest(h),name:e.name,checked:e.checked,value:e.value})}function v(e){return e.$(b)}var g=Object(r.extend)(d,f);t.default=g;window.Control=g},Qz23:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"init",(function(){return v})),n.d(t,"preventDocumentScroll",(function(){return g})),n.d(t,"restoreDocumentScroll",(function(){return D})),n.d(t,"cleanDocumentViews",(function(){return w})),n.d(t,"allowScrolling",(function(){return A})),n.d(t,"setScrollView",(function(){return y})),n.d(t,"cleanScrollView",(function(){return C})),n.d(t,"hideTopBanner",(function(){return N})),n.d(t,"showTopBanner",(function(){return W}));var r,a,i,o,s,c,u,l=n("UxAg"),d=n("aiw/"),_=n("H5mD"),p=!0,f=!1,h="closed",b=!1,m=[];function v(e){b&&w(),g(e)}function g(e){void 0===e&&(e={}),_.isIOS&&(!0!==e.stack&&b||(u={initialized:!1,scrollViews:[]},m.push(u),e.layoutElement&&e.layoutElement.nodeType?u.layoutElement=e.layoutElement:u.layoutElement=Object(l.$)(e.layoutElement||".layout")),!1===e.topBanner?u.topBanner=!1:u.topBanner=!0,b||(b=!0,addEvent(window,"focusin",B),addEvent(window,"focusout",F),addEvent(document,"touchmove",x,{capture:!0}),addEvent(document,"touchmove",I,{capture:!1}),addEvent(window,"resize",j),d.onCloseCallback(L),_.isWKWebView||(addEvent(window,"orientationchange",S),requestAnimationFrame((function(){Object(_.isLandscapePhone)()?S(null,!0):(j(),u&&!u.topBanner?requestAnimationFrame(N):i||requestAnimationFrame(W))})))))}function D(){b&&(b=!1,w(),1===m.length&&(u.layoutOffset=null,H(),document.body.style.height=""),u.layoutElement=null,m.pop(),(u=m.length?m[m.length-1]:null)&&H(),removeEvent(window,"focusin",B),removeEvent(window,"focusout",F),removeEvent(document,"touchmove",x,{capture:!0}),removeEvent(document,"touchmove",I,{capture:!1}),removeEvent(window,"resize",j),removeEvent(window,"orientationchange",S),removeEvent(window,"resize",P),removeEvent(window,"scroll",M),d.offCloseCallback(L))}function w(){u.scrollViews.forEach((function(e){return C(e)})),u.scrollViews=[]}function A(e){var t=e.currentTarget.__ScrollView;if("prevented"!==t.state){if(!("start"!==t.state||t.allowX&&t.allowY)){var n=Math.abs(t.startX-e.changedTouches[0].clientX),r=Math.abs(t.startY-e.changedTouches[0].clientY);if(!t.allowX&&n>r)return void(t.state="prevented");if(!t.allowY&&r>n)return void(t.state="prevented")}if("allowed"!==t.state&&(t.state="allowed"),p=!1,!t.overscrollX){var a=e.currentTarget.scrollLeft,i=t.startX-e.changedTouches[0].clientX;(a<=0&&i<=0||a>=t.maxX&&i>=0)&&(p=!0,t.standalone&&e.preventDefault())}if(!t.overscrollY){var o=e.currentTarget.scrollTop,s=t.startY-e.changedTouches[0].clientY;(o<=0&&s<=0||o>=t.maxY&&s>=0)&&(p=!0,t.standalone&&e.preventDefault())}}}function O(e){var t=e.currentTarget,n=t.__ScrollView;n.state="start",n.startX=e.changedTouches[0].clientX,n.startY=e.changedTouches[0].clientY,n.maxX=n.overscrollX?null:t.scrollWidth-t.clientWidth,n.maxY=n.overscrollY?null:t.scrollHeight-t.clientHeight}function E(e){e.currentTarget.__ScrollView.state=""}function y(e,t){if(void 0===t&&(t={}),_.isIOS&&(!1!==t.override||!e.__ScrollView)){if(!0!==t.standalone){if(!b)return;e.__ScrollView||u.scrollViews.push(e)}e.__ScrollView={allowX:!1!==t.allowX,allowY:!1!==t.allowY,overscrollX:!1!==t.overscrollX,overscrollY:!1!==t.overscrollY,standalone:!0===t.standalone},u&&(_.isWKWebView||(!1!==t.topBanner&&(e.__ScrollView.topBanner=t.topBanner||{hide:30,show:60}),addEvent(e,"scroll",k))),addEvent(e,"touchstart",O),addEvent(e,"touchmove",A),addEvent(e,"touchend",E)}}function C(e){e.__ScrollView=null,removeEvent(e,"touchstart",O),removeEvent(e,"touchmove",A),removeEvent(e,"touchend",E),removeEvent(e,"scroll",k)}function k(e){if("closed"!==h||Object(_.isLandscapePhone)())return f=!1,void(o&&clearTimeout(o));f=!0;var t=e.target.__ScrollView.topBanner;u&&u.topBanner&&t?R(e.target,t.show,t.hide):R(e.target,1/0,0),o&&clearTimeout(o),o=setTimeout((function(){f=!1,j()}),100)}function j(){if(!f)if(c)c=!1;else if(!Object(_.isLandscapePhone)()){window.pageYOffset;"closed"===h&&(_.isWKWebView||(r=document.documentElement.offsetHeight,a=innerHeight,i=r===a,"show"===s?(s=null,requestAnimationFrame(W)):"hide"===s&&(s=null,requestAnimationFrame(N))))}}function S(e,t){_.isIPad?u.topBanner||setTimeout((function(){N()}),400):90===Math.abs(window.orientation)?(addEvent(window,"resize",P),document.body.style.height="",u.layoutHeight=null,t?setTimeout((function(){window.scrollTo(0,-300),P()})):setTimeout((function(){window.scrollTo(0,-300)}),400)):(removeEvent(window,"resize",P),u.layoutOffset=null,H(),u.topBanner||setTimeout((function(){N()}),400))}function P(){if("closed"===h){var e=document.body.offsetHeight,t=e-innerHeight;u.layoutOffset=t,H(),window.scrollTo(0,e)}}function M(){pageYOffset&&(h="opened",removeEvent(window,"scroll",M))}function x(e){p=!0}function I(e){p&&e.preventDefault()}function T(e){var t=e&&e.target,n=0===e.eventPhase&&t.getAttribute("autofocus"),r=!1;return"textarea"!==t.tagName.toLowerCase()||n||(r=!0),"input"!==t.tagName.toLowerCase()||["checkbox","radio","image","submit"].includes(t.type)||n||(r=!0),"select"===t.tagName.toLowerCase()&&(r=!0),r}function B(e){if(T(e)){var t,n=e&&e.target;h="opening",addEvent(window,"scroll",M),window.isCustomScroll&&(t=n.dataset.scrollviewposition),d.onOpen(t,{exitIfStarted:!0})}}function F(e){T(e)&&d.onClose({exitIfStarted:!0})}function L(){removeEvent(window,"scroll",M),h="closed",setTimeout((function(){Object(_.isLandscapePhone)()?P():j()}),100)}function R(e,t,n){var r=e.scrollTop;r<=-t&&(i||s)?(s="show",window.scrollTo(0,-10)):r>=n&&(!i||s)&&(s="hide",window.scrollTo(0,10))}function N(){window.scrollTo(0,300)}function W(){window.setImmediate?e((function(){window.scrollTo(0,-300)})):window.scrollTo(0,-300)}function H(){var e=u.layoutOffset;u.layoutElement.style.top=e?e+"px":""}}.call(this,n("URgk").setImmediate)},RQ7Z:function(e,t,n){"use strict";n.r(t),n.d(t,"screenfull",(function(){return r}));var r=function(){var e=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,a=n.length,i={};r<a;r++)if((e=n[r])&&e[1]in document){for(r=0,t=e.length;r<t;r++)i[n[0][r]]=e[r];return i}return!1}(),t={request:function(t){var n=e.requestFullscreen;(t=t||document.documentElement)[n]()},exit:function(){document[e.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:e};return!!e&&(Object.defineProperties(t,{isFullscreen:{get:function(){return Boolean(document[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[e.fullscreenEnabled])}}}),t)}()},"S6+Z":function(e,t,n){"use strict";n.r(t),n.d(t,"emojiRegex",(function(){return r})),n.d(t,"skinToneModifierRegex",(function(){return a})),n.d(t,"EMOJI_PREFIXED_REPLACES",(function(){return i})),n.d(t,"EMOJI_REPLACES",(function(){return o})),n.d(t,"EMOJI_HINTS",(function(){return s}));var r=function(){return/(?:\uD83C\uDFF4)(?:(?:\uDB40\uDC67)(?:\uDB40\uDC62)(?:(?:\uDB40\uDC65)(?:\uDB40\uDC6E)(?:\uDB40\uDC67)|(?:\uDB40\uDC77)(?:\uDB40\uDC6C)(?:\uDB40\uDC73)|(?:\uDB40\uDC73)(?:\uDB40\uDC63)(?:\uDB40\uDC74))(?:\uDB40\uDC7F)|\u200D\u2620\uFE0F?)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC68)(?:\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D)?(?:\uD83D\uDC68)|(?:\uD83D[\uDC68\uDC69])\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D(?:\uD83D[\uDC68\uDC69])|(?:\uD83D[\uDC68\uDC69]))|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:(?:\uD83D\uDC41)\uFE0F?\u200D(?:\uD83D\uDDE8)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:\uD83D\uDC68)(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F?|(?:\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]))\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|(?:\uD83D\uDC69)\u200D[\u2695\u2696\u2708])\uFE0F?|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC68)(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF]))|(?:\uD83C\uDFF3)\uFE0F?\u200D(?:\uD83C\uDF08)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)|(?:\uD83C\uDDF6)(?:\uD83C\uDDE6)|(?:\uD83C\uDDFD)(?:\uD83C\uDDF0)|(?:\uD83C\uDDF4)(?:\uD83C\uDDF2)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C\uDDED)(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|(?:\uD83C\uDDEC)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|(?:\uD83C\uDDEA)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|(?:\uD83C\uDDE8)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\uD83C\uDDF2)(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C\uDDF3)(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|(?:\uD83C\uDDFC)(?:\uD83C[\uDDEB\uDDF8])|(?:\uD83C\uDDFA)(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|(?:\uD83C\uDDF0)(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|(?:\uD83C\uDDEF)(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C\uDDF8)(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|(?:\uD83C\uDDEE)(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|(?:\uD83C\uDDFF)(?:\uD83C[\uDDE6\uDDF2\uDDFC])|(?:\uD83C\uDDEB)(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|(?:\uD83C\uDDF5)(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|(?:\uD83C\uDDE9)(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|(?:\uD83C\uDDF9)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|(?:\uD83C\uDDE7)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F?\u20E3|(?:\uD83C\uDDF1)(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|(?:\uD83C\uDDE6)(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:\uD83C\uDDF7)(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|(?:\uD83C\uDDFB)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|(?:\uD83C\uDDFE)(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g},a=/\uFE0F?\uD83C[\uDFFB-\uDFFF]/,i={e29da4:/(\s|^)([0OО]:\))([\s\.,]|$)/g,f09f9887:/(\s|^)(;-\)+)([\s\.,]|$)/g,f09f9889:/(\s|^)([XХxх]-?D)([\s\.,]|$)/g,f09f9886:/(\s|^)(B-\))([\s\.,]|$)/g,f09f988e:/(\s|^)(3-\))([\s\.,]|$)/g,f09f988c:/(\s|^)(&gt;\()([\s\.,]|$)/g,f09f98a0:/(\s|^)(;[oоOО])([\s\.,]|$)/g,f09f98b0:/(\s|^)(8\|)([\s\.,]|$)/g,f09f98b3:/(\s|^)(8-?[oоOО])([\s\.,]|$)/g,f09f98b2:/(\s|^)(8-\))([\s\.,]|$)/g,f09f988d:/(\s|^)(:[XХ])([\s\.,]|$)/g,f09f98b7:/(\s|^)(:[oоOО])([\s\.,]|$)/g,f09f98a8:/(\s|^)(&lt;3)([\s\.,]|$)/g},o={f09f988a:/(:-\))([\s\.,]|$)/g,f09f9883:/(:-D)([\s\.,]|$)/g,f09f989c:/(;-[PР])([\s\.,]|$)/g,f09f988b:/(:-[pр])([\s\.,]|$)/g,f09f9892:/(:-\()([\s\.,]|$)/g,e298ba:/(:-?\])([\s\.,]|$)/g,f09f988f:/(;-\])([\s\.,]|$)/g,f09f9894:/(3-?\()([\s\.,]|$)/g,f09f98a2:/(:&#039;\()([\s\.,]|$)/g,f09f98ad:/(:_\()([\s\.,]|$)/g,f09f98a9:/(:\(\()([\s\.,]|$)/g,f09f9890:/(:\|)([\s\.,]|$)/g,f09f98a1:/(&gt;\(\()([\s\.,]|$)/g,f09f989a:/(:-\*)([\s\.,]|$)/g,f09f9888:/(\}:\))([\s\.,]|$)/g,f09f918d:/(:like:)([\s\.,]|$)/g,f09f918e:/(:dislike:)([\s\.,]|$)/g,e2989d:/(:up:)([\s\.,]|$)/g,e29c8c:/(:v:)([\s\.,]|$)/g,f09f918c:/(:ok:|:ок:)([\s\.,]|$)/g},s={e29da4:[0,"<3"],f09f988a:[1,":-)"],f09f9883:[2,":-D"],f09f9889:[3,";-)"],f09f9886:[4,"xD"],f09f989c:[5,";-P"],f09f988b:[6,":-p"],f09f988d:[7,"8-)"],f09f988e:[8,"B-)"],f09f9892:[9,":-("],f09f988f:[10,";-]"],f09f9894:[11,"3("],f09f98a2:[12,":'("],f09f98ad:[13,":_("],f09f98a9:[14,":(("],f09f98a8:[15,":o"],f09f9890:[16,":|"],f09f988c:[17,"3-)"],f09f98a0:[18,">("],f09f98a1:[19,">(("],f09f9887:[20,"O:)"],f09f98b0:[21,";o"],f09f98b3:[22,"8|"],f09f98b2:[23,"8o"],f09f98b7:[24,":X"],f09f989a:[25,":-*"],f09f9888:[26,"}:)"],f09f918d:[27,":like:"],f09f918e:[28,":dislike:"],e2989d:[29,":up:"],e29c8c:[30,":v:"],f09f918c:[31,":ok:"]}},TYsd:function(e,t,n){"use strict";n.r(t),n.d(t,"_Wd_toFlatArray",(function(){return a})),n.d(t,"_Wd_innerItemToString",(function(){return i}));var r=n("1By4");t.default=r.default;var a=r.default._Wd_toFlatArray,i=r.default._Wd_innerItemToString;window.Wd=r.default},ToWQ:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VKApp",(function(){return VKApp}));var blueimp_md5__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("jYEY"),blueimp_md5__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(blueimp_md5__WEBPACK_IMPORTED_MODULE_0__),_mobile_lib_Url__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("j80l"),_mobile_skins_wall_Share__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("B9v3"),_shared_apps_xdm__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("lyAj"),_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4zn2"),_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("p8d5"),_shared_lib_screenfull__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("RQ7Z"),_shared_lib_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("jE6c"),_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("OcsD"),_skins_base_Btn_Btn_0__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("myok"),_shared_apps_connect_libs_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("d4g6"),HEADER_HEIGHT=44,DESKTOP_MIN_WIDTH=1200,VKApp=function e(t,n,r,a){if(r=r||{},n=n||{},window.parent&&window.parent!=window&&!n.checking)return!1;var i=this;if(this.cont=ge(t),this.cont){if(this.setPortraitScreenSizes(),r.hash=r.hash||"",-1!=r.hash.indexOf("#")){var o=r.hash.split("#").pop();window.vk&&(o||"").substr(0,1)==vk.navPrefix?r.hash="":r.hash=o}this.params=r,this.isDirectGame=n.is_direct_game,this.onReady=[];var s="";if(n.vkApp){s=n.vk_app_url;var c=n.hash_as_param,u=r.hash?""+r.hash:location.hash.substr(1);r.hash?u=r.hash:location.hash&&(u=location.hash.substr(1)),u&&(c&&(s+="&hash="+encodeURIComponent(u)),s+="#"+u)}else s=n.src;if(1===n.type&&!n.vkApp){var l=[];for(var d in r)"hash"===d?l.push(d+"="+encodeURIComponent(r[d])):l.push(d+"="+r[d]);s+=(-1===s.indexOf("?")?"?":"&")+l.join("&")}if(i.options=extend({heightMax:4500},n),this.funcs={onInit:function(){return n.heightSync&&i.RPC.callMethod("getHeight",(function(e){i.setHeight(e)})),i.inited||(i.inited=!0,a&&a(),i.inlineApp||i.onAppReady()),!0},ApiCall:function(e,t){var n=e.shift();i.api(n,e[0],t)},_getAppInfo:function(e){e([i.params.api_id,window.location.hash])},api:function(e,t,n){i.api(t,n,(function(t){i.apiCallback(e,t)}))},getLocationProtocol:function(e){e(location.protocol)},setLocation:function(e,t){e=e.toString(),cur.appLoc=e,t&&cur.app.runCallback("onLocationChanged",e),nav.setLoc(extend(nav.objLoc,{"#":e}))},showSettingsBox:function(e){if(!cur.settingsBoxShown){cur.onSettingsEventSended=!1,cur.canSendOnSettingsEventFromHide=!0,cur.onSettingsChange=function(e,t){cur.onSettingsEventSended||(cur.onSettingsEventSended=!0,"ok"===e?cur.app.runCallback("onSettingsChanged",t):cur.app.runCallback("onSettingsCancel"))},cur.settingsBoxShown=!0;var t={act:"show_settings",api_hash:cur.api_hash,aid:n.aid,mask:e};cur.lang_id&&(t.lang=cur.lang_id),n.gid&&(t.gid=n.gid),ajax.post("/apps.php",t,{onDone:function(e,t){showAppsBox(e,t)}})}},showAllowMessagesFromCommunityBox:function(e){if(!cur.allowMessagesFromCommunityBox){cur.allowMessagesFromCommunityBox=!0,cur.onAllowMessagesFromCommunity=function(e){"ok"===e?cur.app.runCallback("onAllowMessagesFromCommunity"):cur.app.runCallback("onAllowMessagesFromCommunityCancel")};var t={act:"allow_messages_from_community_box",aid:n.aid,api_hash:cur.api_hash};n.gid?t.gid=n.gid:t.gid=e,ajax.post("/apps.php",t,{onDone:function(e,t){showAppsBox(e,t)}})}},shareBox:function(t,r,a,i){e.showShareBox(cur.aid,cur.api_hash||"",cur.appShareParams.mail_hash,t,r,a,i,n.gid)},debug:function(){window.debugLog&&debugLog(1==arguments.length?arguments[0]:arguments)},openExternalApp:function(e,t,r){if(e){var a=i.isNativeClientWebView(),o=["pay-to-user","pay-to-service","pay-to-group","transfer-to-user","transfer-to-group","open-service","add-card","recurrent"],s=["pay-to-user","transfer-to-user"],c=["pay-to-group","transfer-to-group"],u=[],l="",d=cur.app.options.vkApp;if(t&&~o.indexOf(t.action))if(!~s.indexOf(t.action)||t.user_id)if(!~c.indexOf(t.action)||t.group_id)if("open-service"!==t.action||i.params.is_vkpay){if(t.aid=n.aid,Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__.isObject)(t.data))try{t.data=JSON.stringify(t.data)}catch(e){t.data=""}for(var _ in t)if(t.hasOwnProperty(_)&&(!a||"action"!==_)){var p="";void 0!==t[_]&&(p="object"==typeof t[_]?encodeURIComponent(JSON.stringify(t[_])):encodeURIComponent(t[_])),u.push(encodeURIComponent(_)+"="+p)}if(a){var f=i.isNativeIosWebView();f&&"vkpay"===e&&(e="web-view.vkpay.io"),e+="/"+t.action,f&&!/^https?:\/\//.test(l)&&(e="https://"+e)}if(l=e+"?"+u.join("&"),a)i.callNativeClientMethod("openExternalUrl",l);else{var h={act:"open_external_app",url:e,query:u.join("&"),aid:n.aid},b=window.open("","_blank");ajax.post("/apps.php",h,{onDone:function(e){try{e=JSON.parse(e)}catch(t){e={error:{error_code:1,error_msg:"Unknown error"}}}if(e.error||!e.url)return i.runCallback("onExternalAppFail",e.error),void b.close();if(!b){var t=e.url.split("#"),n=t[0],r=t[1];return n=(n=_mobile_lib_Url__WEBPACK_IMPORTED_MODULE_1__.default.make(n,{back:window.nav.cur.replace("act=app_r","")}))+"#"+r,void(window.location.href=n)}cur.onExternalAppDone=function(e){this.runCallback("onExternalAppDone",e)}.bind(i),cur.onExternalAppListener=function(e){var t=!("isTrusted"in e)||e.isTrusted;if(/https:\/\/((m|0)\.)?vk\.com/.test(e.origin)&&t&&cur.onExternalAppDone){~["externalAppDone","externalAppFail","closeApp"].indexOf(e.data.method)&&(window.focus(),"externalAppDone"===e.data.method&&cur.onExternalAppDone(e.data.params),"externalAppFail"===e.data.method&&i.runCallback("onExternalAppFail",e.data.error),"closeApp"===e.data.method&&i.runCallback("onExternalAppClose",e.data.error),cur.onExternalAppDone=null,window.removeEventListener("message",cur.onExternalAppListener),cur.onExternalAppListener=null)}},window.addEventListener("message",cur.onExternalAppListener),b.location.href=e.url}})}}else d?r({error_msg:"Invalid action",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM}):i.runCallback("onExternalAppFail",{error_msg:"Invalid action",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM});else d?r({error_msg:"Missing required param group_id",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM}):i.runCallback("onExternalAppFail",{error_msg:"Missing required param group_id",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM});else d?r({error_msg:"Missing required param user_id",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM}):i.runCallback("onExternalAppFail",{error_msg:"Missing required param user_id",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM});else d?r({error_msg:"Invalid action",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM}):i.runCallback("onExternalAppFail",{error_msg:"Invalid action",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM})}},externalAppDone:function(e){if(window.opener){var t={method:"externalAppDone",params:e};window.opener.postMessage(t,location.origin),window.close()}window.nav.tryBack()||window.nav.go("/feed")},externalAppFail:function(e){if(!Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__.isObject)(e))try{e=JSON.parse(e)}catch(t){e={error_msg:"Unknown error",error_code:1}}if(i.isNativeAndroidWebView())i.callNativeClientMethod("externalAppFail",e);else if(window.opener){var t={method:"externalAppFail",error:e};window.opener.postMessage(t,location.origin),window.close()}},closeApp:function(e){if(i.isNativeClientWebView())i.callNativeClientMethod("close");else{if(window.opener){if(e){window.opener.postMessage({method:"closeApp"},location.origin)}window.close()}window.nav.tryBack()||window.nav.go("/feed")}},openQRReader:function(){cur.app.isNativeClientWebView()&&cur.app.callNativeClientMethod("VKWebAppOpenQR")},sendStats:function(e){(Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__.isObject)(e)||isArray(e))&&(e=JSON.stringify(e)),ajax.post("/apps.php",{act:"save_stats",data:e,hash:cur.app.params.stats_hash,app_id:cur.aid},{onDone:function(){cur.app.runCallback("onSendStatsDone")},onFail:function(){return cur.app.runCallback("onSendStatsFail"),!0}})},showWallPostBox:function(e){if(!cur.wallPostBoxSubmit){if((e=e||{}).attachments=cur.app.getValidPostAttachments(e.attachments||e.attachment),!(e.message||e.attachments&&e.attachments.length)){var t={error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM,error_msg:"One of the parameters specified was missing or invalid"};return cur.app.runCallback("onShowWallPostBoxCancel",t),void(cur.wallPostBoxCallback&&cur.wallPostBoxCallback({error:t}))}if(cur.app.isNativeClientWebView()&&cur.app.nativeClientHasMethod("showWallPostBox"))return e=cur.app.isNativeAndroidWebView()?Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__.obj2qs)(e):e,void cur.app.callNativeClientMethod("showWallPostBox",e);e.app_id=cur.aid,e.act="show_wall_post_box",e.api_hash=cur.api_hash,cur.showWallPostBoxErrorHandler=function(e){cur.app.runCallback("onShowWallPostBoxCancel",e),cur.wallPostBoxCallback&&cur.wallPostBoxCallback({error:e}),hideAppsBox()},ajax.post("/apps.php",e,{onDone:function(e,t){showAppsBox(e,t)},onFail:function(){var e={error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.UNKNOWN,error_message:"Unknown network error occurred"};cur.showWallPostBoxErrorHandler(e)}})}},startHandleDeviceOrientation:function(e,t){var n,r;void 0!==window.DeviceMotionEvent||void 0!==window.DeviceOrientationEvent?(void 0!==window.DeviceOrientationEvent&&e&&(r=function(e){i.runCallback("onDeviceOrientation",e.absolute,e.beta,e.gamma,e.alpha)},addEvent(window,"deviceorientation",r)),void 0!==window.DeviceMotionEvent&&t&&(n=function(e){i.runCallback("onDeviceMotion",e.accelerationIncludingGravity.x,e.accelerationIncludingGravity.y,e.accelerationIncludingGravity.z)},addEvent(window,"devicemotion",n)),window.cur&&isArray(cur.destroy)&&cur.destroy.push((function(){r&&removeEvent(window,"deviceorientation",r),n&&removeEvent(window,"devicemotion",n)}))):i.runCallback("onDeviceOrientationNotSupported")},idle:function(){},unIdle:function(){}},i.options.no_init)return!1;if(this.isDirectGame){var _=Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)();"both"===i.options.orientation||i.options.orientation===_||window.screen.width>=DESKTOP_MIN_WIDTH?(i._initFrame(s),i._scrollOnOrientationChanged()):Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.onOrientationChanged)((function(){i._initFrame(s)})),this._initOrientationHandler()}else i._initFrame(s),i.options.rotate_handler&&this._initOrientationHandler();this.isNativeClientWebView()&&this.initNativeClientCallbackListener()}};function showAppsBox(e,t){var n=ge("apps_box");return hide(ge("apps_test_id")),n.innerHTML=e,show(n),t&&Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__.evalJs)(t),n}function hideAppsBox(e){var t=ge("apps_box");hide(t),t.innerHTML="",show(ge("apps_test_id"))}VKApp.prototype._scrollOnOrientationChanged=function(){if(Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)()===_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_LANDSCAPE){var e=parseFloat(window.browser.version);window.browser&&window.browser.iphone&&(e>=10&&e<11||"12.1.1"===window.browser.version)&&window.scrollTo(0,document.documentElement.scrollHeight)}},VKApp.prototype.onAppReady=function(){for(var e in this.onReady)this.onReady.hasOwnProperty(e)&&this.onReady[e]()},VKApp.prototype.initWallPostBox=function(e){var t,n,r;t=this.options.vkApp||this.isDirectGame?geByClass1("VkMiniAppDialogHeader__CancelButton"):geByClass1("appHeader__back"),e=e||{};var a=function(e){hideAppsBox(),e&&this.runCallback("onShowWallPostBoxCancel"),cur.wallPostBoxSubmit=null,t&&r&&n&&(t.onclick=n)}.bind(this);if(window.history){window.history.pushState({},"","");var i=a.bind(this,!0);addEvent(window,"popstate",i)}t&&(r=function(e){return cancelEvent(e),a(!0),!1},n=t.onclick,t.onclick=r),cur.wallPostBoxSubmit=function(t,n){delete e.act,_skins_base_Btn_Btn_0__WEBPACK_IMPORTED_MODULE_9__.default.setLoading(n.$btn,!0),this.api("wall.post",extend(e,{method_access:t}),function(e){cur.wallPostBoxCallback&&cur.wallPostBoxCallback(e),e.error?this.runCallback("onShowWallPostBoxCancel",e.error):this.runCallback("onShowWallPostBoxDone",e.response.post_id),a()}.bind(this))}.bind(this)},VKApp.prototype.submitWallPostBox=function(e,t){cur.wallPostBoxSubmit&&cur.wallPostBoxSubmit(e,t)},VKApp.prototype.getValidPostAttachments=function(e){var t=/(^https?:\/\/)|(^(poll|album|photo|video|doc|audio|page|note)-?\d+_-?\d+)$/,n=[];return e=e||[],isString(e)&&(e=e.split(",")),each(e,(function(){var e=this.trim();t.test(e)&&n.push(e)})),n.join(",")},VKApp.prototype.runCallback=function(){var e,t=Array.prototype.slice.call(arguments),n=t[0],r="customEvent";switch(-1!="onLocationChanged,onMerchantPaymentSuccess,onBalanceChanged,onWindowResized,onSettingsChanged".indexOf(n)?(r=n,e=t.slice(1)):e=t.slice(),this.options.type){case 1:if(this.RPC.callMethod("runCallback",t),!this.options.widget&&!browser.iphone&&!browser.ipad)try{this.externalFrame[r](e)}catch(e){}break;case 2:try{this.externalFrame[r](e)}catch(e){}break;case 3:try{this.externalFrame[r](e)}catch(e){}}(this.options.vkApp||this.isDirectGame)&&("onShowWallPostBoxCancel"===n&&cur.VKWebAppShowWallPostBoxErrorHandler&&cur.VKWebAppShowWallPostBoxErrorHandler(),"onShowWallPostBoxDone"===n&&cur.VKWebAppShowWallPostBoxSuccessHandler&&cur.VKWebAppShowWallPostBoxSuccessHandler(e))},VKApp.prototype.apiCallback=function(e,t){try{this.externalFrame.apiCallback(e,t)}catch(e){}},VKApp.prototype.setHeight=function(e){if(e){this.inlineApp&&e>this.options.heightMax&&(e=this.options.heightMax);var t=e+"px";this.frame.style.height=t,this.options.boxed||(this.cont.style.height=t),this.options.onResize&&this.options.onResize()}},VKApp.prototype.checkMethod=function(e,t,n){return"wall.post"!==e.toLowerCase()||(cur.wallPostBoxCallback=n,this.funcs.showWallPostBox(t),!1)},VKApp.prototype.checkMethodResult=function(e,t,n,r){switch(e){case"photos.saveProfilePhoto":if(!n.error)return cur.profilePhotoBoxCallback=function(e){r(e?{response:{photo_src:n.response.photo_src}}:{error:{error_code:10007,error_msg:"Operation denied by user"}}),window.profilePhotoBoxCallback=!1},cur.app.funcs.showProfilePhotoBox(n.response.photo_hash),!1}return!0},VKApp.prototype.onLocChanged=function(e){e||(e=""),cur.appLoc!=e&&(cur.appLoc=e,this.runCallback("onLocationChanged",e))},VKApp.prototype.api=function(method,inputParams,callback,captcha){var self=this;if(2==arguments.length&&(callback=params,inputParams={}),inputParams||(inputParams={}),captcha||inputParams.method_access||inputParams.method_force||this.checkMethod(method,inputParams,callback)){delete inputParams.callback,delete inputParams.access_token;var params={v:"5.95",api_id:this.params.api_id,method:method,format:"json",rnd:parseInt(1e4*Math.random())};if(inputParams)for(var i in inputParams)i=trim(i),/^(rnd|format|api[\s.\[_]id|method|callback|access[\s.\[_]token)(\s*\[|$)/.test(i)||(params[i]=inputParams[i]);var lParams=[];for(var _i in params)lParams.push([_i,params[_i]]);lParams.sort(sName);var sig=this.params.viewer_id;for(var _i2 in lParams)sig+=lParams[_i2][0]+"="+lParams[_i2][1];sig+=this.params.secret,params.sid=this.params.sid,params.sig=blueimp_md5__WEBPACK_IMPORTED_MODULE_0___default()(sig);var done=function done(text){var response=eval("("+text+")");if(response.error&&14==response.error.error_code)throw Error("You call api often. You can try call from server");self.checkMethodResult(method,inputParams,response,callback)&&callback&&callback(response)},fail=function(){callback&&callback({error:{error_code:1,error_message:"Unknown network error occurred"}})};ajax.plainpost(self.params.api_script,params,done,fail)}function sName(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0}},VKApp.prototype.openAppInLayer=function(e,t){var n=window.open("","_blank");n?(n.location.href=e,t&&(cur.externalAppWin=n)):window.location.href=e},VKApp.prototype.hideVkAppPreload=function(){var e=geByClass1("AppPreloadInfo");e&&(e.classList.add("AppPreloadInfo--hidden"),geByClass1("app_container").classList.remove("app_container_hidden"))},VKApp.hideVkAppPreload=VKApp.prototype.hideVkAppPreload,VKApp.showShareBox=function(e,t,n,r,a,i,o,s){if(void 0===s&&(s=0),!r)return!1;var c={act:"share_box",aid:e,api_hash:t,url:r};a&&(c.image=a),i&&(c.title=i),o&&(c.description=o),s&&(c.gid=s);var u=function(){cur.share&&cur.share.destroy({isFail:!1,closeModal:!0}),ajax.post("/apps.php",c,{onDone:function(e,t){showAppsBox(e,t)}})};if(window.cur&&window.cur.app&&window.cur.app.isNativeClientWebView())u();else{var l={isVKApp:!0,mail_hash:n,can_bookmark:!1,can_to_own:!0,can_to_club:!1,withoutScrollView:!0,withoutHash:!0,targetOwnOnClick:u,appId:e,object:r};Object(_mobile_skins_wall_Share__WEBPACK_IMPORTED_MODULE_2__.init)(r,l)}},VKApp.prototype.showAppsBox=showAppsBox,VKApp.showAppsBox=VKApp.prototype.showAppsBox,VKApp.prototype.hideAppsBox=hideAppsBox,VKApp.hideAppsBox=VKApp.prototype.hideAppsBox,VKApp.prototype._initFrame=function(e){var t=this;if(self=this,!this.RPC){var n=this.options.vkApp?{}:this.funcs;switch(self.options.type){case 1:this.RPC=new window.fastXDM.Server(n,(function(e){return Object(_shared_apps_connect_libs_utils__WEBPACK_IMPORTED_MODULE_10__.filterPostMessageOrigin)(t.options,e)}));var r=this.getFrameHeight(),a={src:e,width:"100%",overflow:"hidden",scrolling:"yes"};self.options.vkApp||self.isDirectGame||(a.height=r+"px"),self.options.height&&(a.height="100%");var i='webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" allow="geolocation; microphone; camera; autoplay"';this.options.iframe_background_color&&(i+=' style="background-color: '+this.options.iframe_background_color+';"'),this.frame=this.RPC.append(self.cont,a,i),this.frame.style.display="block"}cur.destroy.push(function(){this.RPC&&this.RPC.destroy(),this._nativeClientCallbackListener&&removeEvent(window,"VKWebAppEvent",this._nativeClientCallbackListener)}.bind(this))}},VKApp.prototype._initOrientationHandler=function(){var e,t=this,n=function(){setTimeout((function(){if(!t.isDirectGame){var e=t.getFrameHeight();t.frame.height=e,t.frame.style.height=e+"px",t.frame.style.minHeight=e+"px"}}),300),t._handleDgAndroidKeyboard()};onBodyResize(n),this.isDirectGame&&(e=function(){var e=Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)();if(e!==_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_LANDSCAPE||"both"!==t.options.orientation&&t.options.orientation!==_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_LANDSCAPE)_shared_lib_screenfull__WEBPACK_IMPORTED_MODULE_6__.screenfull.isFullscreen&&_shared_lib_screenfull__WEBPACK_IMPORTED_MODULE_6__.screenfull.exit();else{try{_shared_lib_screenfull__WEBPACK_IMPORTED_MODULE_6__.screenfull.request()}catch(e){console.warn(e)}Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.lockOrientation)(e).catch((function(){}))}t.setPortraitScreenSizes(),t._scrollOnOrientationChanged()},Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.onOrientationChanged)(e)),window.cur&&window.cur.destroy.push((function(){e&&Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.onOrientationChanged)("__clear",e),onBodyResize("__clear",n)}))},VKApp.prototype.getFrameHeight=function(){var e;if(window.browser.iphone&&Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)()===_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_LANDSCAPE){var t=parseFloat(window.browser.version);t>=9&&t<11&&(e=document.documentElement.clientHeight-2*HEADER_HEIGHT)}else e=window.innerHeight;return window.cur&&window.cur.with_header&&(e-=HEADER_HEIGHT),e},VKApp.prototype._handleDgAndroidKeyboard=function(){if(this.isDirectGame){if(Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)()===_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_PORTRAIT&&!window.browser.ios&&window.screen.width===this.initWindowWidth&&window.screen.height===this.initScreenHeight){var e=document.querySelector(".AppLayout--directGame"),t=document.querySelector(".vkAppHeader"),n=document.querySelector(".GamesFlipOrientationScreen"),r=window.innerHeight+50<this.initWindowHeigth;e&&t&&(e.classList.toggle("AppLayout--portraitOrientationLock",r),t.classList.toggle("vkAppHeader--portraitOrientationLock",r),n&&n.classList.toggle("GamesFlipOrientationScreen--portraitOrientationLock",r))}}},VKApp.prototype.setPortraitScreenSizes=function(){var e=this;this.initWindowHeigth&&this.initWindowWidth&&this.initScreenHeight||Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)()!==_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_PORTRAIT||setTimeout((function(){e.initWindowHeigth=window.innerHeight,e.initWindowWidth=window.innerWidth,e.initScreenHeight=window.screen.height}),200)},VKApp.prototype.callNativeClientMethod=function(e,t){if(window.AndroidBridge&&Object(_shared_lib_common__WEBPACK_IMPORTED_MODULE_7__.isFunction)(window.AndroidBridge.callMethod))window.AndroidBridge.callMethod(e,t);else{var n=window.webkit&&window.webkit.messageHandlers;n&&n[e]&&n[e].postMessage(t)}},VKApp.prototype.isNativeClientWebView=function(){return this.isNativeIosWebView()||this.isNativeAndroidWebView()},VKApp.prototype.nativeClientHasMethod=function(e){return!this.isNativeIosWebView()||!!window.webkit.messageHandlers[e]},VKApp.prototype.isNativeIosWebView=function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.openExternalUrl},VKApp.prototype.isNativeAndroidWebView=function(){return window.AndroidBridge},VKApp.prototype.initNativeClientCallbackListener=function(){this._nativeClientCallbackListener=function(e){var t=e.detail||{};this[t.type]&&this[t.type].call(this,t)}.bind(this),addEvent(window,"VKWebAppEvent",this._nativeClientCallbackListener)},VKApp.prototype.appRunCallback=function(e){this.runCallback(e.event,e.data)},VKApp.prototype.VKWebAppQRDone=function(e){this.runCallback("onQRReaderDone",e.data)},VKApp.prototype.VKWebAppQRClosed=function(e){this.runCallback("onQRReadeClosed",e.data)},VKApp.prototype.VKWebAppShowWallPostBoxDone=function(e){this.runCallback("onShowWallPostBoxDone",e.data),cur.wallPostBoxCallback&&cur.wallPostBoxCallback({response:{post_id:e.data}})},VKApp.prototype.VKWebAppShowWallPostBoxCancel=function(e){this.runCallback("onShowWallPostBoxCancel",e.data),cur.wallPostBoxCallback&&cur.wallPostBoxCallback({error:e.data})},VKApp.prototype.VKWebExternalAppClose=function(){this.runCallback("onExternalAppClose")},VKApp.callNativeClientMethod=VKApp.prototype.callNativeClientMethod},TxR4:function(e,t,n){"use strict";n.r(t),n.d(t,"emojiSymbolToByteHex",(function(){return a})),n.d(t,"emojiByteHexToSymbol",(function(){return i})),n.d(t,"emojiRemoveSkinToneModifiers",(function(){return o}));var r=n("S6+Z");function a(e){return encodeURIComponent(e.replace(/\uFE0F/gi,"")).replace(/%/gi,"").toLowerCase()}function i(e){var t,n=e.length%2==1,r=n?e.slice(0,1):"",a=n?e.slice(1):e,i="";try{i=decodeURIComponent("%"+(t=a,t.split("").reduce((function(e,t,n){return e+t+((n+1)%2==0?" ":"")}),"").trim().split(/\s+/)).join("%"))}catch(e){}return r+i}function o(e){return e.replace(Object(r.emojiRegex)(),s)}function s(e){return e.replace(r.skinToneModifierRegex,"")}},UWnA:function(e,t,n){"use strict";n.r(t);var r=n("WWoJ");n.d(t,"RowLabeledSelect",(function(){return r.RowLabeledSelect})),n.d(t,"RowLabeledInput",(function(){return r.RowLabeledInput})),t.default=r.default},UvyM:function(e,t,n){"use strict";n.r(t);var r=n("z9sQ"),a=n("BoyB"),i=n("TYsd"),o=n("fdw3");t.default=function(e){void 0===e&&(e={});var t=e.url,n=e.is_icon,s=e.icon,c=e.tag||"button",u=e.on_click||e.onClick||e.onclick,l=e.use_native_onclick,d=e.inner||e.children;Object(o.isArray)(d)&&1===d.length&&"string"==typeof d[0]&&(d=d[0]);var _=!1;"function"==typeof u&&(l=!0,_=!0);u&&!l&&(u=["Btn._onClick","event","this",u]);var p={class:[e.class,r.default.class("Btn",{theme:e.theme||"regular",size:e.size||"",stretch:e.stretch})],onclick:u,attrs:e.attrs,ref:e.ref};_&&(p.onClick=u,delete p.onclick);var f=e.hide?"; display: none;":"",h=e.style?e.style+f:f,b=null;e.isLoading&&(p.class.push("Btn_loading"),b=i.default.wrap(Object(a.default)({mix:"Btn__loader",white:"secondary"===e.theme?"white":"",large:!0,spinner:e.spinner})));if(t)return Object(o.mergeObjects)(p,{_:i.default.getInternalData(),tag:"a",href:t,role:"button",style:h,inner:s?[{class:"Btn__icon",inner:s},{class:"Btn__text",inner:d}]:n?d:{class:"Btn__text",inner:d},target:(e.open_in_new_tab?"_blank":e.target)||""});var m=e.is_submit?"submit":null,v=e.type||m;return Object(o.mergeObjects)(p,{_:i.default.getInternalData(),"aria-label":e["aria-label"]||"",tag:c,style:h,disabled:e.disabled,type:v,inner:s?[b,{class:"Btn__icon",inner:s},{class:"Btn__text",inner:d}]:n?[b,d]:[b,{class:"Btn__text",inner:d}]})}},V4qE:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return C})),n.d(t,"close",(function(){return S})),n.d(t,"SNACKBAR_POSITION_COMMON",(function(){return m})),n.d(t,"SNACKBAR_POSITION_MAIL",(function(){return v})),n.d(t,"SNACKBAR_TYPE_SUCCESS",(function(){return w})),n.d(t,"SNACKBAR_TYPE_ERROR",(function(){return A})),n.d(t,"SNACKBAR_TYPE_BOOKMARK",(function(){return O})),n.d(t,"SNACKBAR_TYPE_BULLYING",(function(){return E}));var r=n("z9sQ"),a=n("29dZ"),i=n("Y6JH"),o=n("fdw3"),s=n("xlrz"),c=n("XJmI"),u=n("EXPB"),l=n("0qaj"),d=function(e){void 0===e&&(e={});var t=e.position||"bottom",n=!(!e.type||e.image),d={class:r.default.class("SnackbarItem__cell",{left:!0,image:!!e.image,top:e.avatar&&"left"===e.avatar_position,icon:n})},_={class:r.default.class("SnackbarItem__cell",{right:!0,avatar:!!e.avatar})},p=!1,f=!1;if(e.type){p=!0;var h=null;switch(e.type){case 1:h=Object(i.default)(Object(s.getSnackbarDone24Icon)());break;case 2:h=Object(i.default)(Object(c.getSnackbarError24Icon)());break;case 3:h=Object(i.default)(Object(u.getFavorites24Icon)());break;case 4:h=Object(i.default)(Object(l.getErrorFill24Icon)())}d.inner={class:"SnackbarItem__icon",inner:h}}e.image&&(p=!0,d.inner={class:"SnackbarItem__image",inner:{tag:"img",src:e.image}});e.action&&(f=!0,_.inner=Object(a.default)({theme:"none",class:"SnackbarItem__action",url:e.action.url,target:e.action.target,on_click:e.action.onclick,use_native_onclick:!0,inner:Wd.wrap(e.action.text),attrs:e.action.attrs}));if(e.avatar){var b={tag:"img",class:"SnackbarItem__avatar",src:e.avatar};e.avatar_position&&"right"!==e.avatar_position?"left"===e.avatar_position&&(p=!0,d.inner=b):(f=!0,_.inner=b)}return{style:e.style?e.style:"",class:Object(o.concatValues)("SnackbarItem_"+e.id+" SnackbarItem--"+t+" ",r.default.class("SnackbarItem",{static:!!e.static,vertical:!!e.vertical,hasIcon:n},"--")),attrs:{"data-snackbar-id":e.id},inner:[{class:"SnackbarItem__table",inner:[p?d:null,e.text?{class:r.default.class("SnackbarItem__cell",{text:!0}),inner:{class:"SnackbarItem__text",inner:Object(o.isObject)(e.text)?e.text:Wd.wrap(e.text)}}:null,f?_:null]}]}};var _=n("OcsD"),p=n("UxAg"),f=n("kr3z"),h=n("zq7H"),b=n("ZMWW");window.Snackbar={init:C,close:S,_onActionClick:function(e,t){var n=D[t];if(!n)return void Object(_.hide)(t);var r=n.callback,a=n.url;r?"function"==typeof r?r.call(null,e,{id:t,url:a}):Wd.handle2(r,e,{id:t,url:a}):Object(_.hide)(t)},_onRestoreClick:function(e,t,n){var r=t.closest(".SnackbarItem"),a=Object(_.domData)(r,"snackbar-id"),i=D[a];e.stopPropagation(),e.preventDefault();var o=i.callback;o&&("function"==typeof o?o.call(null,e,{id:a,url:n}):Wd.handle2(o,e,{id:a,url:n}));S(a),f.default.click(n,null,{url_params:{_ajax:1,_snackbar:1}})}};var m="common",v="mail",g=0,D={},w=1,A=2,O=3,E=4,y=[];function C(e){if(!b.SAKIntegration.isIntegrated){var t=isFinite(e.duration)?e.duration:5e3,n=g++,r=e.action&&e.action.callback,a=e.action&&e.action.url;e.position=e.position||m;var i=e.position;e.id=n,r&&!e.action.onclick&&(e.action.onclick=["Snackbar._onActionClick","event",n]),e.bottom&&(e.style="bottom: "+e.bottom+"px");var o,s=Wd.elem(SnackbarItem(e));return function(e,t){if(t.position===m)Object(_.append)(e,document.body);else if(t.position===v){var n="msg"===window.store.mail.cur.page?Object(p.$)(".messenger__layer_page .messenger__header"):Object(p.$)(".messenger__layer_convo .messenger__header");Object(_.append)(e,n)}setTimeout((function(){e.classList.add("SnackbarItem_added")}),100)}(s,e),t&&(o=j(n,t)),Object(_.addEvent)(s,"touchstart",L,{passive:!0}),Object(_.addEvent)(s,"touchmove",R,{capture:!1}),Object(_.addEvent)(s,"touchcancel touchend",N,{passive:!0}),D[n]={id:n,timer:o,callback:r,url:a,duration:t,position:i},y.push(n),k(),n}b.SAKIntegration.sendMessage("show_snackbar",{type:e.type,text:e.text})}function k(){var e=(y=y.filter((function(e){var t=D[e],n=P(e);return!(!t||!n)}))).reduce((function(e,t){var n=D[t];return e[n.position]||(e[n.position]=[]),e[n.position].push(t),e}),{});Object.keys(e).forEach((function(t){var n=e[t],r=0,a=t===v?8:12;n.forEach((function(e,n){var i=P(e),o=Object(_.getH)(i);D[e].vertical=t===v?r:-r,_.setStyle.transform(i,1,[0,D[e].vertical]),r+=o+a}))}))}function j(e,t){return setTimeout((function(){S(e,!1)}),t)}function S(e,t){var n=D[e],r=P(e);n&&(n.timer&&clearTimeout(n.timer),delete D[e]),r&&function(e,t){if(Object(_.removeEvent)(e,"touchstart",L,{passive:!0}),Object(_.removeEvent)(e,"touchmove",R,{capture:!1}),Object(_.removeEvent)(e,"touchcancel touchend",N,{passive:!0}),t)return Object(_.remove)(e),void k();e.classList.add("SnackbarItem--closing");if(!e)return;e.classList.add("SnackbarItem_removed"),setTimeout((function(){Object(_.remove)(e),k()}),600)}(r,t)}function P(e){return Object(p.$)(".SnackbarItem_"+e)}onDOMReady((function(){onBodyResize(k)}));var M=!1,x=null,I=!1,T=0,B=!1,F=Object(_.getCw)();function L(e){if(F=Object(_.getCw)(),e.touches&&e.touches.length>1)M=!1;else{var t=e.target.closest(".SnackbarItem");t.classList.add("SnackbarItem--dragging");var n=Object(_.domData)(t,"snackbar-id");if(F>=h.DESKTOP_WIDTH&&(B=!0),D[n].position===v){B=!1;var r=Object(p.$)(".messenger");F=Object(_.getW)(r),D[n].parentXY=Object(_.getXY)(r)}else D[n].parentXY=Object(_.getXY)(bodyNode);D[n].timer&&clearTimeout(D[n].timer),x=e.touches[0],T=e.touches[0].clientX,M=!0,I=n,document.body.style.overflow="hidden"}}function R(e){var t=I;if(e.preventDefault(),e.touches&&e.touches.length>1)M=!1;else if(x&&M){var n=e.touches[0],r=e.target.closest(".SnackbarItem"),a=-(T-n.clientX);B&&(a=Math.min(a,0));var i=Object(_.getX)(r),o=(Object(_.getW)(r)+a)/2+i-D[t].parentXY[0],s=o>=.95*F||o<=F/.95-F;D[t].canClose=s,_.setStyle.transform(r,1,[a,D[t].vertical])}}function N(e){var t=e.target.closest(".SnackbarItem");t.classList.remove("SnackbarItem--dragging");var n=Object(_.domData)(t,"snackbar-id"),r=D[n];if(D[n].dragging=!1,I=!1,document.body.style.overflow="visible",r.canClose){var a=Object(_.getX)(t)>0?Object(_.getCw)():-Object(_.getCw)();return Object(_.getCw)()>=h.DESKTOP_WIDTH&&(a=Object(_.getX)(t)>Object(_.getCw)()/2?Object(_.getCw)():-Object(_.getCw)()),_.setStyle.transform(t,1,[a,D[n].vertical||0]),void S(n)}D[n].timer=j(n,r.duration),t&&_.setStyle.transform(t,1,[0,D[n].vertical||0])}t.default=d;window.SnackbarItem=d},VRji:function(e,t,n){"use strict";n.r(t),n.d(t,"initAutogrow",(function(){return o}));var r=n("fdw3");var a=function(e){return void 0===e&&(e={}),Object(r.extend)({tag:"textarea",class:["Textarea",e.mix],name:e.name,placeholder:e.placeholder,rows:e.rows?e.rows:3,inner:e.text,maxlength:e.maxlength},e.attrs)},i=n("OcsD");function o(e,t){void 0===t&&(t=3);var n=Object(i.ce)("span",{className:"Textarea__ghost"});Object(i.setStyle)(n,{width:e.clientWidth+"px",padding:Object(i.getStyle)(e,"padding"),lineHeight:Object(i.getStyle)(e,"line-height")}),n.innerText="_",Object(i.append)(n,e.parentNode);var r=n.clientHeight;Object(i.addEvent)(e,"input",(function(){var a=e.value.replace(/ /g,"&nbsp;").replace(/\n/g,"<br />");("\n"===Object(i.last)(a)||a.endsWith("<br />"))&&(a+="&nbsp;"),n.innerHTML=a,e.rows=Math.max(1,Math.min(t,Math.ceil(n.clientHeight/r)))}))}t.default=a},VzJG:function(e,t,n){"use strict";n.r(t),n.d(t,"rebuildNotifications",(function(){return s})),n.d(t,"recordClick",(function(){return c})),n.d(t,"showMenuItems",(function(){return u}));var r=n("UxAg"),a=n("TYsd"),i=n("dONA"),o=n("zq7H");function s(){var e=Object(r.$)(".MainMenu__menu");if(e){var t=store.menuNotifications;if(t){var n=Object(r.$)(".MainMenu__menuItem--apps .MainMenu__menuItemTitle",e);if(n){var s=Object(r.$)('[data-id="menu-apps-notification"]',n);!t[o.COUNTERS_POS_APPS]&&s&&s.remove(),t[o.COUNTERS_POS_APPS]&&!s&&(n.innerHTML+=a.default.render(Object(i.default)({id:"menu-apps-notification"})))}}}}function c(e){ajax.post("/",{act:"menu_item_click_record",menu_item:e})}function u(e){Object(r.$$)(".MainMenu__menuItem--hidden").forEach((function(e){e.classList.remove("MainMenu__menuItem--hidden")})),e.classList.add("MainMenu__menuItem--hidden")}},W0P9:function(e,t,n){"use strict";n.r(t),n.d(t,"log",(function(){return i})),n.d(t,"warn",(function(){return o})),n.d(t,"error",(function(){return s})),n.d(t,"debug",(function(){return c}));var r=n("W9Tc");function a(){return window.console&&Object(r.partConfigEnabled)("js_console_logs")}function i(){var e;a()&&(window.console.log&&(e=window.console).log.apply(e,arguments))}function o(){var e;a()&&(window.console.warn?(e=window.console).warn.apply(e,arguments):i.apply(void 0,arguments))}function s(){var e;a()&&(window.console.error?(e=window.console).error.apply(e,arguments):i.apply(void 0,arguments))}function c(){var e;a()&&(window.console.debug?(e=window.console).debug.apply(e,arguments):i.apply(void 0,arguments))}},WWoJ:function(e,t,n){"use strict";n.r(t),n.d(t,"Row",(function(){return u})),n.d(t,"RowBtn",(function(){return l})),n.d(t,"RowLabeledText",(function(){return d})),n.d(t,"RowLabeledInput",(function(){return _})),n.d(t,"RowLabeledSelect",(function(){return p}));var r=n("8ZMO"),a=n("p5n7"),i=n("I7Du"),o=n("9y81"),s=n("29dZ"),c=n("z9sQ");function u(e){void 0===e&&(e={});var t=e.anchor,n=e.attrs||{},a=e.style||{},i=e.url,s=e.count,u=i&&!a.no_go_icon&&!s,l=e.tag;l||(l=i?"a":"div");var d=null;return u?d=Wd.wrap(Object(o.default)({mix:"Row__right",icon:"chevron_right"})):s&&(d={inner:[s],class:"Row__right Row__count",tag:"div"}),{class:[e.mix||e.class,c.default.class("Row",{go:u,style_withBorder:a.with_border,style_withBorderForce:a.with_border_force,style_withHover:a.with_hover,style_smallPaddings:a.small_paddings,style_noPaddingTop:a.no_padding_top,style_noPaddingBottom:a.no_padding_bottom,style_tinyPaddingTop:a.tiny_padding_top,style_tinyPaddingBottom:a.tiny_padding_bottom,paddingTop_short:a.padding_top_short})],tag:l,href:i,attrs:n,role:e.role,inner:[t?Object(r.default)({id:t}):null,d,e.icon?{inner:[e.icon],class:"Row__icon "+e.icon_class,tag:"div"}:null,e.content||e.inner]}}function l(e){return u({content:Object(s.default)(e)})}function d(e){return f({anchor:e.anchor,url:e.url,label:e.label,content:e.text,is_mini:!0})}function _(e){return f({anchor:e.anchor,label:e.label,style:e.style,content:Object(a.default)(e)})}function p(e){return f({anchor:e.anchor,style:e.style,label:e.label,content:Object(i.default)(e)})}function f(e){return u({anchor:e.anchor,url:e.url,style:e.style,content:[h({is_mini:e.is_mini,label:e.label}),b({content:e.content})]})}function h(e){return{inner:[e.label],class:[c.default.class("Row__label",{mini:e.is_mini}),e.class||""].join(" "),tag:"div"}}function b(e){return{inner:[e.content],class:["Row__labeledContent",e.class||""].join(" "),tag:"div"}}t.default=u},Y6JH:function(e,t,n){"use strict";n.r(t);var r=n("fdw3");var a=function(e,t){var n,a;if(void 0===t&&(t=""),t){var i=Object(r.inlineIconResolver)(t);i&&(n=i.icon,a=i.name)}else Object(r.isObject)(e)&&(n=e.icon,a=e.name,Object(r.isObject)(e.icon)&&(n=e.icon.icon,a=e.icon.name));return{inner:[Wd.wrap(n)],"aria-hidden":"true",class:"svgIcon svgIcon-"+a,tag:"div"}};t.default=a;window.SVGIcon=a},"YU/R":function(e,t,n){"use strict";n.r(t),n.d(t,"ContextMenu",(function(){return i})),n.d(t,"ContextMenuItem",(function(){return o}));var r=n("OcsD"),a=n("wTbK");function i(e){return Object(a.default)({on_overlay_click:["return ContextMenu.close","this"],class:"ContextMenu",close:!0,onClose:["return ContextMenu.close","this"],items:[e.list?{tag:"ul",class:"ContextMenu__list",inner:e.withoutWrap?e.list:Wd.wrap(e.list)}:null]})}function o(e){return{inner:[{inner:[e.title],"data-ref":e.ref,href:e.href,target:e.target,class:"ContextMenu__listLink",onclick:e.onclick,tag:"a"}],class:"ContextMenu__listItem","data-name":e.name,tag:"li"}}var s=n("t7Ww"),c=n("UxAg"),u={open:function(e,t,n){void 0===n&&(n={});var r=e.closest(t),a=Object(c.$)(d,r);if(a)return a=s.default.open(a,n.appendToBody,"",{withoutPopupCloning:n.withoutPopupCloning}),l=function(){p(a)},nav.onBeforeGo(l),a;return!1},close:p},l=function(){},d=".ContextMenu",_=".ContextMenu.Popup_open";function p(e){return e||(e=Object(c.$)(".Popup_open.ContextMenu")||Object(c.$)(_)),e&&s.default.close(e),nav.onBeforeGo.off(l),!1}Object(r.extend)(i,u);t.default=i;window.ContextMenu=i},ZMWW:function(e,t,n){"use strict";n.r(t),n.d(t,"SAKIntegration",(function(){return a}));var r=n("Bm7g"),a={isIntegrated:!1,origin:"",name:"",type:"",onMessage:new(n("uQjJ").default),init:function(e){if(a.isIntegrated=!0,a.origin=function(e){var t=e.origin;if(!t)try{t=sessionStorage.getItem("_sak_embed_origin")}catch(e){}if(t)try{sessionStorage.setItem("_sak_embed_origin",t)}catch(e){}return t||""}(e),a.type=e.type,a.isNewMail=e.isNewMail,a.origin||window.parent!==window){var t=e.name||(a.isNewMail?"mvk_embedded_mail":"mvk_embedded_other");document.documentElement.style.setProperty("display","none","important"),a.name=t,a.embedded=new r.Embedded({name:t,target:window.parent,origin:a.origin,onMessage:function(e,t){a.onMessage.emit("embed",e,t),"click"===e&&a.doClick(t.selector)}}),a._ready=a.embedded.sendMessage("ready",{}).then((function(){document.documentElement.classList.remove("vk_sak_embed_hidden"),document.documentElement.style.removeProperty("display")}))}else document.documentElement.classList.remove("vk_sak_embed_hidden")},sendMessage:function(e,t,n){if(void 0===n&&(n=""),a.isIntegrated)if(a._ready){if(!n||!a.name||a.name===n)return a._ready.then((function(){return a.embedded.sendMessage(e,t)}))}else console.error("SAKIntegration not ready")},doClick:function(e){if(e){var t=document.querySelector(e);t&&t.click()}}}},a0wW:function(e,t,n){"use strict";n.r(t),n.d(t,"FLAG_MP4",(function(){return o})),n.d(t,"FLAG_GIF_AUTOPLAY",(function(){return s})),n.d(t,"FLAG_SUPPORTS_HISTORY_API",(function(){return c}));var r=n("jk6M"),a=n("J8bf"),i={},o=0,s=1,c=2,u=function(){function e(){}return e.getFeatures=function(){return i},e.detectMp4Support=function(){var e=r.default.meizu||r.default.mi||r.default.uc_mini||0!==r.default.ios&&r.default.ios<10||r.default.chrome&&r.default.version.split(".")[0]<53,t=!1,n=document.createElement("video");return n.canPlayType&&""!==n.canPlayType("video/mp4")&&(t=!0),i.mp4=t,this.setFlag(o,t&&!e),t},e.detectAutoplay=function(){var e=this;return new Promise((function(t){if(i.autoplay)t(!0);else{if(r.default.ios&&r.default.safari_mobile&&parseInt(r.default.version,10)>=10)return i.autoplay=!0,void t(!0);i.autoplay=!1;var n=ce("video"),a=ce("source");a.src="data:video/mp4;base64,AAAAFGZ0eXBNU05WAAACAE1TTlYAAAOUbW9vdgAAAGxtdmhkAAAAAM9ghv7PYIb+AAACWAAACu8AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAnh0cmFrAAAAXHRraGQAAAAHz2CG/s9ghv4AAAABAAAAAAAACu8AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAFAAAAA4AAAAAAHgbWRpYQAAACBtZGhkAAAAAM9ghv7PYIb+AAALuAAANq8AAAAAAAAAIWhkbHIAAAAAbWhscnZpZGVBVlMgAAAAAAABAB4AAAABl21pbmYAAAAUdm1oZAAAAAAAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAVdzdGJsAAAAp3N0c2QAAAAAAAAAAQAAAJdhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAFAAOABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAEmNvbHJuY2xjAAEAAQABAAAAL2F2Y0MBTUAz/+EAGGdNQDOadCk/LgIgAAADACAAAAMA0eMGVAEABGjuPIAAAAAYc3R0cwAAAAAAAAABAAAADgAAA+gAAAAUc3RzcwAAAAAAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAADgAAAAEAAABMc3RzegAAAAAAAAAAAAAADgAAAE8AAAAOAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA4AAAAOAAAAFHN0Y28AAAAAAAAAAQAAA7AAAAA0dXVpZFVTTVQh0k/Ou4hpXPrJx0AAAAAcTVREVAABABIAAAAKVcQAAAAAAAEAAAAAAAAAqHV1aWRVU01UIdJPzruIaVz6ycdAAAAAkE1URFQABAAMAAAAC1XEAAACHAAeAAAABBXHAAEAQQBWAFMAIABNAGUAZABpAGEAAAAqAAAAASoOAAEAZABlAHQAZQBjAHQAXwBhAHUAdABvAHAAbABhAHkAAAAyAAAAA1XEAAEAMgAwADAANQBtAGUALwAwADcALwAwADYAMAA2ACAAMwA6ADUAOgAwAAABA21kYXQAAAAYZ01AM5p0KT8uAiAAAAMAIAAAAwDR4wZUAAAABGjuPIAAAAAnZYiAIAAR//eBLT+oL1eA2Nlb/edvwWZflzEVLlhlXtJvSAEGRA3ZAAAACkGaAQCyJ/8AFBAAAAAJQZoCATP/AOmBAAAACUGaAwGz/wDpgAAAAAlBmgQCM/8A6YEAAAAJQZoFArP/AOmBAAAACUGaBgMz/wDpgQAAAAlBmgcDs/8A6YEAAAAJQZoIBDP/AOmAAAAACUGaCQSz/wDpgAAAAAlBmgoFM/8A6YEAAAAJQZoLBbP/AOmAAAAACkGaDAYyJ/8AFBAAAAAKQZoNBrIv/4cMeQ==";var o=ce("source");o.src="data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",append(o,n),append(a,n),n.style.position="fixed",n.style.left="5000px",attr(n,"id","base64testvideo"),attr(n,"playsinline","playsinline"),attr(n,"webkit-playsinline","webkit-playsinline"),attr(n,"muted","muted"),attr(n,"autoplay","autoplay"),attr(n,"loop","loop"),append(n,document.body);var s=ge("base64testvideo");if(r.default.mobile&&r.default.ios&&r.default.ios<10)return i.autoplay=!1,remove(n),t(!1),void clearTimeout(e.autoDetectTimeout);if(!r.default.safari_mobile||r.default.safari_mobile&&parseInt(r.default.version,10)>=10){var c=n.play();void 0!==c&&c.then((function(){i.autoplay=!0,remove(n),t(!0),clearTimeout(e.autoDetectTimeout)})).catch((function(r){i.autoplay=!1,remove(n),t(!1),clearTimeout(e.autoDetectTimeout)}))}s.onplay=function(){i.autoplay=!0,remove(n),t(!0),clearTimeout(e.autoDetectTimeout)},e.autoDetectTimeout=setTimeout((function(){s.paused||(i.autoplay=!0),remove(n),t(i.autoplay)}),250)}}))},e.getFlags=function(){return(Object(a.getCookie)("remixff")||"").split("").map((function(e){return+e?"1":"0"})).join("")},e.getFlag=function(e){var t=this.getFlags();return!!toInt(t[e])},e.setFlag=function(e,t){void 0===t&&(t=!1);var n=(Object(a.getCookie)("remixff")||"").split("");e>=n.length&&(n=Array.from(Array(e),(function(e,t){return n[t]||"0"}))),n[e]=t?"1":"0";var r=n.join("");Object(a.setCookie)("remixff",r,10)},e}();onDOMReady((function(){u.detectMp4Support()})),t.default=u},"aiw/":function(e,t,n){"use strict";n.r(t),n.d(t,"onOpen",(function(){return q})),n.d(t,"onClose",(function(){return G})),n.d(t,"isKeyboardOpen",(function(){return $})),n.d(t,"onCloseCallback",(function(){return z})),n.d(t,"offCloseCallback",(function(){return Q})),n.d(t,"onOpenCallback",(function(){return Y})),n.d(t,"offOpenCallback",(function(){return X}));var r=0,a=0,i=null,o=null;function s(){var e=pageYOffset;e!==r&&999999!==e&&(r=e,a=Math.max(a,e),scrollTo(0,999999)),clearTimeout(o),o=setTimeout((function(){o=null,window.removeEventListener("scroll",s),scrollTo(0,999999),setTimeout((function(){return scrollTo(0,999999)}),1e3)}),150)}var c,u,l,d,_,p,f,h,b,m=n("H5mD"),v=0,g=0,D="",w=!1,A={},O=0;function E(e){if(D=e,w=!1,c=!1,l=0,d=0,p=0,f=0,A={},void 0,h="start",b=0,O=0,m.isIPhone)if("top"===D||"bottom"===D){P()<m.IPHONE_KEYBOARD_REJECT_OFFSET&&M(0);var t=document.body;_=t.offsetHeight,t.offsetWidth,window.addEventListener("scroll",C),"top"===D&&Object(m.isLandscapePhone)()||(j(),k())}else document.body.classList.add("ScrollViewsDisabled")}function y(){"top"===D||"bottom"===D?(u&&clearTimeout(u),window.removeEventListener("scroll",C)):document.body.classList.remove("ScrollViewsDisabled"),w=!1,D="",c=!1,_=0,0}function C(){if(j(),"top"!==D){if("bottom"===D){var e=pageYOffset,t=P();c&&(c=!1,e===p)||(m.isWKWebView?f<=5&&k():e>m.IPHONE_KEYBOARD_REJECT_OFFSET?e>t?(M(e),m.isWKWebView||k()):e<t?A[e]||e>S(t)?(A[e]=!0,k(_)):k():e!==S(t)&&k():t||(e<m.IOS_NO_KEYBOARD_ALLOWED_OFFSET?(l===e?d++:(l=e,d=1),d>=3&&(window.removeEventListener("scroll",C),M(l)),setTimeout((function(){k()}),300)):k()))}}else{if(Object(m.isLandscapePhone)())return;if(m.isWKWebView)return void(0!==pageYOffset&&k(0));var n=innerHeight;if("start"===h&&(n<_?h="animate":k(1)),"animate"===h)if(b=_-n,O||(O=Math.max(1,Math.min(4,Math.floor(b/10)))),b<=0)h="stop";else{var r=m.isIPad?m.iosMajor<11?3:2:1;k(Math.min(b,O)*r)}"stop"===h&&k(1)}}function k(e){c=!0;var t,n=P();"bottom"===D?t=e||(!n||m.isWKWebView||m.isIPad?_:S(n)):"top"===D&&(t=isFinite(e)?e:1),f++,p=t,window.scrollTo(0,t)}function j(){u&&clearTimeout(u),w||(u=setTimeout((function(){w=!0,u=null,window.removeEventListener("scroll",C)}),500))}function S(e){return m.isIPad||m.isWKWebView||90===Math.abs(window.orientation)&&screen.width>=375||(m.isIPhoneX?e-=m.IPHONE_X_SAFARI_BOTTOM_BAR:e-=m.IPHONE_SAFARI_BOTTOM_BAR),e}function P(){return 90===Math.abs(window.orientation)?v:g}function M(e){90===Math.abs(window.orientation)?v=e:g=e}var x=null,I=0,T=0;function B(){if(!(visualViewport.height>=I)){var e=I-visualViewport.height;T!==e&&(!m.isWKWebView&&e<m.IOS_NO_KEYBOARD_ALLOWED_OFFSET?scrollTo(0,0):scrollTo(0,e))}}var F=!1,L=!1,R=!1,N=null,W=[],H=[],U=null,K=m.isScrollBasedViewport&&(m.isIPad||m.isWKWebView),V=m.isScrollBasedViewport&&m.iosMajor<=12;function q(e,t){void 0===e&&(e="default");var n=(void 0===t?{}:t).exitIfStarted,c=void 0!==n&&n;if(m.isIOS&&!(m.iosMajor<8)&&!(L&&c||F)){if(U=e,L=!0,N&&(clearTimeout(N),N=null),"bottom"===e){if((Object(m.isLandscapePhone)()||!K&&!V)&&!function(){if(x||(x={onceBlocked:!1}),x.onceBlocked&&(x.opened=!0),!x.onceBlocked&&!x.opened){x.onceBlocked=!0;var e=document.activeElement;return e.blur(),e.focus(),!1}return x.opened=!0,window.visualViewport&&(I=visualViewport.height,T=0,setTimeout(B),visualViewport.addEventListener("scroll",B),visualViewport.addEventListener("resize",B)),!0}())return;!K&&V&&E(e),K&&function(e){void 0===e&&(e="default"),i&&(clearTimeout(i),i=null),o&&(clearTimeout(o),o=null),r=0,0,0,a=0,window.addEventListener("scroll",s),setTimeout((function(){scrollTo(0,999999)}),10),setTimeout((function(){scrollTo(0,999999)}),100),setTimeout((function(){scrollTo(0,999999)}),200),setTimeout((function(){scrollTo(0,999999)}),300),setTimeout((function(){scrollTo(0,999999)}),400),setTimeout((function(){scrollTo(0,999999)}),500)}()}else!K&&V&&E(e);H.length&&H.forEach((function(e){return e()})),F=!0,L=!1}}function G(e){var t=(void 0===e?{}:e).exitIfStarted,n=void 0!==t&&t;if(m.isIOS&&!(m.iosMajor<8)&&(!R||!n)){if(R=!0,"bottom"===U){if((Object(m.isLandscapePhone)()||!K&&!V)&&(!x||x.onceBlocked&&!x.opened||(window.visualViewport&&(setTimeout(B),visualViewport.removeEventListener("scroll",B),visualViewport.removeEventListener("resize",B)),x=null,I=0,T=0,0)))return;if(!F)return;!K&&V&&y(),K&&(clearTimeout(i),clearTimeout(o),r=0,0,0,i=null,o=null,window.removeEventListener("scroll",s))}else!K&&V&&y();F=!1,R=!1,U=null,N&&clearTimeout(N),N=setTimeout((function(){scrollTo(0,0),W.length&&W.forEach((function(e){return e()}))}),10)}}function $(){return F}function z(e){-1===W.indexOf(e)&&W.push(e)}function Q(e){var t=W.indexOf(e);-1!==t&&W.splice(t,1)}function Y(e){-1===H.indexOf(e)&&H.push(e)}function X(e){var t=H.indexOf(e);-1!==t&&H.splice(t,1)}},akQD:function(e,t,n){"use strict";n.r(t);n("lyAj");var r=n("ToWQ"),a=n("OcsD"),i=n("OmnB"),o=n.n(i),s=n("wx14"),c=n("t7Ww"),u=n("TYsd"),l=n("UxAg"),d=n("r/ag"),_=n("zouF"),p=n("V4qE"),f=n("j80l"),h=function(){function e(){}return e.init=function(t,n){e.isInit||(e.isSection=n,window.cur||(window.cur={}),Object.assign(window.cur,t),e._initFavoriteHandler(),e._initShare(),e._initDestroy(),e.isInit=!0)},e.showAppMenu=function(t){var n=+t.dataset.isFavorite,r={use_native_onclick:!0,attrs:{"data-app-id":t.dataset.appId,"data-hash":t.dataset.hash,"data-is-favorite":n,"data-is-direct-game":"1","data-app-name":t.dataset.appName,"data-app-description":t.dataset.appDescription,"data-app-photo":t.dataset.appPhoto,"data-app-url":t.dataset.appUrl,"data-app-banner":t.dataset.appBanner,"data-mail-hash":t.dataset.mailHash}},a=n?"removeFavorite":"addFavorite",i=n?getLang("vkapps_remove_from_favorite"):getLang("vkapps_add_to_favorite"),o=[Object(c.ModalMenuBtn)(Object(s.default)({},r,{class:"VKAppsMenu__action VKAppsMenu__action--"+a,inner:""+i,onclick:["DirectGamesCatalog.toggleFavorite","this","event"]})),Object(c.ModalMenuBtn)(Object(s.default)({},r,{class:"VKAppsMenu__action VKAppsMenu__action--share",inner:getLang("vkapps_share"),onclick:["DirectGamesCatalog.share","this"]})),Object(c.ModalMenuBtn)(Object(s.default)({},r,{class:"VKAppsMenu__action VKAppsMenu__action--delete",inner:getLang("vkapps_uninstall_game"),onclick:["DirectGamesCatalog.removeGame","this","event"]}))],l=Object(c.default)({class:"VKAppsMenu__modal",type:"button",theme:"small",close:!0,closeText:getLang("mobile_cancel"),items:o});e.modal=d.default.open(u.default.elem(l),!0,{hash:"dg_app_menu"})},e.toggleFavorite=function(t,n){e.hideAppMenu(),window.VKApps.toggleFavorite(t,n)},e.hideAppMenu=function(){e.modal&&d.default.close(e.modal,!0)},e.onShareDone=function(){if(document.body.style.overflow="auto","#share_game"===nav.cur||"/apps"===nav.cur){var e=f.default.make(nav.path,Object(a.qs2obj)(nav.params));window.vkApp.hideAppsBox(),nav.set({nav:extend({},nav,{cur:nav.path,path:nav.path||"",push:e||""})})}},e.removeGame=function(t,n){Object(a.cancelEvent)(n),e.hideAppMenu();var r=t.dataset.hash,i=+t.dataset.appId;Object(_.Confirm)(getLang("vkapps_game_remove_confirm"),["DirectGamesCatalog.confirmRemoveGame","this",i,r])},e.confirmRemoveGame=function(t,n,r){d.default.close(t),e.isSection&&Object(a.remove)(Object(l.$)("#game_installed_"+n)),ajax.post(e.controller,{act:"vkapps_quit",quit:1,from:e.isSection?"dg_catalog_section":"dg_catalog",app_id:n,hash:r},{onDone:function(t,n){if(Object(p.init)({text:getLang("vkapps_game_removed")}),t)if(e.isSection){Object(l.$)(".GameCatalogRow")||nav.go("/games")}else{var r=Object(l.$)("#dg_section_installed"),i=Object(l.$)(".Slider__scroll",r),o=i.scrollLeft;n?(Object(a.replace)(Object(a.ceFromString)(n),r),r=Object(l.$)("#dg_section_installed"),(i=Object(l.$)(".Slider__scroll",r)).scrollLeft=o):Object(a.remove)(r)}}})},e.share=function(t){e.hideAppMenu();var n=+t.dataset.appId,r=t.dataset.appName,a=t.dataset.appDescription,i=t.dataset.appBanner||t.dataset.appPhoto,o=t.dataset.mailHash;window.vkApp.showShareBox(n,"",o,"https://vk.com/app"+n,i,r,a),document.body.style.overflow="hidden",nav.set({nav:extend({},nav,{path:nav.path,push:"#share_game"})})},e.destroy=function(){e.favoriteChanged&&window.VKApps.favoriteChanged.off(e.favoriteChanged),nav.onPopState.off(e.popStateHandler),e.isInit=!1},e._initShare=function(){var t=document.createElement("div");t.id="apps_box",document.body.appendChild(t),e.popStateHandler=function(){"#share_game"===nav.cur&&e.onShareDone(!1)},nav.onPopState((function(){"#share_game"!==nav.cur&&"/apps"!==nav.cur&&"/games"!==nav.cur||e.onShareDone(!1)}))},e._initFavoriteHandler=function(){e.favoriteChanged=function(e,t){if(e){var n=Object(l.$)("#game_controls_"+t);n&&(+n.dataset.isFavorite?n.dataset.isFavorite="0":n.dataset.isFavorite="1")}},window.VKApps.favoriteChanged(e.favoriteChanged)},e._initDestroy=function(){window.cur.destroy=window.cur.destroy||[],window.cur.destroy.push((function(){e.destroy()}))},e}();h.controller="/apps",h.isSection=void 0,h.modal=void 0,h.isInit=!1;var b=n("Cbap");function m(e){for(var t=Array.from(e),n=[],r=0,a=null,i=0;i<t.length;i+=1){var o=t[i],s=o.offsetWidth,c=o.offsetLeft,u=o.offsetHeight;a=0===i?c:a,n.push({width:s,height:u,offsetLeft:c,marginLeft:a}),r<s&&(r=s)}for(var l=0;l<n.length;l+=1)n[l].width=r;return n}function v(e,t){Array.from(e).forEach((function(e,n){e.style.marginLeft=t[n].marginLeft+"px",e.style.width=t[n].width+"px",e.style.height=t[n].height+"px",e.style.flex="none"}))}function g(e,t,n){return-1*(e[t].offsetLeft+e[t].width/2-n/2)}function D(e,t){var n=e.timeStamp,r=e.touches,a=r?r[0]:e,i=a.clientX,o=a.clientY,s=t.to||{},c=s.x,u=void 0===c?i:c,l=s.y,d={x:i-u,y:o-(void 0===l?o:l)},_=n-(t.time||0);return{to:{x:i,y:o},offset:d,time:n,speed:{x:d.x/_,y:d.y/_},duration:_}}var w,A,O,E=function(){function e(e,t){this.container=null,this.scrollEl=null,this.items=null,this.centralElementIndex=0,this.dimensions=[],this.currentIndex=0,this.isTouchActive=!1,this.startOffset=null,this.startInfo=null,this.currentInfo=null,this.state=null,this.container=e,this.scrollEl=t,this.items=this.scrollEl.childNodes,this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.resortSlides=this.resortSlides.bind(this),this.handleWindowDimensionsChange=this.handleWindowDimensionsChange.bind(this),this.handleDragstart=this.handleDragstart.bind(this),this.init()}var t=e.prototype;return t.init=function(){this.items.length<=1||(this.cloneSlides(),this.dimensions=m(this.items),v(this.items,this.dimensions),this.dimensions=m(this.items),this.setCentralSlidePosition(),this.scrollEl.style.width="max-content",this.setupCallbacks(),this.enableAutoscroll(),this.state="idle")},t.setupCallbacks=function(){Object(a.addEvent)(this.container,"dragstart",this.handleDragstart),Object(a.addEvent)(this.container,"mousedown touchstart",this.handleTouchStart),Object(a.addEvent)(this.container,"mousemove touchmove",this.handleTouchMove,{passive:!1}),Object(a.addEvent)(this.container,"mouseleave mouseup touchend touchcancel dragend",this.handleTouchEnd),Object(a.addEvent)(this.scrollEl,"transitionend",this.handleTransitionEnd),window.addEventListener("orientationchange",this.handleWindowDimensionsChange)},t.destroy=function(){this.disableAutoscroll(),cancelAnimationFrame(A),Object(a.removeEvent)(this.container,"dragstart",this.handleDragstart),Object(a.removeEvent)(this.container,"mousedown touchstart click",this.handleTouchStart),Object(a.removeEvent)(this.container,"mousemove touchmove",this.handleTouchMove),Object(a.removeEvent)(this.container,"mouseleave mouseup touchend touchcancel dragend",this.handleTouchEnd),Object(a.removeEvent)(this.scrollEl,"transitionend",this.handleTransitionEnd),window.removeEventListener("orientationchange",this.handleWindowDimensionsChange)},t.handleDragstart=function(e){e.taget!==this.scrollEl&&(e.preventDefault(),e.stopPropagation())},t.handleTouchStart=function(e){this.isTouchActive||(e.preventDefault(),e.stopPropagation(),this.initTouchEvent(e),this.disableAutoscroll())},t.initTouchEvent=function(e){this.startOffset=this.getScrollPosition(),this.startInfo=D(e,{}),this.currentInfo=this.startInfo},t.handleTouchMove=function(e){if(this.startInfo)if(this.currentInfo=D(e,this.startInfo),this.isTouchActive){e.cancelable&&e.preventDefault();var t=this.startOffset+this.currentInfo.offset.x;this.setScrollPosition(t)}else this.shouldMove(this.currentInfo)&&(this.isTouchActive=!0,this.initTouchEvent(e))},t.shouldMove=function(e){if("moving"===this.state||"resort"===this.state||"recalculating"===this.state)return!1;var t=e.offset;return 180*Math.atan(Math.abs(t.y)/Math.abs(t.x))/Math.PI<30},t.handleTouchEnd=function(e){if(this.startInfo=null,!this.isTouchActive||function(e){if(!e)return!1;var t=e.offset,n=e.duration;return Math.abs(t.x)<1&&Math.abs(t.y)<1&&n<200}(this.currentInfo))return t=e.target,void((n=t.closest("a"))&&n.href&&(window.location=n.href));var t,n;e.preventDefault(),e.stopPropagation(),this.go(this.currentInfo),this.enableAutoscroll(),this.isTouchActive=!1},t.cloneSlides=function(){var e=this.items;this.centralElementIndex=e.length;for(var t=document.createDocumentFragment(),n=document.createDocumentFragment(),r=0;r<e.length;r+=1)t.appendChild(e[r].cloneNode(!0)),e.length<4&&n.appendChild(e[r].cloneNode(!0));this.scrollEl.insertBefore(t,this.scrollEl.firstChild),this.scrollEl.appendChild(n)},t.go=function(e){var t=e.speed.x,n=Math.abs(t);if(0!==n){var r=t<0?-1:1,a=this.getScrollPosition();n>.6&&Math.abs(e.offset.x)<150&&(a+=r*Math.min(600*n,this.getContainerWidth()));var i=function(e,t,n){for(var r=null,a=null,i=n/2-e,o=0;o<t.length;o+=1){var s=t[o].offsetLeft+t[o].width/2,c=Math.abs(s-i);(null===r||c<r)&&(r=c,a=o)}return a}(a,this.dimensions,this.getContainerWidth());i===this.currentIndex&&n>.1&&(i=this.currentIndex-r),i-this.currentIndex>1&&(i=this.currentIndex+1),i-this.currentIndex<-1&&(i=this.currentIndex-1),this.scrollToSlide(i)}},t.resortSlides=function(){var e=this.centralElementIndex,t=this.scrollEl,n=this.currentIndex;if(e!==n){var r=document.createDocumentFragment();if(n>e){for(var a=n-e;a>0;)r.appendChild(t.childNodes[0]),a-=1;t.appendChild(r)}if(n<e){for(var i=e-n,o=t.childNodes.length-i;i>0;)r.appendChild(t.childNodes[o]),i-=1;t.insertBefore(r,t.firstChild)}this.setCentralSlidePosition()}},t.setScrollPosition=function(e){this.scrollEl.style.transform="translateX("+e+"px)"},t.getScrollPosition=function(){return parseFloat(this.scrollEl.style.transform.replace("translateX(",""))},t.getContainerWidth=function(){return this.container.offsetWidth},t.setCentralSlidePosition=function(){var e=g(this.dimensions,this.centralElementIndex,this.getContainerWidth());this.currentIndex=this.centralElementIndex,this.setScrollPosition(e)},t.scrollToSlide=function(e){this.state="moving",this.scrollEl.style.transition="transform 200ms cubic-bezier(.42,.65,.27,.99)";var t=g(this.dimensions,e,this.getContainerWidth());this.setScrollPosition(t),this.currentIndex=e},t.handleTransitionEnd=function(){var e=this;this.scrollEl.style.transition=null,this.state="resort",A=window.requestAnimationFrame((function(){e.resortSlides(),e.state="idle"}))},t.scrollToNext=function(){var e=(this.currentIndex+1)%this.items.length;this.scrollToSlide(e)},t.enableAutoscroll=function(){var e=this;w&&clearInterval(w),w=setInterval((function(){e.scrollToNext()}),4e3)},t.disableAutoscroll=function(){w&&(clearInterval(w),w=null)},t.handleWindowDimensionsChange=function(){var e,t=this;this.state="recalculating",e=this.items,Array.from(e).forEach((function(e){e.style.marginLeft="",e.style.width="",e.style.height="",e.style.flex=""})),this.scrollEl.style.width="",window.requestAnimationFrame((function(){setTimeout((function(){t.dimensions=m(t.items),v(t.items,t.dimensions),t.dimensions=m(t.items),t.setCentralSlidePosition(),t.state="idle"}))}))},e}();function y(){O&&O.destroy()}b.default.getRouter().addRoute(/^\/(games|apps)\/?(\?.*)?$/,(function(){y();var e=Object(l.$)(".GamesFeaturedSliderBlock__slider");if(null!==e){var t=Object(l.$)(".GamesFeaturedSliderBlock__scroll",e);t&&(O=new E(e,t))}}),y);if("/vkpay_music"===location.pathname||"/vk_pay_music"===location.pathname||0===location.pathname.indexOf("/app6460535")){var C=location.href.split("#")[1];C&&"unsubscribe"===C||(location.href=location.href.replace("m.","").replace("act=app_r",""))}window._iconAdd||(window._iconAdd=window.devicePixelRatio>=2?"_2x":"");var k={initAppView:function(e,t){var n=function(e){"block"==e.type?cur.app.runCallback("onWindowBlur"):cur.app.runCallback("onWindowFocus")};cur.app.onReady.push((function(){cur.app.onLocChanged(e.hash),addEvent(document,"block unblock",n,!0),cur.destroy.push((function(){removeEvent(document,"block unblock",n)}))})),t.icon&&(setFavIcon(t.icon),cur.destroy.push((function(){setFavIcon("/images/favicon"+(vk.intnat?"_vk":"new")+window._iconAdd+".ico")}))),window.opener&&(k.setExternalAppEventListeners(),t.is_vkpay_app&&k.setExternalPayAppEventListeners()),k.changeCheckBackUrl(),nav.onBeforeGo((function(){window.DirectGames&&window.DirectGames.closeAll()}))},setExternalAppEventListeners:function(){window.addEventListener("beforeunload",(function(){window.opener.postMessage({externalAppClosed:1},"*")}))},setExternalPayAppEventListeners:function(){window.addEventListener("message",(function(e){e.data&&"vk-connect"===e.data.type?"VKWebAppActionDone"===e.data.handler&&(window.opener.postMessage(e.data,"*"),window.close()):e.data&&e.data.externalAppClosed&&window.opener.postMessage(e.data,"*")}))},runUnverified:function(e,t){Btn.setLoading(e,!0),nav.hash&&(t+=nav.hash),nav.hard_go(t)},initUnverifiedRunScreen:function(){var e,t=document.getElementById("apps_unverifiedAppWarning__run_btn");t&&t.addEventListener("click",(function(){Btn.setLoading(this,!0)})),window.history&&window.history.length>2&&(e=geByClass1("apps_unverifiedAppWarning__btn_back"))&&addClass(e,"apps_unverifiedAppWarning__btn_active"),o.a.supports("VKWebAppInit")&&o.a.send("VKWebAppInit",{})},unverifiedGoBack:function(){return window.history.back(),!1},goBack:function(e,t,n,r){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=""),n)setTimeout((function(){ajax.post("/apps",{act:"mini_app_quit",app_id:window.cur&&window.cur.aid,hash:r})}),0);else{cancelEvent(e);var a=t?"/games":"/services";if(window.cur&&window.cur.app&&window.cur.app.isDirectGame)window.DirectGames.goBack();else{var i=-1,o=window.history.length;cur.VKApp?2===cur.VKApp.vkMiniAppsHistoryLength&&!document.referrer||1===cur.VKApp.vkMiniAppsHistoryLength?nav.go(a):(cur.VKApp.vkMiniAppsHistoryLength!==o&&(i=cur.VKApp.vkMiniAppsHistoryLength-o-1),window.history.go(i)):nav.go(a)}}},initGameInstallScreen:function(e,t,n,i,s){window.cancelSettings=function(e){e?Object(a.isVkWebView)()?o.a.supports("VKWebAppClose")?o.a.send("VKWebAppClose",{status:"success"}):r.VKApp.callNativeClientMethod("close",""):k.goBack(null,!0):(hide(Object(a.ge)("apps_box")),Object(a.ge)("apps_box").innerHTML="",show(Object(a.ge)("apps_test_id")),cur.onSettingsChange("cancel")),cur.settingsBoxShown=!1},window.saveSettings=function(c,u){if(!cur.savingSettings){var l=geByClass("oauth_access_item"),d=Object(a.qs2obj)(nav.params),_={act:"save_settings",aid:e,hash:t,api_hash:cur.api_hash,ref:d.ref,section_type:d.section_type,section_id:d.ad_id||d.section_id};l.forEach((function(e){e.id&&(_[e.id]=1)})),s&&(_.gid=s),c&&(_.join=1,_.request_id=n,_.request_key=i),u&&Btn.setLoading(u,!0),ajax.post("apps.php",_,{onDone:function(t){cur.settingsBoxShown=!1,u&&Btn.setLoading(u,!1),c?(o.a.supports("VKWebAppGameInstalled")?o.a.send("VKWebAppGameInstalled",{appId:e}):r.VKApp.callNativeClientMethod("onGameInstalled",{appId:e}),location.reload()):(cur.app&&cur.onSettingsChange("ok",t.settings),hide(Object(a.ge)("apps_box")),Object(a.ge)("apps_box").innerHTML="",show(Object(a.ge)("apps_test_id")))},onFail:function(){cur.savingSettings=!1},showProgress:function(){cur.savingSettings=!0}})}},o.a.supports("VKWebAppInit")&&o.a.send("VKWebAppInit",{}),o.a.supports("VKWebAppGameInstallShowed")&&o.a.send("VKWebAppGameInstallShowed",{appId:e})},changeCheckBackUrl:function(){if(6739175===cur.aid&&("/check"===nav.path||"/app6739175"===nav.path)){var e=nav.params?"?"+nav.params:"";nav.set({nav:{push:"/checkback"+e+nav.hash,params:nav.params,hash:nav.hash}})}}};window.Apps=k,window.vkApp=r.VKApp,window.DirectGamesCatalog=h},"bZ/P":function(e,t,n){"use strict";n.r(t);var r={};function a(e,t){return e+'="'+t+'"'}function i(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a(e,o(n))}}function o(e){return e[0]+"("+e.slice(1).map(s).join(", ")+")"}function s(e){return"number"==typeof e||"event"===e||"this"===e?e:JSON.stringify(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,t){var n,r=[];"string"==typeof t&&((n={})[t]=!0,t=n);return Object.keys(t).forEach((function(n){var a=t[n];!0===a?r.push(e+"_"+n):a&&r.push(e+"_"+n+"_"+a)})),r}Object.assign(r,{html:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a="";return e.forEach((function(e,t){var r=n[t];a+=e+(r||0===r?r:"")})),a}}),Object.assign(r,{attr:a,onBlur:i("onblur"),onClick:i("onclick"),onFocus:i("onfocus"),onInput:i("oninput"),onKeyDown:i("onkeydown"),onKeyPress:i("onkeypress"),onKeyUp:i("onkeyup"),onMouseDown:i("onmousedown"),onMouseUp:i("onmouseup"),onScroll:i("onscroll"),onSubmit:i("onsubmit"),onTouchEnd:i("ontouchend"),onTouchMove:i("ontouchmove"),onTouchStart:i("ontouchstart"),onWheel:i("onwheel"),onChange:i("onchange")}),Object.assign(r,{list:function(e,t){void 0===t&&(t=null);Array.isArray(e)||(e=[e]);return t?e.map(t).join(""):e.join("")}}),Object.assign(r,{class:function(){for(var e=[],t=null,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return r.forEach((function(n){"string"==typeof n?(e.push(n),t=n):n&&(e=e.concat(c(t,n)))})),e.join(" ")},parseClass:function(e,t){var n={};return t.trim().split(/\s+/).forEach((function(t){if(t!==e){var r=t.replace(e+"_","").split("_");n[r[0]]=!(r.length>1)||r[1]}})),n}});t.default=r;window.q=r},cGUQ:function(e,t,n){"use strict";n.r(t),n.d(t,"fromQueryString",(function(){return c})),n.d(t,"toQueryString",(function(){return s}));var r=n("jE6c"),a={},i=function(e){if(a[e])return e;try{return encodeURIComponent(e)}catch(e){return""}},o=function(e){try{return decodeURIComponent(e)}catch(t){return a[e]=1,e}};function s(e,t){var n=[];for(var a in e)if(e.hasOwnProperty(a)&&null!=e[a]&&!Object(r.isFunction)(e[a]))if(Object(r.isArray)(e[a]))for(var o=0,s=0,c=e[a].length;o<c;++o)null==e[a][o]||Object(r.isFunction)(e[a][o])||(n.push(i(a)+"["+s+"]="+i(e[a][o])),++s);else n.push(i(a)+"="+i(e[a]));return t||n.sort(),n.join("&")}function c(e){if(!e)return{};var t={};return e=e.split("&"),Object(r.each)(e,(function(e,n){var r=n.split("=");if(r[0]){var a=o(r[1]+"");if("[]"===r[0].substr(r.length-2)){var i=o(r[0].substr(0,r.length-2));t[i]||(t[i]=[]),t[i].push(a)}else t[o(r[0])]=a}})),t}},d4g6:function(e,t,n){"use strict";n.r(t),n.d(t,"objectToQuerystring",(function(){return a})),n.d(t,"getHostName",(function(){return i})),n.d(t,"destroyOpenedApp",(function(){return o})),n.d(t,"isVKPayApp",(function(){return s})),n.d(t,"filterPostMessageOrigin",(function(){return c})),n.d(t,"isAllowedPostMessageOriginHost",(function(){return u}));var r=n("4zn2"),a=function(e){return Object.keys(e).reduce((function(t,n,r){return[t,0===r?"?":"&",encodeURIComponent(n),"=",encodeURIComponent(e[n])].join("")}),"")},i=function(e){var t=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=t&&t.length>2&&"string"==typeof t[2]&&t[2].length>0?t[2].toLowerCase():null},o=function(e){if(cur.vkAppQueue){var t=Object.keys(cur.vkAppQueue).filter((function(t){return~t.indexOf(e)}));if(t.length>0){var n=t[0];cur.vkAppQueue[n].destroyView(),delete cur.vkAppQueue[n]}}},s=function(e){return r.VKPAY_APPS.includes(e)};function c(e,t){var n=i(t),r=e.vkApp?e.vk_app_url:e.src,a=i(r);if(n!==a&&!u(e,n))throw Error("Insecure method call from "+n+". Call must be from "+a);return!0}function u(e,t){return!!e.allowed_origin_regexp&&new RegExp(e.allowed_origin_regexp).test(t)}},dONA:function(e,t,n){"use strict";n.r(t);var r=function(e){return{class:"MainMenuNotificationDot","data-id":e.id,tag:"span"}};t.default=r},eGQV:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return l})),n.d(t,"isStandalone",(function(){return d})),n.d(t,"isOfflineCapable",(function(){return _}));var r=function(){function e(){this.registration=null,this._handlers=[],this.params=null}e.isSupported=function(){try{return!(!window.fetch||window.fetch.polyfill&&!window.fetch.forcedPolyfill||!navigator.serviceWorker)}catch(e){return!1}};var t=e.prototype;return t.listenMessages=function(){navigator.serviceWorker.addEventListener("message",this._onmessage.bind(this))},t.register=function(t){if(!e.isSupported())return Promise.reject("SW: serviceWorker is unavailable");var n=t&&t.url;return n?(this.params=t,navigator.serviceWorker.register(n,{scope:"/",updateViaCache:"none"}).then(function(e){return this.registration||(this.registration=e),e}.bind(this))):Promise.reject("SW: incorrect url")},t.getRegistration=function(){return e.isSupported()?navigator.serviceWorker.ready.then(function(e){return this.registration||(this.registration=e),e}.bind(this)):Promise.reject("SW: serviceWorker is unavailable")},t.unregister=function(){this.registration&&this.registration.unregister(),this._handlers.forEach((function(e){return e[0].removeEventListener(e[1],e[2])})),this._handlers=[]},t.update=function(){this.registration&&this.registration.update()},t.getParams=function(){return this.params||{}},t._addEventListener=function(e,t,n,r){void 0===r&&(r=!0);var a=!1;this._handlers.forEach((function(r){r[0]===e&&r[1]===t&&r[2]===n&&(a=!0)})),a&&!r||(this._handlers.push([e,t,n]),e.addEventListener(t,n))},t.action_devicePixelRatio=function(){return window.devicePixelRatio},t.action_pushHash=function(){return this.getParams().push_hash},t.storePushHash=function(){var e=this.getParams().push_hash;this.action("storePushHash",{hash:e})},t.action=function(e,t){var n=null;return n=Array.isArray(e)?e:[[e,t]],this._message({actions:n}).then((function(e){return e.answers?Promise.resolve(1===n.length?e.answers[0]:e.answers):Promise.reject(new Error("ServiceWorker answer is incorrect"))}))},t._message=function(e){var t=this;return this.getRegistration().then((function(){return new Promise(function(t,n){var r=new MessageChannel;r.port1.onmessage=function(e){this._messageCheck(e)?t(e.data.data):n(new Error("ServiceWorker message is incorrect"))}.bind(this),this.registration.active.postMessage(this._messageWrap(e),[r.port2])}.bind(t))}))},t._onmessage=function(e){if(this._messageCheck(e)){var t=e.data.data;if(t.actions&&Array.isArray(t.actions)){var n=[];t.actions.forEach(function(t){var r="action_"+t[0],a=t[1],i=this[r]?this[r](a,e):void 0;i instanceof Promise||(i=Promise.resolve(i)),n.push(i)}.bind(this)),Promise.all(n).then(function(t){var n={};t.forEach((function(e,t){void 0!==e&&(n[t]=e)})),Object.keys(n).length&&e.ports[0].postMessage(this._messageWrap({answers:n}))}.bind(this))}}},t._messageCheck=function(e){return(""===e.origin||e.origin.match(/^https:\/\/([a-zA-Z0-9\-\.]+\.)?vk\.com$/))&&e.data&&e.data.data&&"sw"===e.data.type},t._messageWrap=function(e){return{type:"sw",data:e}},e}();r.SW_NOT_AVAILABLE_ERROR="SW: serviceWorker is unavailable";var a,i=n("H5mD"),o=function(){if(!("fetch"in window))return function(){};var e=["standalone","fullscreen","minimal-ui"],t=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple");function n(e,t,n){void 0===n&&(n=!1);var a=r(e);if((a.drawImage(e,0,0),!n)&&255==a.getImageData(0,0,1,1).data[3])return null;return a.globalCompositeOperation="destination-over",a.fillStyle=t,a.fillRect(0,0,e.width,e.height),a.canvas.toDataURL()}function r(e){var t=void 0===e?{width:1,height:1}:e,n=t.width,r=t.height,a=document.createElement("canvas");return a.width=n,a.height=r,a.getContext("2d")}return function(){if(t){var a=document.head.querySelector('link[rel="manifest"]'),o=a?a.href:"",s=function(e){for(var t=function(t){var n=e[t];try{return new URL("",n),{v:function(e){return new URL(e,n).toString()}}}catch(e){}},n=0;n<e.length;++n){var r=t(n);if("object"==typeof r)return r.v}return function(e){return e}}([o,window.location]);Promise.resolve().then((function(){if(!o)throw'can\'t find <link rel="manifest" href=".." />\'';var e={};return"use-credentials"===o.crossOrigin&&(e.credentials="include"),window.fetch(o,e)})).then((function(e){return e.json()})).then((function(t){return function(t,a){var o=(t.icons||[]).filter((function(e){return"apple-splashscreen"===e.purpose}));o.sort((function(e,t){return parseInt(t.sizes,10)-parseInt(e.sizes,10)}));var s=o.map((function(e){return{href:a(e.src),sizes:e.sizes}})),c=t.display,u=-1!==e.indexOf(c);(function(e){var t=function(e){var t=r();return t.fillStyle=e,t.fillRect(0,0,1,1),t.getImageData(0,0,1,1).data}(e).map((function(e){var t=e/255;return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),n=.2126*t[0]+.7152*t[1]+.0722*t[2];Math.abs(1.05/(n+.05))})(t.background_color||"#ffffff"),t.name||t.short_name||document.title;navigator.standalone||(l="apple-mobile-web-app-capable",(d=u)&&(!0===d&&(d="yes"),function(e,t){var n=document.createElement(e);for(var r in t)n.setAttribute(r,t[r]);document.head.appendChild(n)}("meta",{name:l,content:d})));var l,d;function _(e,n,a){var i=e.width,o=e.height,s=window.devicePixelRatio,c=r({width:i*s,height:o*s});if(c.scale(s,s),c.fillStyle=t.background_color||"#ffffff",c.fillRect(0,0,i,o),c.translate(i/2,(o-32)/2),a){var u=a.width/s,l=a.height/s;l>128&&(u/=l/128,l=128),u>=48&&l>=48&&(c.drawImage(a,u/-2,l/-2,u,l),c.translate(0,l/2+32))}var d=document.createElement("link");return d.setAttribute("rel","apple-touch-startup-image"),d.setAttribute("media","screen and (orientation: "+n+")"),d.setAttribute("href",c.canvas.toDataURL()),d}var p=new Set;function f(e){var t=_(window.screen,"portrait",e),n=_({width:window.screen.height,height:i.isIPad?window.screen.height:window.screen.width},"landscape",e);p.forEach((function(e){return e.remove()})),document.head.appendChild(t),document.head.appendChild(n),p.add(t),p.add(n)}if(f(null),!s.length)return;var h=s[0],b=new Image;b.crossOrigin="anonymous",b.onload=function(){if(f(b),t.background_color){var e=n(b,t.background_color);null!==e&&(h.href=e,s.slice(1).forEach((function(e){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){var a=n(r,t.background_color,!0);e.href=a},r.src=e.href})))}},b.src=h.href}(t,s)})).catch((function(e){return console.warn("pwacompat.js error",e)}))}}}(),s=n("OGfC"),c=new r;window.sw_client=c,window.SWClient=r,window.initPushNotifier=function(){try{window.PushNotifier=s.default,window.pushNotifier=new s.default(c,r)}catch(e){}};var u=!1;function l(){window.addEventListener&&(!function(){if(u=!0===navigator.standalone||window.matchMedia&&matchMedia("(display-mode: standalone)").matches,!history.replaceState)return;var e=location.search;if((e=(e=(e=e.replace(/(\?|&)mode\=([^&]+)(&)?/,"$1")).replace(/(\?|&)__appshell_fallback\=([^&]+)(&)?/,"$1")).replace(/(\?|&)+$/,""))!==location.search){var t=location.pathname+e+location.hash;history.replaceState(null,"",t)}}(),function(){if(!r.isSupported())return;c.listenMessages()}(),window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault()})),window.addEventListener("appinstalled",(function(){statlogsValueEvent("pwa_installed_event",1)})),"complete"===document.readyState?p():window.addEventListener("load",(function(){p()})))}function d(){return u}function _(){return void 0===a&&(a=!(!r.isSupported()||!navigator.serviceWorker.controller)),a}function p(){window.vk&&window.vk.sw&&(c.register(window.vk.sw).then((function(e){c.storePushHash()}),(function(e){if(e!==r.SW_NOT_AVAILABLE_ERROR)throw e})),r.isSupported()&&navigator.serviceWorker.getRegistration().then((function(e){!function(e){if(!_())return;e&&e.active&&e.installing&&e.installing.postMessage({action:"activate"})}(e)})),o())}l()},fdw3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"isObject",(function(){return isObject})),__webpack_require__.d(__webpack_exports__,"isJS",(function(){return isJS})),__webpack_require__.d(__webpack_exports__,"log",(function(){return log})),__webpack_require__.d(__webpack_exports__,"mergeObjects",(function(){return mergeObjects})),__webpack_require__.d(__webpack_exports__,"mergeArrays",(function(){return mergeArrays})),__webpack_require__.d(__webpack_exports__,"concatValues",(function(){return concatValues})),__webpack_require__.d(__webpack_exports__,"isFinite",(function(){return isFinite})),__webpack_require__.d(__webpack_exports__,"getLang",(function(){return getLang})),__webpack_require__.d(__webpack_exports__,"getLangNumeric",(function(){return getLangNumeric})),__webpack_require__.d(__webpack_exports__,"langNumeric",(function(){return langNumeric})),__webpack_require__.d(__webpack_exports__,"insertBetween",(function(){return insertBetween})),__webpack_require__.d(__webpack_exports__,"stringifyJSON",(function(){return stringifyJSON})),__webpack_require__.d(__webpack_exports__,"parseJSON",(function(){return parseJSON})),__webpack_require__.d(__webpack_exports__,"wrapCommunityMailUrl",(function(){return wrapCommunityMailUrl})),__webpack_require__.d(__webpack_exports__,"mailReplaceMentions",(function(){return mailReplaceMentions})),__webpack_require__.d(__webpack_exports__,"mailReplaceDomainMentions",(function(){return mailReplaceDomainMentions})),__webpack_require__.d(__webpack_exports__,"getState",(function(){return getState})),__webpack_require__.d(__webpack_exports__,"wdToFlatArray",(function(){return wdToFlatArray})),__webpack_require__.d(__webpack_exports__,"fromCharCode",(function(){return fromCharCode})),__webpack_require__.d(__webpack_exports__,"timestamp",(function(){return timestamp})),__webpack_require__.d(__webpack_exports__,"formatDuration",(function(){return formatDuration})),__webpack_require__.d(__webpack_exports__,"arrayUnique",(function(){return arrayUnique})),__webpack_require__.d(__webpack_exports__,"arrayFlat",(function(){return arrayFlat})),__webpack_require__.d(__webpack_exports__,"isArray",(function(){return isArray})),__webpack_require__.d(__webpack_exports__,"arrayIncludes",(function(){return arrayIncludes})),__webpack_require__.d(__webpack_exports__,"inlineIconResolver",(function(){return inlineIconResolver})),__webpack_require__.d(__webpack_exports__,"isSAKIntegration",(function(){return isSAKIntegration})),__webpack_require__.d(__webpack_exports__,"classNames",(function(){return classNames})),__webpack_require__.d(__webpack_exports__,"arraySomeEqual",(function(){return arraySomeEqual})),__webpack_require__.d(__webpack_exports__,"preactCallback",(function(){return preactCallback})),__webpack_require__.d(__webpack_exports__,"getLangReplace",(function(){return getLangReplace})),__webpack_require__.d(__webpack_exports__,"winToUtf",(function(){return winToUtf})),__webpack_require__.d(__webpack_exports__,"getNumShort",(function(){return getNumShort}));var _mobile_emoji_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9M99");__webpack_require__.d(__webpack_exports__,"emojiToHTML",(function(){return _mobile_emoji_html__WEBPACK_IMPORTED_MODULE_0__.emojiToHTML}));var _mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("qHA9");__webpack_require__.d(__webpack_exports__,"isChatPeer",(function(){return _mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.isChatPeer})),__webpack_require__.d(__webpack_exports__,"isContactPeer",(function(){return _mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.isContactPeer})),__webpack_require__.d(__webpack_exports__,"isCommunityPeer",(function(){return _mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.isCommunityPeer})),__webpack_require__.d(__webpack_exports__,"isForwardedMessageId",(function(){return _mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.isForwardedMessageId}));var _mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("OcsD");__webpack_require__.d(__webpack_exports__,"extend",(function(){return _mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.extend})),__webpack_require__.d(__webpack_exports__,"isFunction",(function(){return _mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isFunction}));var _mobile_lib_Url__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("j80l");__webpack_require__.d(__webpack_exports__,"makeUrl",(function(){return _mobile_lib_Url__WEBPACK_IMPORTED_MODULE_3__.makeUrl}));var _mobile_lib_Withdom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("TYsd"),_shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ZMWW"),_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("xt6h");function _createForOfIteratorHelperLoose(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function isObject(e){return Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isObject)(e)}function isJS(){return!0}function log(){var e;(e=console).log.apply(e,arguments)}function mergeObjects(){return Object.assign.apply(Object,arguments)}function mergeArrays(e,t){return Array.isArray(e)&&Array.isArray(t)?e.concat(t):[]}function concatValues(e,t){return e+t}function isFinite(e){return window.isFinite(e)}function getLang(){var e;return(e=window).getLang.apply(e,arguments)}function getLangNumeric(){return _mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.langNumeric.apply(void 0,arguments)}function langNumeric(e,t,n){return void 0===n&&(n=!1),Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.langNumeric)(e,t,n)}function insertBetween(e,t){var n=[];return e.forEach((function(r,a){var i=e[a+1],o=e[a+2];r&&n.push(r),r&&(i||o)&&n.push(t)})),n}function stringifyJSON(e){return JSON.stringify(e)}function parseJSON(e){return JSON.parse(e)}function wrapCommunityMailUrl(e){return Object(_mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.wrapCommunityUrl)(e)}function mailReplaceMentions(e,t){return e.replace(_mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.MENTION_REGEXP,t)}function mailReplaceDomainMentions(e,t){return e.replace(_mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.MENTION_DOMAIN_REGEXP,t)}function getState(e){return window.isomorphicState&&window.isomorphicState[e]||[]}function wdToFlatArray(e){return _mobile_lib_Withdom__WEBPACK_IMPORTED_MODULE_4__.default.toFlatArray(e).map(_mobile_lib_Withdom__WEBPACK_IMPORTED_MODULE_4__.default.innerItemToString)}function fromCharCode(e){return String.fromCharCode(e)}function timestamp(){return Date.now()/1e3}function formatDuration(e){if(!e)return"";var t=Math.floor(e/3600),n=Math.floor(e/60)%60,r=e%60;return r>=3600?[t].concat([n,r].map((function(e){return e<10?"0"+e:""+e}))).join(":"):[n].concat([r].map((function(e){return e<10?"0"+e:""+e}))).join(":")}function arrayUnique(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function arrayFlat(e){return e.flat()}function isArray(e){return Array.isArray(e)}function arrayIncludes(e,t){return e.includes(t)}function inlineIconResolver(){return null}function isSAKIntegration(){return _shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_5__.SAKIntegration.isIntegrated}function classNames(){return _vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_6__.classNames.apply(void 0,arguments)}function arraySomeEqual(e,t,n){for(var r,a=_createForOfIteratorHelperLoose(e);!(r=a()).done;){if(r.value[t]===n)return!0}return!1}function preactCallbackKeywordsReplace(e,t,n){return e.map((function(e){return"event"===e?n:"this"===e?t:e}))}function preactCallback(callback){for(var _len=arguments.length,argsA=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)argsA[_key-1]=arguments[_key];if(!callback)return null;if(Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isFunction)(callback)&&0===argsA.length)return callback;if(isArray(callback)&&Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.flatArray)(callback).every((function(e){return!Boolean(e)})))return null;var evalCaller=function evalCaller(code,context){return function(){return code.includes("return")?eval("(function(event) { "+code+" }).call(this, event)"):void eval("(function(event) { "+code+" }).call(this, event)")}.call(context)};return function(e){void 0===e&&(e={});var t=e.target;if(Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isString)(callback))return evalCaller(callback,t);if(Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isFunction)(callback))return callback.apply(void 0,preactCallbackKeywordsReplace(argsA,t,e));if(isArray(callback)){var n=callback[0],r=callback.slice(1).concat(argsA),a=preactCallbackKeywordsReplace(r,t,e);if(Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isFunction)(n))return n.apply(void 0,a);if(Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isString)(n)){var i=r.reduce((function(e,t,n,r){return e+="event"!==t&&"this"!==t?"'"+t+"'":t,n!==r.length-1?e+=", ":e=e.trim(),e}),"");return evalCaller(n+"("+i+");",t)}}}}function getLangReplace(e,t){for(var n in void 0===t&&(t={}),t)if(t.hasOwnProperty(n)){var r="{"+n+"}";e=e.replace(r,t[n])}return e}function winToUtf(e){return Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.winToUtf)(e)}function getNumShort(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var r=e;(e>=1e4&&e<1e6?r=Math.floor(e/1e3)+"K":e>=1e6&&(r=Math.round(e/1e6,1)+"M"),t)&&(r=e<1e4?getLangNumeric(e,t,n):getLangNumeric(789,t).replace(new RegExp(789,"g"),r));return r}},g3t9:function(e,t,n){"use strict";n.r(t),n.d(t,"Separator",(function(){return a}));var r=n("z9sQ");function a(e){return void 0===e&&(e={}),{class:[e.class,r.default.class("Separator",{hideOnDesktop:e.hideOnDesktop,noOffset:e.noOffset,gray:e.gray},"--")],tag:"div"}}t.default=a},gF8j:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o})),n.d(t,"getVisibilityState",(function(){return u})),n.d(t,"getVisiblityEvent",(function(){return l}));var r=n("uQjJ"),a=n("PU8N"),i=browser.iphone||browser.ipad||browser.ipod;function o(e){this.started=!1,this.is_idle=!0,this.activeTimeStart=null,this.cbActiveB=this.cbActive.bind(this),this.cbInactiveB=this.cbInactive.bind(this),this.onVisiblityChange=this.onVisiblityChange.bind(this),this.opts=extend({triggerEvents:"mousemove keydown",onIdleCb:function(){},onUnIdleCb:function(){},focusElement:e.element,element:null,idleTimeout:3e4},e)}function s(e,t,n){Object(a.isMvk)()?window.addEvent(e,t,n,{passive:!0}):window.addEvent(e,t,n)}function c(e,t,n){Object(a.isMvk)()?window.removeEvent(e,t,n,{passive:!0}):window.removeEvent(e,t,n)}function u(){return document.visibilityState||document.webkitVisibilityState}function l(){var e="visibilitychange";return document.visibilityState||(document.webkitVisibilityState?e+="webkit":e=""),e}extend(o.prototype,r.default.prototype),extend(o.prototype,{stop:function(){this.started=!1,c(this.opts.element,this.opts.triggerEvents,this.cbActiveB),Object(a.isMvk)()&&this._isTopLevel()&&l()&&c(document,l(),this.onVisiblityChange),Object(a.isMvk)()&&i||(c(this.opts.focusElement,"focus",this.cbActiveB),c(this.opts.focusElement,"blur",this.cbInactiveB)),clearTimeout(this.setIdleTo),clearTimeout(this.checkIdleCbTo),clearTimeout(this.sendCbTO),this.is_idle=!0,this.opts.parentManager&&this.opts.parentManager.off("idle",this.cbInactiveB)},idle:function(e){this.is_idle=!0,e||this.opts.onIdleCb(),this.emit("idle")},unidle:function(e){this.is_idle=!1,e||this.opts.onUnIdleCb(),this.emit("unidle")},start:function(){this.started=!0,!Object(a.isMvk)()&&browser.mobile||(this.is_idle=!this._isFocused(),this.opts.parentManager&&this.opts.parentManager.on("idle",this.cbInactiveB),Object(a.isMvk)()&&this._isTopLevel()&&l()&&s(document,l(),this.onVisiblityChange),Object(a.isMvk)()&&i||(s(this.opts.focusElement,"focus",this.cbActiveB),s(this.opts.focusElement,"blur",this.cbInactiveB)),clearTimeout(this.checkIdleCbTo),this.checkIdleCb(),this.checkIdleCbTo=setTimeout(this.checkIdleCb.bind(this),this.opts.idleTimeout))},checkIdleCb:function(){this.started&&(s(this.opts.element,this.opts.triggerEvents,this.cbActiveB),clearTimeout(this.setIdleTo),this.setIdleTo=setTimeout(this.cbInactiveB,this.opts.idleTimeout))},cbActive:function(){this.started&&(this.activeTimeStart=(new Date).getTime(),clearTimeout(this.setIdleTo),this.is_idle&&(this.is_idle=!1,clearTimeout(this.sendCbTO),this.sendCbTO=setTimeout(function(){this.emit("unidle"),this.opts.onUnIdleCb&&this.opts.onUnIdleCb()}.bind(this),100)),c(this.opts.element,this.opts.triggerEvents,this.cbActiveB),clearTimeout(this.checkIdleCbTo),this.checkIdleCbTo=setTimeout(this.checkIdleCb.bind(this),this.opts.idleTimeout))},cbInactive:function(){this.started&&(this.activeTimeStart=null,this.is_idle||(this.is_idle=!0,clearTimeout(this.sendCbTO),this.sendCbTO=setTimeout(function(){this.emit("idle"),this.opts.onIdleCb&&this.opts.onIdleCb()}.bind(this),100)),clearTimeout(this.checkIdleCbTo),c(this.opts.element,this.opts.triggerEvents,this.cbActiveB),s(this.opts.element,this.opts.triggerEvents,this.cbActiveB),this.checkIdleCbTo=setTimeout(this.checkIdleCb,this.opts.idleTimeout))},getActiveTime:function(){return!this.is_idle&&this.activeTimeStart?(new Date).getTime()-this.activeTimeStart:0},onVisiblityChange:function(){"visible"===u()?this.cbActiveB():this.cbInactiveB()},_isTopLevel:function(){var e=this.opts.focusElement;return e===window||e===document},_isFocused:function(){var e=this.opts.focusElement;if(this._isTopLevel()){var t=u();return"string"==typeof t&&"visible"===t}return document.activeElement===e}})},he4e:function(e,t,n){"use strict";n.r(t),n.d(t,"clear",(function(){return d})),n.d(t,"onClear",(function(){return c})),n.d(t,"onClearConfirm",(function(){return _})),n.d(t,"onClearDecline",(function(){return p})),n.d(t,"isCleared",(function(){return l}));var r=n("OcsD"),a=n("+cqQ"),i=n("UxAg"),o=n("r/ag"),s=n("29dZ"),c=Object(a.default)(),u={};function l(e){var t=/([a-z]*)(-?\d+)?(?:_(-?\d+))?/.exec(e)[2];return!!u[t]||!!u[e]}function d(e,t,n,a,i,o){if(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),o){s.default.setLoading(e,!0,"white");var c="restr_"+Object(r.srand)(),u=e.closest(".PostPhotoRestriction");Object(r.domData)(u,"clear-id",c),function(e,t,n,r,a){photoview._toggleTouches(!1),clog("[PostPhotoRestriction] Show confirm to unblur "+r),Confirm(t,"PostPhotoRestriction.onClearConfirm('"+e+"', '"+r+"', '"+a+"')","PostPhotoRestriction.onClearDecline('"+e+"')",{id:e,ok_text:n})}(c,n,a,i,o)}else clog("[PostPhotoRestriction] No hash was provided")}function _(e,t,n){o.default.close(Object(r.ge)(e)),photoview._toggleTouches(!0),ajax.post(t+"?act=unblur&hash="+n,{},{onDone:function(n){var a=Object(i.$)('[data-clear-id="'+e+'"]');if(a){var o=Object(i.$)(".SplashScreen__more .Btn",a);s.default.setLoading(o,!1),a.classList.add("PostPhotoRestriction--clear")}else clog("[PostPhotoRestriction] Can't find restriction el with clear id "+e);var l=/([a-z]*)(-?\d+)?(?:_(-?\d+))?/.exec(t),d=l[2],_=l[3],p=[];n?(p.push.apply(p,Object(i.$$)('.thumb_map_img--blur[data-id^="'+d+'"]')),p.push.apply(p,Object(i.$$)('.thumb_map_img--blur[href^="/photo'+d+'"]'))):(p.push(Object(i.$)('.thumb_map_img--blur[data-id="'+d+"_"+_+'"]')),p.push(Object(i.$)('.thumb_map_img--blur[href^="/photo'+d+"_"+_+'"]'))),p.forEach((function(e){if(e){e.classList.remove("thumb_map_img--blur");var t=Object(i.$)(".PostPhotoRestriction--blur,.PostPhotoRestriction--blurWithText",e);Object(r.re)(t)}})),n&&(u[""+d]=!0),u[t]=!0,c(t);var f=[];n?f.push.apply(f,Object(i.$$)('.PhotosPhotoItem__photo[data-id^="'+d+'"]')):f.push(Object(i.$)('.PhotosPhotoItem__photo[data-id="'+t.replace("photo","")+'"]')),f.forEach((function(e){if(e){e.classList.remove("PhotosPhotoItem__photo--blur");var t=Object(i.$)(".PhotosPhotoItem__restriction",e);Object(r.re)(t)}}));var h=[];n?h.push.apply(h,Object(i.$$)('.AlbumItem__thumb--blur[data-thumb-id^="'+d+'"]')):h.push(Object(i.$)('.AlbumItem__thumb--blur[data-thumb-id="'+t.replace("photo","")+'"]')),h.forEach((function(e){if(e){e.classList.remove("AlbumItem__thumb--blur");var t=Object(i.$)(".AlbumItem__restriction",e);Object(r.re)(t)}})),setTimeout((function(){Object(r.remove)(a)}),500)}})}function p(e){var t=Object(i.$)('[data-clear-id="'+e+'"]'),n=Object(i.$)(".SplashScreen__more .Btn",t);photoview._toggleTouches(!0),o.default.close(Object(r.ge)(e)),s.default.setLoading(n,!1)}nav.onBeforeGo((function(){Object(i.$$)(".Confirm[id^=restr]").forEach((function(e){p(e.id)}))}))},izth:function(e,t,n){"use strict";function r(){var e=document.domain||"";if(!["oauth.","api."].some((function(t){return e.includes(t)}))){var t=e.match(/(m\.)?([a-zA-Z]+\.[a-zA-Z]+\.?)$/);window.locDomain="https:"===location.protocol?t[2]:t[0];var n=navigator.userAgent.toLowerCase();!/opera/i.test(n)&&/msie 6/i.test(n)&&document.domain===window.locDomain||(document.domain=window.locDomain)}}n.r(t),n.d(t,"setDocumentDomain",(function(){return r}))},j1wj:function(e,t,n){"use strict";n.r(t),n.d(t,"getTimeFromStart",(function(){return a}));var r=0;function a(){return performance?performance.now():r?Date.now()-r:0}window.onDOMReady((function(){r=Date.now()}))},j80l:function(e,t,n){"use strict";function r(e,t){var n=need("nav");if(!t)return e;var r=e.split("?"),a=r[0],i=r[1],o={},s=[];return i&&i.split("&").map((function(e){var n=e.split("="),r=n[0],a=n[1];r in t||(t[r]=a)})),Object.keys(t).forEach((function(e){var r,a=t[e];!0===a&&(a=n.getQuery(e)),("string"==typeof(r=a)&&r||function(e){return"number"==typeof e&&!isNaN(e)}(a))&&(o[e]=a)})),Object.keys(o).forEach((function(e){s.push(e+"="+encodeURIComponent(o[e]))})),0===s.length?a:a+"?"+s.join("&")}n.r(t),n.d(t,"makeUrl",(function(){return r})),n.d(t,"parseURL",(function(){return i})),t.default=window.Url={make:r};var a=["protocol","hostname","host","pathname","port","search","hash","href"];function i(e){var t=window.ce("a",{href:e}),n=a.reduce((function(e,n){return e[n]=t[n],e}),{});return n.requestUri=""+n.pathname+n.search,n}},jYEY:function(e,t,n){var r;!function(a){"use strict";function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,r,a,o){return i((s=i(i(t,e),i(r,o)))<<(c=a)|s>>>32-c,n);var s,c}function s(e,t,n,r,a,i,s){return o(t&n|~t&r,e,t,a,i,s)}function c(e,t,n,r,a,i,s){return o(t&r|n&~r,e,t,a,i,s)}function u(e,t,n,r,a,i,s){return o(t^n^r,e,t,a,i,s)}function l(e,t,n,r,a,i,s){return o(n^(t|~r),e,t,a,i,s)}function d(e,t){var n,r,a,o,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var _=1732584193,p=-271733879,f=-1732584194,h=271733878;for(n=0;n<e.length;n+=16)r=_,a=p,o=f,d=h,_=s(_,p,f,h,e[n],7,-680876936),h=s(h,_,p,f,e[n+1],12,-389564586),f=s(f,h,_,p,e[n+2],17,606105819),p=s(p,f,h,_,e[n+3],22,-1044525330),_=s(_,p,f,h,e[n+4],7,-176418897),h=s(h,_,p,f,e[n+5],12,1200080426),f=s(f,h,_,p,e[n+6],17,-1473231341),p=s(p,f,h,_,e[n+7],22,-45705983),_=s(_,p,f,h,e[n+8],7,1770035416),h=s(h,_,p,f,e[n+9],12,-1958414417),f=s(f,h,_,p,e[n+10],17,-42063),p=s(p,f,h,_,e[n+11],22,-1990404162),_=s(_,p,f,h,e[n+12],7,1804603682),h=s(h,_,p,f,e[n+13],12,-40341101),f=s(f,h,_,p,e[n+14],17,-1502002290),_=c(_,p=s(p,f,h,_,e[n+15],22,1236535329),f,h,e[n+1],5,-165796510),h=c(h,_,p,f,e[n+6],9,-1069501632),f=c(f,h,_,p,e[n+11],14,643717713),p=c(p,f,h,_,e[n],20,-373897302),_=c(_,p,f,h,e[n+5],5,-701558691),h=c(h,_,p,f,e[n+10],9,38016083),f=c(f,h,_,p,e[n+15],14,-660478335),p=c(p,f,h,_,e[n+4],20,-405537848),_=c(_,p,f,h,e[n+9],5,568446438),h=c(h,_,p,f,e[n+14],9,-1019803690),f=c(f,h,_,p,e[n+3],14,-187363961),p=c(p,f,h,_,e[n+8],20,1163531501),_=c(_,p,f,h,e[n+13],5,-1444681467),h=c(h,_,p,f,e[n+2],9,-51403784),f=c(f,h,_,p,e[n+7],14,1735328473),_=u(_,p=c(p,f,h,_,e[n+12],20,-1926607734),f,h,e[n+5],4,-378558),h=u(h,_,p,f,e[n+8],11,-2022574463),f=u(f,h,_,p,e[n+11],16,1839030562),p=u(p,f,h,_,e[n+14],23,-35309556),_=u(_,p,f,h,e[n+1],4,-1530992060),h=u(h,_,p,f,e[n+4],11,1272893353),f=u(f,h,_,p,e[n+7],16,-155497632),p=u(p,f,h,_,e[n+10],23,-1094730640),_=u(_,p,f,h,e[n+13],4,681279174),h=u(h,_,p,f,e[n],11,-358537222),f=u(f,h,_,p,e[n+3],16,-722521979),p=u(p,f,h,_,e[n+6],23,76029189),_=u(_,p,f,h,e[n+9],4,-640364487),h=u(h,_,p,f,e[n+12],11,-421815835),f=u(f,h,_,p,e[n+15],16,530742520),_=l(_,p=u(p,f,h,_,e[n+2],23,-995338651),f,h,e[n],6,-198630844),h=l(h,_,p,f,e[n+7],10,1126891415),f=l(f,h,_,p,e[n+14],15,-1416354905),p=l(p,f,h,_,e[n+5],21,-57434055),_=l(_,p,f,h,e[n+12],6,1700485571),h=l(h,_,p,f,e[n+3],10,-1894986606),f=l(f,h,_,p,e[n+10],15,-1051523),p=l(p,f,h,_,e[n+1],21,-2054922799),_=l(_,p,f,h,e[n+8],6,1873313359),h=l(h,_,p,f,e[n+15],10,-30611744),f=l(f,h,_,p,e[n+6],15,-1560198380),p=l(p,f,h,_,e[n+13],21,1309151649),_=l(_,p,f,h,e[n+4],6,-145523070),h=l(h,_,p,f,e[n+11],10,-1120210379),f=l(f,h,_,p,e[n+2],15,718787259),p=l(p,f,h,_,e[n+9],21,-343485551),_=i(_,r),p=i(p,a),f=i(f,o),h=i(h,d);return[_,p,f,h]}function _(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function p(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function f(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function h(e){return unescape(encodeURIComponent(e))}function b(e){return function(e){return _(d(p(e),8*e.length))}(h(e))}function m(e,t){return function(e,t){var n,r,a=p(e),i=[],o=[];for(i[15]=o[15]=void 0,a.length>16&&(a=d(a,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^a[n],o[n]=1549556828^a[n];return r=d(i.concat(p(t)),512+8*t.length),_(d(o.concat(r),640))}(h(e),h(t))}function v(e,t,n){return t?n?m(t,e):f(m(t,e)):n?b(e):f(b(e))}void 0===(r=function(){return v}.call(t,n,t,e))||(e.exports=r)}()},"k+Df":function(e,t,n){"use strict";n.r(t);var r=n("z9sQ"),a=n("TYsd"),i=n("9y81"),o=n("29dZ"),s=n("tlMv");t.default=function(e){void 0===e&&(e={});var t=null;e.icon_raw?t=e.icon_raw:e.icon&&(t=Object(i.IconWd)({class:"SplashScreen__icon",icon:e.icon,svg:e.is_svg_icon}));var n=a.default.wrap(e.more_text);"primary"!==e.more_type&&"regular"!==e.more_type&&"outlineMono"!==e.more_type||(n=Object(o.default)({inner:[e.more_text],theme:e.more_type,url:e.more_url,onClick:e.more_onclick,attrs:{ontouchend:e.more_ontouchend},use_native_onclick:e.more_native_onclick}),e.more_url=null);var c=[e.class,r.default.class("SplashScreen",e.mix||{})];e.small&&c.push("SplashScreen--small");return[e.separator?Object(s.default)({hideOnDesktop:!e.separator_desktop}):null,{class:c,inner:e.inner||[e.before,t,e.title?{class:"SplashScreen__title",inner:a.default.wrap(e.title)}:null,e.text?{class:[e.text_class,"SplashScreen__text"],inner:a.default.wrap(e.text)}:null,e.more_text?{class:"SplashScreen__more",inner:n,href:e.more_url}:null,e.action_text?{class:"SplashScreen__action",inner:{class:"SplashScreen__actionButton",inner:a.default.wrap(e.action_text),href:e.action_url}}:null]}].filter((function(e){return e}))}},kr3z:function(e,t,n){"use strict";n.r(t);var r=n("wx14"),a=n("UxAg"),i=n("+cqQ"),o=n("jk6M"),s=n("jE6c"),c=n("OcsD"),u=n("j80l"),l=n("eGQV"),d=n("tgcV"),_=n("cGUQ"),p=n("izth"),f=n("Cbap"),h=function(e){void 0===e&&(e={});var t=["AudioPlaylistRoot",e.class].filter((function(e){return e})).join(" ");return{attrs:{"data-playlist-id":e.playlist_id},inner:e.inner,class:t}};var b=n("g3t9"),m=n("fdw3"),v=n("0hva"),g=n("z1UI"),D=n("GtpT"),w=n("vOib"),A=n("v+Uj");var O=function(e){void 0===e&&(e={});var t=window.lang,n=e.items||[],r=e.count||null,a=e.href,i=n.map((function(e){return{inner:[Object(D.default)({album:e})],class:"AlbumsBlock__album",tag:"div"}})),o={text:Object(m.getLang)("mobile_subheader_show_all"),class:"al_albums",url:a},s=Object(A.default)({inner:[{inner:[i],class:"AlbumsBlock__albums",tag:"div"}]});return{inner:[{name:"albums",tag:"a"},Object(w.default)({title:t.mobile_photos_block_albums_title,count:r,corner:o,content:s,no_border:!0,noShadow:!0})],class:"AlbumsBlock",tag:"div"}},E=n("1VZq");var y=function(e){var t=window.lang,n=e.items||[],r=e.count||null,a=e.buttons||{},i=e.href,o=e.hide_header||!1,s=e.label||t.mobile_photos_block_photos_title,c="PhotosBlock",u="PhotosBlock__photos";!!e.autoload&&(c+=" PhotosBlock--autoload",u+=" photos_page");var l={inner:[n.map((function(e){return Object(E.default)({photo:e})}))],class:u,tag:"div"},d=null;return i&&(d={text:Object(m.getLang)("mobile_subheader_show_all"),class:"al_empty",url:i}),{inner:[{name:"photos",tag:"a"},Object(w.default)({inner:[{inner:[a.prev,l,a.more],tag:"div"}],title:o?null:s,corner:d,count:r,noShadow:!0,no_border:!0})],class:c,tag:"div"}},C=n("tlMv");var k=function(e){var t=window.lang,n=e.pretag,r=e.buttons||{},a=e.is_owner,i=[],o=e.section,s=e.albums,c=e.albums_count,u=e.albums_href,l=e.photos,d=e.photos_count,_=e.new_tags_photos,p=e.new_tags_count,f=e.new_tags_href;if("all"===o){var h=s.map((function(e){return Object(D.default)({album:e})}));h&&i.push({inner:[r.prev?r.prev:null,{inner:[h],class:"AlbumsPage__items album_items photos_page bl_cont",tag:"div"},r.more?r.more:null],tag:"div"})}else s&&s.length&&i.push(O({items:s,count:c,href:u})),_&&_.length&&i.push(y({label:t.mobile_photos_block_tags_title,items:_,count:p,href:f})),l&&l.length&&i.push(y({autoload:!0,items:l,count:d,buttons:r}));if(!i.length){var b=a?t.mobile_albums_can_store_photos:t.mobile_albums_no_albums;return Object(g.default)({separator:!0,text:b,more_type:"primary",more_text:e.add_url?t.mobile_photos_placeholder_album_action:null,more_url:e.add_url})}return{inner:["all"!==o?Object(C.default)({hideOnDesktop:!0}):null,{inner:[i],class:"upanel bl_cont",tag:"div"},n],class:"AlbumsPage PageBlock PageBlock_bottomPadding",tag:"div"}},j=n("GVTI"),S=n("W9Tc"),P=n("gF8j"),M=n("r/ag"),x=n("29dZ"),I=n("vk58");var T,B=function(e){var t=function(e){var t=e.buttons,n=Object.keys(t).map((function(n){var r=t[n],a=r.theme;a="yes"!==n||a?"secondary":"regular";var i={"data-key":n,"data-force":e.force?1:0};return Object(x.default)({inner:[r.text],theme:a,url:r.href,attrs:i,on_click:"ConfirmPopup.onButtonClick(this, event);",use_native_onclick:!0})}));return Object(I.default)({inner:[n]})}(e),n={title:e.title};return Object(M.default)({inner:[Wd.wrap(e.text),{inner:[t],class:"Popup__buttons",tag:"div"}],class:"ConfirmPopup",header:n,scrollable:!0,on_overlay_click_native:"ConfirmPopup.onOverlayClick(this, event);"})},F=n("zq7H"),L=n("j1wj");if(!window.ajax){var R={onBeforeRedirect:Object(i.default)("url"),onBeforePageParse:Object(i.default)(),onPostsLoad:Object(i.default)(),onRedirect:Object(c.se)(),onNavDone:Object(i.default)(),_tStart:!1,_tAlStart:!1,RESPONSE_ARGUMENTS:0,RESPONSE_REDIRECT:1,RESPONSE_CAPTCHA:2,RESPONSE_PAGE:3,RESPONSE_FAILED_AUTH:4,RESPONSE_CONFIRM:5,RESPONSE_IGNORE:100,_getreq:function(){return new XMLHttpRequest},_al_reqs:[],_last_req:null,save_req:function(e){R._al_reqs.push(e||R._last_req)},abort_reqs:function(){Object(c.each)(R._al_reqs,(function(e,t){t.abort()})),R._al_reqs=[]},_failed_relogin:!1,_failed_reqs:[],save_failed_req:function(e,t,n,r){R._failed_reqs.push([e,t,n,r])},repeat_reqs:function(){Object(c.each)(R._failed_reqs,(function(){var e=this.shift();R._post.apply(null,this),Object(c.remove)(e)})),R._failed_reqs=[]},_error_displayed:null,plainpost:function(e,t,n,r,a,i,o,s){var u="string"!=typeof t?Object(_.toQueryString)(t,!0):t,d={"Content-Type":"application/x-www-form-urlencoded"};a||s||(d["X-Requested-With"]="XMLHttpRequest"),s||(Object(l.isStandalone)()&&(d["X-View-Mode"]="pwa"),i&&i.headers&&Object.assign(d,i.headers));var p=new AbortController,f=p.signal,h=new Request(e,{credentials:"same-origin",method:"POST",headers:d,body:u,signal:f}),b=fetch(h).then((function(e){return e.text().then((function(t){return e.status>=200&&e.status<300?n&&n(t,e):r&&r(t,e),{response:e,text:t}}))})).catch((function(e){var t=!1;if(r&&r(e&&e.message,null)&&(t=!0),"AbortError"===e.name)return null;if(window.isBasicOffline&&("true"===h.headers.get("X-Ajax-Nav")&&history.back(),!t&&(!R._error_displayed||R._error_displayed<=Date.now()-1e4))){var n=Object(c.getLang)("mobile_general_snackbar_error");navigator.onLine||(n=Object(c.getLang)("mobile_pwa_offline_network_lost")),Object(c.statlogsValueEvent)("mvk_ajax_error_snackbar",Number(navigator.onLine)),Snackbar.init({text:n}),R._error_displayed=Date.now()}throw e})),m={request:h,abort:p.abort.bind(p),promise:b};return R._last_req=m,m},post:function(e,t,n){return"/"!=e.substr(0,1)&&(e="/"+e),e=e.split("#")[0],R._post(e,t,n||{})},onPrepared:Object(c.se)(),prepare_click:function(e){var t=window.al;if(o.default.ios&&!(o.default.ios>=7)&&window.al&&t.ver){var n=[],r=!1;e&&"a"==(e.tagName||"").toLowerCase()?n.push(e):Object(c.isArray)(e)?n=e:(n=Object(c.geByTag)("a",e),r=!0);for(var a=0,i=n.length;a<i;a++){var s=n[a],u=s&&s.target||"";if(s&&s.getAttribute&&(!r||!s.getAttribute("data-href")&&Object(c.checkElementNav)(s,{skip_onclick:!0})&&"_blank"!=u)){var l=s.getAttribute("href");if(null==l||!Object(c.isHttpHref)(l))continue;Object(c.attr)(s,"data-href",Object(c.getHref)(s)),Object(c.attr)(s,"href",!1)}}}},click:function(e,t,n){var r=window.nav;t=t||{};var a,i=!1,o={_ajax:1},s=Object(c.extend)(t,{link:e});if(n=n||{},(n=Object(c.extend)({closeContextMenu:!0},n)).closeContextMenu&&ContextMenu.close(),t.onStart){var u=R.tAlGetParam();R.tAlStart=(new Date).getTime(),u&&(o._talstat=u)}if(n.use_cache){var l=Object(c.ge)(!0===n.use_cache?"preload_data":n.use_cache),d=l.innerHTML.replace(/(^<!--|-->$)/g,""),_=d.split("--\x3e\x3c!--");if(d)l.innerHTML="",t.onStart&&t.onStart.apply(s),n.nav&&r.go(i,null,{push_only:!0}),t.onDone&&t.onDone.apply(s,_),(e=Object(c.geByClass1)("show_more",Object(c.geByClass1)("pcont","mcont")))&&R.click(e,{onDone:function(){var e="";Object(c.each)(arguments,(function(t,n){e+="\x3c!--"+(n||"")+"--\x3e"})),l.innerHTML=e,Object(c.ge)("show_more_loading")&&R.click(!1,t,n),R.onPostsLoad()}},{closeContextMenu:!1});else t.onStart&&t.onStart.apply(s),n.nav&&r.go(i,null,{push_only:!0});return!1}if(!e)return!0;if(e.form){if(e.disabled)return!0;var p=e.form,f={};i=(p.action||"").replace(/^https?:\/\/[^\/]+/i,""),Object(c.each)(p,(function(t,n){return!(n.name&&!n.disabled)||("radio"===n.type&&!n.checked||("checkbox"===n.type&&!n.checked||("button"===n.type||("submit"===n.type&&n!==e||("image"===n.type&&n!==e||void(f[n.name]=n.value))))))})),"image"==e.type&&(f[e.name]=e.value,f[e.name+".x"]=1,f[e.name+".y"]=1),p.method&&"get"!=p.method?Object(c.extend)(o,f):i=i.split("?",1).shift()+Object(c.obj2qs)(f)}else e.getAttribute&&(i=e.getAttribute("data-href")||e.getAttribute("href"));if(i||(i=e.pathname?e.pathname+e.search+e.hash:e),!i)return!0;Object(c.extend)(o,n.url_params||{});var h=window.pStats,b=h.getSeenData();if(b){var m=window.cur;o._pstat=b.data,m&&m.module&&(o._pstatref=m.module)}return(a=R.post(i,o,{onDone:function(){b&&h.onSend(b.seen),n.lock&&Object(c.unlockButton)(e),t.onDone&&t.onDone.apply(s,arguments),(n.nav||n.scroll)&&Object(c.scrollToHash)()},onFail:function(){n.lock&&Object(c.unlockButton)(e),t.onFail&&t.onFail.apply(s,arguments),(n.nav||n.scroll)&&Object(c.scrollToHash)()}}))&&(t.onStart&&t.onStart.apply(s),n.nav&&r.go(i,null,{push_only:!0}),n.lock&&Object(c.lockButton)(e)),!a},nav:function(e,t){var n=window.nav,i=window.page,l=window.menu,_=window.cur,p=window.Tabbar;(t=t||{}).nav=t.nav||{};var f,g=Object(c.getHref)(e),w=i.getHash(t.nav);if(!(g=n.checkUrl(g)))return!1;"/"!=g.substr(0,1)&&(g="/"+g),l.close(null,!0),R.navStart=Object(L.getTimeFromStart)();var A=R.tGetParam();if(R.tStart=(new Date).getTime(),t.need_restore&&l&&l.closeSearch(),window.isNewMail&&(t.need_restore&&t.nav.push&&!t.need_check_updates&&R.abort_reqs(),n.onBeforeGo2(t.nav.path,Object.assign({},Object(c.qs2obj)(t.nav.params),t.params),t.nav.push,t)))return R.abort_reqs(),!0;if(t.need_restore&&t.nav.push&&(f=i.restore(w))&&(R.abort_reqs(),R._failed_relogin=!1,f.lm&&Object(c.extend)(f.lm,{tn:!1,bn:!1}),i.set(w,f,{restored:!0},t),t.zProcess&&(t.zProcess(f.st),delete t.zProcess),n.set(t),R.tModule=window.cur.module,R.tRestoreRender=(new Date).getTime(),!t.need_check_updates))return!0;var O=!1,E=!1;if(t.need_check_updates&&n.isTabHaveCache(t.tab,w));else if(t.fast)O=!0,i.set(w,!1,{before:!0,beforeAppend:t.beforeAppend,afterAppend:t.afterAppend}),E=t.onAfterFast||!1;else if(t.target&&t.target.className&&!_.ignoreFastNav){(y=/(?:^|\s)(al_([a-z_]+)(-?[0-9]+)?)(?:\s|$)/i.exec(t.target.className))&&y[1];var y,C=y&&y[2]||!1;switch(C){case"menu":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){var n=Object(a.$)(".vk__page");if(n.className=n.className.replace("vk__page_notifications",""),window.isNewMail){var r=Object(c.geByClass1)("mcont",e)||Object(c.geByClass1)("layout__basis");Object(c.val)(r,'<div class="pcont bl_cont"><div id="al_loading"></div></div>')}else Object(c.val)(Object(c.geByClass1)("mcont",e),'<div class="pcont bl_cont"><div id="al_loading"></div></div>');i.setMhead(e,Object(c.attr)(t.target,"data-header"),"/")},afterAppend:function(){window.isNewMail&&"/mail"===w?Object(c.alLoadingFix)(Object(c.geByClass1)("layout").offsetHeight):Object(c.alLoadingFix)(),Object(c.scrollTop)(0)}});break;case"tab":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){Object(c.val)(Object(c.geByClass1)("upanel",e),'<div id="al_loading"></div>'),Object(c.val)(Object(c.geByClass1)("basisDefault",e),'<div id="al_loading"></div>');var t=Object(c.geByClass1)("tabs_block",e)||Object(c.geByClass1)("tabs",e),n=Object(c.geByClass1)("active",t);n&&(Object(c.hasClass)("tab_item_top",n)?(Object(c.removeClass)("tab_item_cur",Object(c.geByClass1)("tab_item_cur",t)),Object(c.addClass)("tab_item_cur",Object(c.geByClass1)("tab_item",t))):(Object(c.removeClass)("tab_item_cur",Object(c.geByClass1)("tab_item_cur",t)),Object(c.addClass)("tab_item_cur",n)))},afterAppend:function(){Object(c.alLoadingFix)()}},t);break;case"post":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){var n=window.lang,r=Object(c.clone)(Object(c.gpeByClass)("post_item",t.target)),a=r.id,o=Object(c.outer)(Object(c.gpeByTag)("a",Object(c.geByClass1)("pi_img",r))).replace("pi_img","op_img"),s=Object(c.gpeByTag)("div",Object(c.geByClass1)("pi_author",r)),u=Object(c.remove)(Object(c.geByClass1)("pi_date",r)),l=Object(c.outer)(Object(c.remove)(Object(c.geByClass1)("explain",s))),d=Object(c.remove)(Object(c.geByClass1)("pi_fronly",r)),_=Object(c.outer)(s),p=Object(c.geByClass1)("pi_body",r),f=Object(c.geByClass1)("pi_text_more",p),h=(u=Object(c.geByClass1)("pi_date",r),Object(c.geByClass1)("pi_info",p)),b=Object(c.geByClass1)("pi_links",p),m=Object(c.geByClass1)("replies_link",b),v=Object(c.val)(Object(c.remove)(Object(c.geByClass1)("pi_actions_wrap",r))),g=Object(c.val)(Object(c.remove)(Object(c.geByClass1)("item_replies",h)))?Object(c.val)(m):n.mobile_wall_post_replies_title,D=m?'<a name="comments"></a><h3 class="slim_header">'+(g||"")+'</h3><div id="al_loading"></div>':"";if(f){var w=f.nextSibling?f:f.parentNode;w.nextSibling.style.display="inline",w.style.display="none"}Object(c.val)(b,Object(c.outer)(Object(c.geByClass1)("like_wrap",p))),u&&Object(c.attr)(u,"data-date")&&Object(c.val)(u,Object(c.attr)(u,"data-date")),i.setMhead(e,Object(c.attr)(t.target,"data-header"),!0),Object(c.val)(Object(c.geByClass1)("mcont",e),function(e,t,n,r,a,i,o,s){return'<div class="pcont bl_cont"><div class="owner_panel">'+(t||"")+'<div class="op_cont">'+(n||"")+'<div class="op_info"><span class="item_date">'+(r||"")+'</span></div></div></div><div id="'+(e||"")+'" class="post_item single_post_item"><div class="pi_cont"><div class="pi_head">'+(a||"")+'</div><div class="pi_body">'+(i||"")+"</div></div>"+(s||"")+"</div>"+(o||"")+"</div>"}(a,o,_,Object(c.val)(u)+(d?'<b class="pi_fronly"></b>':""),l,Object(c.val)(p),D,v))},afterAppend:function(e){var n=Object(c.geByTag1)("h3",e);n&&Object(c.alLoadingFix)(t.nav.hash?Object(c.getCh)()-n.offsetHeight:0),t.nav.hash?Object(c.scrollToHash)(t.nav.hash):Object(c.scrollTop)(0)}},t);break;case"wall":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){var n=window.lang,r=Object(c.clone)(Object(c.hasClass)("wall_item",t.target)?t.target:Object(c.gpeByClass)("wall_item",t.target)),a=r.id,o=Object(c.geByClass1)("wi_body",r),s=Object(c.geByClass1)("wi_buttons",r),u=Object(c.geByClass1)("item_like",s),l=Object(c.geByClass1)("v_like",u),d=Object(c.geByClass1)("item_share",s),_=Object(c.geByClass1)("v_share",d),p=Object(c.remove)(Object(c.geByClass1)("item_replies",s)),f=!!p&&Object(c.geByClass1)("v_replies",p),h=+Object(c.stripTags)(Object(c.val)(f)).replace(/\D/g,""),m=Object(c.geByClass1)("pi_text_more",o),v=Object(c.geByClass1)("wi_date",r),g=h?Object(c.langNumeric)(h,n.mobile_wall_post_comments):n.mobile_wall_post_replies_title,D=p&&h<50?'<a name="comments"></a><h3 class="slim_header">'+(g||"")+'</h3><div id="al_loading"></div>':"";if(clog("item_replies",p),Object(c.remove)(Object(c.geByClass1)("wi_actions_btn",r)),Object(c.remove)(Object(c.geByClass1)("post__subscribeBtn",r)),Object(c.remove)(Object(c.geByClass1)("post__extraHeader",r)),l?Object(c.val)(l):Object(c.append)(Object(c.ce)("span",{className:"v_like"}),u),_?Object(c.val)(_):Object(c.append)(Object(c.ce)("span",{className:"v_share"}),d),m){var w=m.nextSibling?m:m.parentNode;w.nextSibling.style.display="inline",w.style.display="none"}v&&Object(c.attr)(v,"data-date")&&Object(c.val)(v,Object(c.attr)(v,"data-date")),i.setMhead(e,Object(c.attr)(t.target,"data-header"),!0);var A=Wd.html(Object(b.Separator)({hideOnDesktop:!0}));Object(c.val)(Object(c.geByClass1)("mcont",e),function(e,t,n,r){return'<div class="pcont"><div class="PageBlock">'+e+'<div class="wall_item single_wall_item" id="'+(t||"")+'">'+(n||"")+"</div>"+(r||"")+"</div></div>"}(A,a,Object(c.val)(r),D)),Object(c.addClass)("vk__page_singlePost",document.body)},afterAppend:function(e){var n=Object(c.geByTag1)("h3",e);n&&Object(c.alLoadingFix)(t.nav.hash?Object(c.getCh)()-n.offsetHeight:0),t.nav.hash?Object(c.scrollToHash)(t.nav.hash):Object(c.scrollTop)(0)}},t);break;case"pinfo":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){var t=window.lang,n=Object(c.geByClass1)("owner_panel",e),r=Object(c.geByClass1)("pp_img",n),a=Object(c.geByClass1)("op_header",n),o=Object(c.geByClass1)("lvi",a),s=Object(c.geByClass1)("pp_last_activity",n),u=Object(c.ce)("div");Object(c.addClass)("mhi_back",Object(c.geByClass1)("mh_header",e)),Object(c.val)(n,'<img src="'+Object(c.escapeAttr)(Object(c.attr)(r,"src")||"")+'" class="op_img"><div class="op_cont"><h2 class="op_header">'+Object(c.stripTags)(Object(c.val)(a))+'</h2><div class="pp_online">'+(o?t.mobile_online:Object(c.val)(s))+"</div></div>"),Object(c.val)(Object(c.geByClass1)("ipanel",e),"<div>"+Object(c.val)(u)+'</div><div id="al_loading"></div>'),i.setMhead(e,!1,!0)},afterAppend:function(){Object(c.alLoadingFix)(),Object(c.scrollTop)(0,10)}},t);break;case"player":O=!0;var P=Object(c.qs2obj)(t.nav.params).playlist_id;i.set(w,!1,{before:!0,beforeAppend:function(e){var t=window,n=t.lang,r=t.audio,a=(r.playlist(),r.playlist_q());i.setMhead(e,n.mobile_menu_player_head_title,!0),Object(c.val)(Object(c.geByClass1)("mcont",e),'\n                <div class="pcont audioPage">\n                  <div class="PageBlock">\n                    <div class="audioPage__header">\n                      '+AudioPlaylist.tplPlayerSearch(P)+'\n                    </div>\n                    <div id="au_search_items" class="upanel bl_cont">\n                      <div class="audios_block audios_list _si_container" data-query="'+Object(c.escapeAttr)(a)+'"></div>\n                    </div>\n                  </div>\n                </div>'),Object(c.val)("m",e.innerHTML)}},t),E=function(){var e=window,n=e.qsearch,r=e.audio,a=r.playlist(),s="/audio"+Object(c.obj2qs)({act:"player",list:P}),u=[],l={},d=r.getCurrentId();Object(c.each)(a,(function(e,t){t.chartInfo=null,u.push(t.fullId),l[t.fullId]=[t.performer+" "+t.title,t]}));var _=u.indexOf(d),p=_>-1?Math.min(_+10,u.length):50,f=[];n.init({action:s,al_action:s,container:"au_search_items",field:Object(c.ge)("au_search_field"),btn:Object(c.ge)("au_search_btn"),top_items:u,_cache:l,forceRerender:!0,tpl:function(e,t,n,a){var i="";if(t){if(a)return a;i=""==a?'<div class="audios_block audios_list _si_container" data-query="'+Object(c.escapeAttr)(t)+'">'+e+"</div>":'<div class="audios_block audios_list _si_container" data-query="'+Object(c.escapeAttr)(t)+'"><div class="al_loading qs_loading">&nbsp;</div></div>'}else i='<div class="audios_block audios_list _si_container" data-query="'+Object(c.escapeAttr)(r.playlist_q())+'">'+e+"</div>";return Wd.html(h({playlist_id:P,inner:Wd.wrap(i)}))},item_tpl:function(e){var t=window.audioplayer;return f.push(e),t&&t.getDOMFromAudio(e,!0,this.q,!0)||""},null_tpl:function(e){var t=window.lang;return'<div class="service_msg_box">\n                  <div class="service_msg service_msg_null">\n                  '+(e?t.mobile_audio_search_not_found.replace("%s",Object(c.htsc)(e)):t.mobile_audio_no_audio)+"\n                  </div>\n                </div>"},soft_filter:!0,need_invalid_keys:o.default.desktop,top_len:p,global_search:!0,onRendered:function(){var e=window,t=e.audioplayer,n=e.audio;t&&t.initAudio(),n.addToPlaylist(f),Object(c.alLoadingFix)()},al_need:!0,init_offset:0});var b=window.audioplayer.getCurrentElem();if(b){var m=Object(c.getY)(b)+b.offsetHeight/2-Object(c.getCh)()/2;Object(c.scrollTop)(m,100),i.save(w,{html:null,st:Object(c.scrollTop)(),page:Object(c.ge)("m"),state:i.stash(),cur:window.cur,options:t||{}},!1)}};break;case"photo":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){p.drawLoader(e);var n=Object(c.geByTag1)("img",t.target),r=(Object(c.attr)(n,"data-src_big")||"").split("|"),a=(r[0],r[1],r[2],n&&n.src||"/images/mobile/blank.gif"),o=n&&n.width||+r[1]||0,s=n&&n.height||+r[2]||0,u=(domData(n,"info-title"),domData(n,"info-subtitle"),function(e,t){return Wd.html(Object(j.default)({is_loading:!0,photo:e}))}({src:a,width:o,height:s}));Object(c.val)(Object(c.geByClass1)("mcont",e),u),Object(c.alLoadingFix)(),i.setMhead(e,lang.mobile_photos_photo_title)},afterAppend:function(){Object(c.alLoadingFix)(),Object(c.scrollTop)(0)}},t);break;case"album":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){p.drawLoader(e);var n,o=t.target.href,s=/((?:album|tag)(-?\d+)(?:(?:_(\d+))?))/.exec(o);s&&(n=s[1]);var l=n&&Object(m.getState)(n)||{},d=Object(a.$)(".AlbumItemInfo__title",t.target),_=!1;t.target.classList.contains("AlbumItem--empty")&&(_=!0);var f=Object(u.makeUrl)("/"+n,{act:"select_album"}),h=Object(r.default)({},l,{title:l.title||Object(c.val)(d)||lang.mobile_page_title_album,description:Wd.wrap(l.description),is_empty:_,add_url:f}),b=function(e){return void 0===e&&(e={}),Wd.html(Object(v.default)(Object(r.default)({},e,{title:Wd.wrap(e.title),is_loading:!e.is_empty})))}(h);Object(c.val)(Object(c.geByClass1)("mcont",e),b),Object(c.alLoadingFix)(),i.setMhead(e,h.title,!0,!1,{movable:!0})},afterAppend:function(){Object(v.initAlbumPage)(),Object(c.alLoadingFix)(),Object(c.scrollTop)(0)}});break;case"albums":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){p.drawLoader(e);var n=t.target.closest(".AlbumsBlock"),i=[];n&&(i=Array.from(Object(a.$$)(".AlbumItem",n)).map((function(e){return Object(D.getDataFromDOM)(e).album})));var o=function(e){return void 0===e&&(e={}),Wd.html(k(Object(r.default)({},e,{section:"all"})))}({albums:i});Object(c.val)(Object(c.geByClass1)("mcont",e),o),Object(c.alLoadingFix)()},afterAppend:function(){Object(v.initAlbumPage)(),Object(c.alLoadingFix)(),Object(c.scrollTop)(0)}});break;case"u":case"g":case"p":case"e":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){p.drawLoader(e)},afterAppend:function(){Object(c.alLoadingFix)(),Object(c.scrollTop)(0)}},t);break;case"playlists":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){p.drawLoader(e)},afterAppend:function(){Object(c.alLoadingFix)(),Object(c.scrollTop)(0)}});break;case"empty":case"artist":case"playlist":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){p.drawLoader(e)},afterAppend:function(){Object(c.alLoadingFix)(),Object(c.scrollTop)(0)}},t);break;case"news_subsection":O=!0,i.set(w,!1,{before:!0,beforeAppend:function(e){var t=Object(c.geByClass1)("news_subsections",e);t&&!Object(c.hasClass)("summary_loading",t.firstChild)&&Object(c.before)(Object(c.ce)("div",{className:"summary_loading",innerHTML:'<i class="i_loading"></i>'}),t.firstChild)}});break;case"tabbar":O=!0,t.is_fast=!0;var M=!1,x={options:{is_fast:!0,tab:t.tab,prev_tab:t.prev_tab}};t.need_check_updates&&f&&(x=Object(c.extend)(x,f),M=!0),i.set(w,x,{before:!M,beforeAppend:function(e){i.setMhead(e,Object(c.attr)(t.target,"data-header"),!1),p.drawSkeletonLoader(e,t.tab),document.body.classList.contains("vk_tabbar_bottom")&&i.hideHeader(e)},afterAppend:function(){Object(c.alLoadingFix)()}});break;default:_=window.cur;var I=!!Object(c.geByClass1)("mhi_logo","mhead");if(O=!0,_.al_fast&&_.al_fast[C])i.set(w,!1,_.al_fast[C](t),t);else if(!I){var T={options:{is_fast:!0,tab:t.tab,removeAfterNextResponse:t.removeAfterNextResponse}};i.set(w,T,{before:!0,afterAppend:function(){Object(c.alLoadingFix)()}})}}}if(t.need_check_updates||R.abort_reqs(),t.local){var B=!0;i.set(w,{},{after:!0,no_scroll:!0,force:!0},!1),E&&E()}else{var F=Object(S.partConfigEnabled)("mvk_fix_nav_params")?{}:Object(c.qs2obj)(t.nav.params);Object(c.extend)(F,t.params||{}),window.al&&!window.al.inited?F[l.NEED_MENU_PARAM]=l.FORCE_NEED_MENU:window.al&&window.al.menu||(F[l.NEED_MENU_PARAM]=l.NEED_MENU),A&&(F._tstat=A);var N=window.pStats,W=N.getSeenData();W&&(F._pstat=W.data,_&&_.module&&(F._pstatref=_.module)),t.target&&Object(s.isElement)(t.target)&&(F._ref=domData(t.target,"ref")),F._ref||(F._ref=(n.path||"").substr(1));var H=g.split("#");!F._hash&&H.length>1&&(F._hash="#"+H[1]),Object(d.preloadStaticForNavigation)(g);var U=Object.assign({},t.headers,{"X-Ajax-Nav":"true"});B=R.post(g,F,{onPageDone:function(e,n,r,o,s){R.fastNav=!1;var c=window.cur;if(W&&N.onSend(W.seen),R.tProcess=(new Date).getTime(),i.set(w,{title:e,html:n,js:r,lm:o,bc:s,st:t.st||0},{after:O,no_scroll:O,al_transition:!0},!O&&t),t.back){var u=Object(a.$)(".layout");i.setMhead(u,!1,t.back)}R.tModule=c.module,R.tRender=(new Date).getTime(),R.onNavDone()},redirectToLoginPage:t.redirectToLoginPage,headers:U});R.save_req()}return O&&(t.zProcess&&(t.zProcess(),delete t.zProcess),n.set(t),R.tModule=_.module,R.tFastRender=(new Date).getTime(),R.fastNav=!0),B},confirm:function(e){function t(t,n,r,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n,r){return!!confirm(t)&&R.click(e,r,{url_params:{hash:n}})})),_post:function(e,t,n){var r=function(e,t){n.onFail&&n.onFail.call(window,0,e,t)},a=window.debuglogSent?window.debuglogSent(e):-1;return R.plainpost(e,t,(function(i,o){if(204===o.status&&o.headers.get("X-AppShell-Fallback")){var s=location.href;return history.replaceState(null,null,Object(u.makeUrl)(location.href,{__appshell_fallback:o.headers.get("X-AppShell-Fallback")})),void location.replace(s)}var l=!1;try{l=Object(c.parseJSON)(i)}catch(t){if(o.getResponseHeader("Content-Type").includes("text/html"))return nav.hard_go(e,null,n);l=!1}!1===l?r():(R.parseResponse(l,e,t,n),R._debugLog(a,l.debugLog))}),r,null,{headers:n.headers})},_debugLog:function(e,t){window.debuglogGot&&window.debuglogGot(e,t)},parseResponse:function(e,t,n,r){var i,o=window.al,s=window.nav,u=window.menu,l=window.page,_=e.version,h=e.counters,b=e.notifications,m=e.type,v=e.statsMeta,g=t.indexOf("community")>=0,D=!1;if(m!==R.RESPONSE_IGNORE)switch(g?(D=!(!window.al||_===o.ver))&&Object(c.statlogsValueEvent)("mvk_version_reload",1,_,o.ver,"old_force_reload_community"):window.al&&_!==o.ver?Object(S.partConfigEnabled)("mvk_lazy_static_reload")?m===R.RESPONSE_ARGUMENTS?T||(T=new P.default({id:"mvk_static_manager",element:document,focusElement:window,triggerEvents:"mouseover mousedown keypress touchstart",idleTimeout:6e5,onIdleCb:function(){Object(c.statlogsValueEvent)("mvk_version_reload",1,_,o.ver,"new_idle_reload"),T.stop(),location.reload()}})).start():(Object(c.statlogsValueEvent)("mvk_version_reload",1,_,o.ver,"new_force_reload"),D=!0):(Object(c.statlogsValueEvent)("mvk_version_reload",1,_,o.ver,"old_force_reload"),D=!0):!window.menu||e.lm_data&&e.lm_data.lm||u.isMenuHasItems()&&((D=!u.refreshCounters(h))&&Object(c.statlogsValueEvent)("mvk_version_reload",1,_,o.ver,"old_force_reload_change_menu"),u.refreshNotifications(b)),void 0===h||!1===h||g||Object(c.setNotify)(h[F.COUNTERS_POS_MESSAGES]),e.lm_data&&e.lm_data.lm&&(h&&(e.lm_data.counters=h),b&&(e.lm_data.notifications=b)),v&&window.vk&&(window.vk.statsMeta=v),m){case R.RESPONSE_ARGUMENTS:if(D)return s.hard_go(s.cur,null,{replace:!0});var w=e.data;if(i=w&&Object(c.isObject)(w[0])&&w[0]._snackbar){if(Snackbar.init(i),2===i.type)return photoview.opened()?void photoview.close():Stories.opened?void Stories.close():zlayer.opened()?void zlayer.close():void(R.fastNav&&history.back());delete w[0]._snackbar}r&&r.onDone&&r.onDone.apply(window,w);break;case R.RESPONSE_REDIRECT:var A=e.location;R.onRedirect(!0,A);var O=e.hard,E=e.frame,y=e.clear,C=e.restore,k=e.replace;if(!E&&window.isNewMail&&R.onBeforeRedirect(A))break;if(y&&s.clear(),(i=e._snackbar)&&(Snackbar.init(i),delete e.snackbar),D||O)s.hard_go(A,null,{replace:k});else if(E){Object(p.setDocumentDomain)();var j=A+(-1==A.indexOf("?")?"?":"&")+"__extra=1",M=Object(c.createIframe)({src:j})}else k&&A===s.prev_cur?history.back():s.go(A,null,{ignore_cur_process:!0,need_restore:C,replace:k});break;case R.RESPONSE_CAPTCHA:var x=e.location,I=e.img,L=e.post,N=e.key;r&&r.onFail?r.onFail(m,x,{location:x,img:I,post:L,key:N}):s.hard_go(x);break;case R.RESPONSE_PAGE:var W=e.lm_data;if(l.need_hard_go=D,W&&W.rdr&&window.al&&o.menu&&Object(c.getW)("vk_wrap")>=614){s.go(W.rdr,null,{replace:!0});break}f.default.getRouter().deactivateAllRoutes(),cur.share&&"destroy"in cur.share&&cur.share.destroy(),(r=r||{}).onPageDone||(r.onPageDone=function(e,n,r,a,i){s.go(t,null,{push_only:!0}),l.set(l.getHash(s),{title:e,html:n,js:r,lm:a,bc:i})});var H=e.title,U=e.html,K=e.js,V=e.body_class,q=e.top_bar,G=Object(c.ge)("vk_topbar");q&&!G?(G=Object(c.ce)("div",{id:"vk_topbar",innerHTML:q}),Object(c.before)(G,Object(a.$)(".layout"))):Object(c.val)(G,q),e.env&&e.env.pe&&(window.vk.pe=e.env.pe),Object(d.addStatic)(e.static_files).then((function(){r.onPageDone(H,U,K,W,V)}));break;case R.RESPONSE_FAILED_AUTH:if(r.redirectToLoginPage)return window.location=e.location,!1;if(!R._failed_relogin){var $=e.location;Object(p.setDocumentDomain)();M=Object(c.createIframe)({src:$})}R._failed_relogin=!0,R.save_failed_req(M,t,n,r);break;case R.RESPONSE_CONFIRM:var z=e.data,Q=B(z),Y=Wd.elem(Q);Popup.open(Y,!0);break;case R.RESPONSE_IGNORE:return}},onReLoginDone:function(){R.repeat_reqs(),R._failed_relogin=!1},tGetParam:function(){if(R.tStart&&R.tModule){var e=R.tFastRender-R.tStart,t=R.tRestoreRender-R.tStart,n=R.tProcess-R.tStart,r=R.tRender-R.tProcess,a=["/"==R.tModule.substr(0,1)?R.tModule.substr(1):R.tModule,e,t,n,r];for(var i in a)(!a[i]||a[i]<0)&&(a[i]=0);return R.tStart=!1,a.join(",")}},tAlGetParam:function(){if(R.tAlStart&&R.tAlModule){var e=R.tAlProcess-R.tAlStart,t=R.tAlRender-R.tAlProcess,n=["al_"+("/"==R.tAlModule.substr(0,1)?R.tAlModule.substr(1):R.tAlModule),e,t];for(var r in n)(!n[r]||n[r]<0)&&(n[r]=0);return R.tAlStart=!1,n.join(",")}},refreshLinks:function(e,t){if(e){var n=Object(c.geByClass1)("mmi_fv","lm_cont"),r=n&&Object(c.geByClass1)("lfm_item",n),a=Object(c.geByClass1)("mmi_fv","mfoot"),i=a&&Object(c.geByClass1)("lfm_item",a),o=Object(c.ge)("fv_link"),s=Object(c.ge)("menu_fv_link"),u=Object(c.geBySel1)('link[rel="canonical"]');Object(c.attr)(r,"href",e),Object(c.attr)(i,"href",e),Object(c.attr)(o,"href",e),Object(c.attr)(u,"href",Object(c.attr)(Object(c.ge)("mcont"),"data-canonical")),window.nav.prev_fv_link&&Object(c.attr)(s,"href",window.nav.prev_fv_link),window.nav.fv_link=e}if(t){var l=Object(c.geByClass1)("mmi_app","lm_cont"),d=l&&Object(c.geByClass1)("lfm_item",l),_=Object(c.geByClass1)("mmi_app","mfoot"),p=_&&Object(c.geByClass1)("lfm_item",_),f=Object(c.ge)("app_link"),h=!!t&&"return nav.app_go(this, event, '"+Object(c.escapeStr)(t)+"');";Object(c.attr)(d,"onclick",h),Object(c.attr)(p,"onclick",h),Object(c.attr)(f,"onclick",h)}}};window.ajax=R}t.default=window.ajax},lyAj:function(e,t,n){"use strict";n.r(t);var r=n("PU8N");!function(e){if(!e.fastXDM){var t={},n=[],a={};e.fastXDM={_id:0,helperUrl:"https://vk.com/js/api/xdmHelper.js",Server:function(n,r,a){this.methods=n||{},this.filter=r,this.options=a||{},this.id=e.fastXDM._id++,this.key=function(){for(var e="",t=0;t<5;t++)e+=Math.ceil(15*Math.random()).toString(16);return e}(),this.frameName="fXD"+this.key,this.frameId="fXD"+this.key,this.server=!0,this.methods["%init%"]=this.methods.__fxdm_i=function(){e.fastXDM.run(this.id),this.methods.onInit&&this.methods.onInit()},t[this.key]=[l,this]},Client:function(n,r){if(this.methods=n||{},this.options=r||{},this.id=e.fastXDM._id++,this.client=!0,e.fastXDM.run(this.id),0!==window.name.indexOf("fXD"))throw Error("Wrong window.name property.");this.key=window.name.substr(3),this.caller=window.parent,t[this.key]=[l,this],e.fastXDM.on("helper",(function(){e.fastXDM.onClientStart(this)}),this),c((function(e){e.send(this,e.json.stringify(["%init%"]));var t=this.methods;setTimeout((function(){t.onInit&&t.onInit()}),0)}),this)},onMessage:function(n){if(n.origin!==e.location.origin&&cur){var r=cur.app&&cur.app.options&&cur.app.options.src?cur.app.options.src:"";if(!r)return!1;n.origin!==r&&n.origin+"/"!==r.substring(0,n.origin.length+1)&&console.warn&&console.warn("Warning: message from "+n.origin+" will be disable in future")}var a=n.data;if(!a)return!1;if("string"!=typeof a&&!(a instanceof String))return!1;var i=a.substr(0,5);if(t[i]){var o=t[i][1];!o||o.filter&&!o.filter(n.origin)||t[i][0](a.substr(6),o)}},setJSON:function(e){a.json=e},getJSON:function(e){if(!e)return a.json;c((function(t){e(t.json)}))},setEnv:function(e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);u()},_q:{},on:function(e,t,n){this._q[e]||(this._q[e]=[]),-1==this._q[e]?t.apply(n):this._q[e].push([t,n])},run:function(e){for(var t=(this._q[e]||[]).length,n=0;n<t;n++)this._q[e][n][0].apply(this._q[e][n][1]);this._q[e]=-1},waitFor:i},e.fastXDM.Server.prototype.start=function(t,n){if(t.contentWindow)this.caller=t.contentWindow,this.frame=t,e.fastXDM.on("helper",(function(){e.fastXDM.onServerStart(this)}),this);else{var r=this;(n=n||0)<50&&setTimeout((function(){r.start.apply(r,[t,n+1])}),100)}},e.fastXDM.Server.prototype.destroy=function(){delete t[this.key]},e.fastXDM.Server.prototype.append=function(e,t,n){var a=document.createElement("DIV");a.innerHTML='<iframe name="'+this.frameName+'"  id="'+this.frameId+'" '+(n||"")+"></iframe>";var i=a.firstChild;!Object(r.isMvk)()&&t.vkApp&&window.cur&&window.cur.app&&i.addEventListener("load",(function(){var e=cur.app.cont,t={type:"VKWebAppSettings",frameId:e.id};e.firstElementChild.contentWindow.postMessage(t,"*")}));var o=this,s=function(){i.frameBorder="0",t&&function e(t,n){for(var r in n)t[r]&&"object"==typeof t[r]?e(t[r],n[r]):t[r]=n[r]}(i,t),e.insertBefore(i,e.firstChild),o.start(i)};return!Object(r.isMvk)()&&~e.className.indexOf("app_container--vk-app")&&delete t.scrolling,o.options.layer?s():setTimeout((function(){s()}),0),i},e.fastXDM.Client.prototype.callMethod=e.fastXDM.Server.prototype.callMethod=function(){for(var t=this,n=Array.prototype.slice.call(arguments),r=n.shift(),a=0,o=n.length;a<o;a++)"function"==typeof n[a]?function(){t.funcsCount=(t.funcsCount||0)+1;var e=n[a],r="_func"+t.funcsCount;t.methods[r]=function(){e.apply(this,arguments),delete this.methods[r]},n[a]={_func:t.funcsCount}}():this.options.safe&&(n[a]=s(n[a],!1));i(this,"caller",(function(){e.fastXDM.on(this.id,(function(){c((function(e){e.send(this,e.json.stringify([r,n]))}),this)}),this)}),this)},e.JSON&&"object"==typeof e.JSON&&e.JSON.parse&&e.JSON.stringify&&'{"a":[1,2,3]}'===e.JSON.stringify({a:[1,2,3]}).replace(/ /g,"")?a.json={parse:e.JSON.parse,stringify:e.JSON.stringify}:e.fastXDM._needJSON=!0,e.postMessage?(a.protocol="p",a.send=function(e,t){var n=e.frame?e.frame.contentWindow:e.caller;if(n)try{n.postMessage(e.key+":"+t,"*")}catch(r){window.postMessage.call(n,e.key+":"+t,"*")}},e.addEventListener?e.addEventListener("message",e.fastXDM.onMessage,!1):e.attachEvent("onmessage",e.fastXDM.onMessage),e.fastXDM._needJSON?(e.fastXDM._onlyJSON=!0,o()):u()):o()}function i(e,t,n,r,a){e[t]?n.apply(r):(a=a||0)<1e3&&setTimeout((function(){i(e,t,n,r,a+1)}),0)}function o(t){setTimeout((function(){var n=document.createElement("script");n.type="text/javascript",n.src=t||e.fastXDM.helperUrl,i(document,"body",(function(){document.getElementsByTagName("HEAD")[0].appendChild(n)}))}),0)}function s(e,t){var n;switch(typeof e){case"string":n=t?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):e.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");break;case"object":if("[object Array]"===Object.prototype.toString.apply(e)){n=[];for(var r=0,a=e.length;r<a;r++)n[r]=s(e[r],t)}else for(var i in n={},e)Object.hasOwnProperty.call(e,i)&&(n[i]=s(e[i],t));break;default:n=e}return n}function c(e,t){a.loaded?e.apply(t,[a]):n.push([t,e])}function u(){a.loaded=!0;for(var e=0,t=n.length;e<t;e++)n[e][1].apply(n[e][0],[a])}function l(e,t){c((function(n){var r=n.json.parse(e);if(r[0]){r[1]||(r[1]=[]);for(var a=0,i=r[1].length;a<i;a++)r[1][a]&&r[1][a]._func?function(){var e=r[1][a]._func;r[1][a]=function(){var n=Array.prototype.slice.call(arguments);n.unshift("_func"+e),t.callMethod.apply(t,n)}}():t.options.safe&&(r[1][a]=s(r[1][a],!0));setTimeout((function(){t.methods[r[0]]?t.methods[r[0]].apply(t,r[1]):console.warn("fastXDM: Method "+r[0]+" is undefined")}),0)}}))}}(window)},myok:function(e,t,n){"use strict";n.r(t),n.d(t,"setLoading",(function(){return p})),n.d(t,"setDisabled",(function(){return _}));var r=n("TYsd"),a=n("BoyB"),i={className:"Btn",setLoading:p,setDisabled:_};t.default=i,i._onClick=d;var o="Btn_loading",s="Btn_theme_secondary",c="Btn__loader",u="Btn__loader--white",l={loader:"."+c};function d(e,t,n){e.preventDefault(),r.default.handle(n,{$btn:t})}function _(e,t){void 0===t&&(t=!0),e.disabled=t}function p(e,t,n){if(void 0===n&&(n=""),e){var r=e.classList.contains(o);if(t){if(r)return;var i=e.classList.contains(s),d=e.classList.contains(u);!n&&i&&(n="white");var _=!1;"spinner"===n&&(_=!0,n=!1);var p=Object(a.default)({mix:c,white:"white"===n||d,large:!0,spinner:_});e.classList.add(o),e.insertAdjacentHTML("afterbegin",p)}else{if(!r)return;var f=e.$(l.loader);e.classList.remove(o),f.remove()}}}},p5n7:function(e,t,n){"use strict";n.r(t),n.d(t,"getValue",(function(){return f})),n.d(t,"setPrefix",(function(){return h})),n.d(t,"onBlur",(function(){return D})),n.d(t,"onFocus",(function(){return v})),n.d(t,"getNative",(function(){return b})),n.d(t,"filter",(function(){return m})),n.d(t,"onChange",(function(){return w}));var r=n("z9sQ"),a=n("fdw3"),i=n("TYsd"),o=function(e){void 0===e&&(e={});var t=e.style||[],n=e.class||e.mix,o=e.prefix,s=e.postfix,c=function(e){var t=[];Object(a.isArray)(e.on_key_down)?(e.on_key_down.push("event"),t=e.on_key_down):e.on_key_down&&(t=[e.on_key_down,"event"]);var n=e.on_key_press;return{class:"TextInput__native",id:e.id,tag:"input",type:e.type,name:e.name,value:e.value,spellcheck:e.spellcheck+"",placeholder:i.default.wrap(e.placeholder),autocapitalize:!1===e.autocapitalize?"off":null,autocomplete:!1===e.autocomplete?"off":e.autocomplete,tabindex:e.tabindex,readonly:e.readonly,disabled:e.disabled,oninput:Object(a.concatValues)("TextInput.onChange(event)",e.on_change?"; "+(i.default.isAttrHandler("oninput",e.on_change)?i.default.prepareHandler(e.on_change):e.on_change):""),onkeydown:t,onkeypress:n,onblur:Object(a.concatValues)("TextInput.onBlur(event, this)",e.onblur?"; "+(i.default.isAttrHandler("onblur",e.onblur)?i.default.prepareHandler(e.onblur):e.onblur):""),onfocus:Object(a.concatValues)("TextInput.onFocus(event, this)",e.onfocus?"; "+(i.default.isAttrHandler("onfocus",e.onfocus)?i.default.prepareHandler(e.onfocus):e.onfocus):""),autofocus:e.autofocus,maxlength:e.maxlength,pattern:e.pattern,required:e.required,inputmode:e.inputmode,"aria-describedby":e["aria-describedby"]}}(e),u=e.error;u&&(t.error=!0);var l=!(o||s||"string"==typeof u);return{role:"presentational",class:[r.default.class("TextInput",{style_stretch:t.stretch,prefixed:!!o,hidden:"hidden"===e.type,error:t.error,native:l,disabled:!!e.disabled||!!e.readonly}),n],tag:"label",onclick:e.on_click,inner:[{class:"TextInput__content",inner:l?c:[o?{class:r.default.class("TextInput__prefix",{rightPadding:o.with_right_padding,gray:o.gray}),inner:o.text}:null,{class:"TextInput__nativeWrap",inner:c},s?{class:"TextInput__postfix",inner:s.text}:null]},"string"==typeof u?{inner:[u],class:"TextInput__errorLabel",tag:"span"}:null]}};var s=n("UxAg"),c=n("zvhO"),u=n("OcsD"),l=n("CQvH");Object.assign(o,{setPrefix:h,getValue:f,filter:m,onFocus:v,onBlur:D,onChange:w});var d=".TextInput",_=".TextInput__native",p=".TextInput__prefix";function f(e){return e.$(_).value}function h(e,t){e.$(p).innerText=t}function b(e){return Object(s.$)(_,e)}function m(e,t,n){switch(e){case"number":var r=Object(u.val)(n)+String.fromCharCode(t.which);Object(c.isNumber)(parseInt(r))||Object(u.cancelEvent)(t),Object(u.val)(n,Object(u.val)(n).split("").filter((function(e){return Object(c.isNumber)(+e)})).join(""))}}function v(e,t){var n=t.closest(d);setTimeout((function(){n.classList.add("TextInput--focused")}))}function g(e){var t=e.target.closest(d);Object(u.removeEvent)(e.target,"blur",g),t&&t.classList.remove("TextInput--focused")}function D(e,t){var n,r=t.closest(d),a=null==(n=e.relatedTarget)?void 0:n.closest(d),i=Object(s.$)(_,r);r!==a||Object(l.isTabbing)()?(setTimeout((function(){var e;"BUTTON"===(null==(e=document.activeElement)?void 0:e.tagName)&&r.contains(document.activeElement)&&Object(u.addEvent)(document.activeElement,"blur",g)})),a!==r&&setTimeout((function(){r.classList.remove("TextInput--focused")}))):i.focus()}function w(e){var t=e.target.value;e.target.closest(d).classList.toggle("TextInput--notEmpty",!!t)}t.default=o;window.TextInput=o},p8d5:function(e,t,n){"use strict";n.r(t),n.d(t,"ORIENTATION_LANDSCAPE",(function(){return i})),n.d(t,"ORIENTATION_PORTRAIT",(function(){return o})),n.d(t,"getCurrentOrientation",(function(){return s})),n.d(t,"lockOrientation",(function(){return c})),n.d(t,"unlockOrientation",(function(){return u})),n.d(t,"onOrientationChanged",(function(){return r}));var r,a=n("OcsD"),i="landscape",o="portrait";function s(){if(window.screen&&window.screen.orientation)switch(window.screen.orientation.type){case"landscape-primary":case"landscape-secondary":return i;case"portrait-primary":case"portrait-secondary":return o;default:if(window.orientation)return 90===Math.abs(window.orientation)?i:o}return window.innerWidth>window.innerHeight?i:o}function c(e){return"orientation"in window.screen&&"lock"in window.screen.orientation?Promise.resolve(window.screen.orientation.lock(e)):Promise.reject("Unsupported")}function u(){"orientation"in window.screen&&"unlock"in window.screen.orientation&&window.screen.orientation.unlock()}window._onOrientationChanged?r=window._onOrientationChanged:(r=Object(a.se)(),window._onOrientationChanged=r,"orientation"in window.screen?window.screen.orientation.onchange=r:addEvent(window,"orientationchange",(function(e){window.browser&&window.browser.iphone?setTimeout((function(){r(e)}),100):r(e)})))},qHA9:function(e,t,n){"use strict";n.r(t),n.d(t,"MENTION_REGEXP",(function(){return u})),n.d(t,"MENTION_DOMAIN_REGEXP",(function(){return l})),n.d(t,"MENTION_CLIENTSIDE_REGEXP",(function(){return d})),n.d(t,"UNKNOWN_ERROR",(function(){return _})),n.d(t,"STICKER_HEIGHT",(function(){return p})),n.d(t,"isContactPeer",(function(){return f})),n.d(t,"isCommunityPeer",(function(){return h})),n.d(t,"isChatPeer",(function(){return b})),n.d(t,"isUser",(function(){return m})),n.d(t,"formatTime",(function(){return v})),n.d(t,"wrapMention",(function(){return D})),n.d(t,"wrapCommunityUrl",(function(){return w})),n.d(t,"sendDataToMessage",(function(){return A})),n.d(t,"getMsgSendId",(function(){return O})),n.d(t,"mailRequest",(function(){return E})),n.d(t,"getStickerSize",(function(){return y})),n.d(t,"prepareKeyboard",(function(){return C})),n.d(t,"isForwardedMessageId",(function(){return k})),n.d(t,"isNewMailPage",(function(){return j}));var r=n("wTgh");n.d(t,"wrapLinks",(function(){return r.wrapLinks}));var a,i=n("wMVj"),o=n("9M99"),s=n("OcsD"),c=n("jE6c"),u=/\[((id|club)\d+)\|([\S\s]+?)]/g,l=/\[((id|club)\d+)\|@([\S\s]+?)]/g,d=/\[([^\$]+?)\|([^\$]+?)\]/g,_=10,p=128;function f(e){return e>19e8&&e<=2e9}function h(e){return e>-1e9&&e<0}function b(e){return e>2e9}function m(e){return e>0&&e<=19e8}function v(e,t){void 0===t&&(t=0);var n=new Date(1e3*e),r=n.getTimezoneOffset(),a=-t/60-180;if(r!==a){var i=60*(a-r)*1e3;n.setTime(1e3*e-i)}var o=n.getHours(),s=n.getMinutes();return o+":"+(s<10?"0":"")+s}function g(e,t,n){return'<a href="/'+Object(c.htsc)(t)+'" class="mem_link">'+Object(c.htsc)(n)+"</a>"}function D(e,t){return t?e.replace(d,(function(e,t,n){return g(0,t,n)})):e.replace(u,(function(e,t,n,r){return g(0,t,r)}))}function w(e){var t=i.default.getQuery("community");return t&&(e+="&community="+t),e}function A(e,t){var n,i,s=store.mail,c=s.cur,u=s.members,l=Date.now()/1e3,d=v(l,c.timeShift),_=e.message||"";"send"!==e.act&&e.id&&(n=store.mail.msgs[e.id]),a||(a=document.createElement("div")),a.textContent=_,_=a.innerHTML,a.textContent="";var f,h={};if(e.media&&0===e.media.indexOf("sticker")){h.sticker=1;var b=+e.media.replace("sticker","");b&&(f={id:b,url:Stickers.getStickerUrl(b,y()),height:p})}else for(var m,g=1;m=e["attach"+g+"_type"];g++)h[m]?h[m]+=1:h[m]=1;i=e.attached_messages?(e.attached_messages+"").split(";"):e.mail_edit_attach_fwd&&n?n.forwards.concat():[];var w=!!e.has_reply,A="send"===e.act?"send"+e.random_id:"edit"+e.id,O=_,E=O=O.replace(/(@|\*)(\S+)(?: +\(([^\n]+?)\))?/g,(function(e,t,n,r){r||(r=t+n);var a=0,i=/^(club|public|event)([\d]+)$/.exec(n);/^id[\d]+$/.test(n)?a=parseInt(n.substr(2)):i&&(a=parseInt(i[2]));for(var o="id",s=Object.keys(u),c=0,l=s.length;c<l;c++){var d=s[c];if(u[d]&&u[d].domain===n){a=d;break}}return"-"===a[0]&&(a=a.slice(1),o="club"),a?"["+o+a+"|"+r+"]":e}));E=D(E=Object(r.wrapLinks)(E),!0),E=Object(o.emojiToHTML)(E);var C={id:"send"===e.act?A:e.id,sendId:A,peerId:"send"===e.act?e.to:e.peerId,authorId:c.viewerId,adminId:c.groupId?c.userId:void 0,ts:l,date:d,dateShort:d,text:E,textInput:_,body:O,isUnread:!n||n.isUnread,isOut:!0,edited:"send"!==e.act,canEdit:!1,attaches:h,forwards:w?[]:i,hasReply:w,reply:w?i[0]:void 0,pending:!t,failed:!!t,attachesLoading:!!Object.keys(h).length};return c.groupId&&(C.adminName=lang.mobile_mail_you,C.adminUrl=u[c.userId].url),f&&(C.sticker=f),C}function O(e){return e.edited?"edit"+e.id:"send"+e.randomId}function E(e,t){return new Promise((function(n,r){Object(s.ajaxRequest)(e,t,(function(e){e.error?r({type:"server",code:e.code||0,message:e.message||""}):n(e.result)}),(function(e,t,n){var a=null,i="unknown",o=0;if(n instanceof XMLHttpRequest){var s=n;0===s.status?i="network":(i="server_status",o=s.status)}else 0===e&&null==t&&null==n?i="response_parsing":e===ajax.RESPONSE_CAPTCHA?(i="captcha",a=n):i="unknown";r({type:i,code:o,message:"",data:a})}))}))}function y(){return hasClass("x2",document.body)?2*p:p}function C(e){var t=e.keyboard,n=e.authorId,r=e.msgId;if(t.buttons&&t.buttons.length){t=Object.assign(t,{author_id:n,chat_local_id:r});var a=document.createElement("div");t.buttons.forEach((function(e){e.forEach((function(e){var t=e.action.label;a.textContent=t;var n=a.innerHTML;e.action.label=Object(o.emojiToHTML)(n),e.action.rawLabel=t}))})),a=null}else t=null;return t}function k(e){return!isFinite(e)&&("string"!=typeof e||"~"!==e[0])}function j(e,t){if(void 0===e&&(e=""),void 0===t&&(t=""),!window.isNewMail)return!1;if(0===e.indexOf("/write"))return!0;"string"==typeof t&&(t=Object(s.qs2obj)("?"===t[0]?t.slice(1):t));var n=t,r=n.act,a=n.m;return"/mail"===e&&"add_to_chat"!==r&&"flush_history"!==r&&"info"!==r&&"unpin"!==r&&"edit_chat"!==r&&"change_chat_name"!==r&&"leave_chat"!==r&&"new_chat"!==r&&"chat_preview"!==r&&"return_to_chat"!==r&&"show_medias"!==r&&"toggle_community_block"!==r&&"community_toggle_important"!==r&&"ban_user"!==r&&"add_user"!==r&&"community_mark_answered"!==r&&"invite_link"!==r&&"reset_link"!==r&&"send"!==r&&"show_peer_profile"!==r&&"toggle_peer_profile_tags"!==r&&"edit_peer_profile_tags"!==r&&"edit_peer_profile_note"!==r&&70!=a&&71!=a&&76!=a&&784!=a&&783!=a&&786!=a&&785!=a&&787!=a}},"r/ag":function(e,t,n){"use strict";n.r(t),n.d(t,"POPUP_DISAPPEAR_TIME",(function(){return l})),n.d(t,"POPUP_NAV_PREFIX",(function(){return u}));var r=n("Po+v"),a=n("vWwi"),i=n("1By4"),o=n("UxAg"),s=n("j80l"),c=n("OcsD"),u="pop_",l=200;Object.assign(r.default,{open:function(e,t,n){void 0===n&&(n={});var r=n,i=r.hash,o=r.oncloseCallback,s=r.withoutCloning;if(O(e),m=Boolean(n.forceScrollDisable),t){if(!s){var l=e;(e=l.cloneNode(!0)).original=l}e.appendedToBody=!0,e.withoutCloning=s,document.body.appendChild(e)}e.classList.add(_);var d=e.$(b.scroll);Object(a.disableBodyScroll)(e,{forceScrollDisable:m}),o&&g.push([e,o]);if(d){if(w(e,d),e.onResizeHandler=function(){w(e,d)},Object(c.addEvent)(window,"resize",e.onResizeHandler),!window.MutationObserver)return e;e.scrollContentObserver=new MutationObserver(e.onResizeHandler),e.scrollContentObserver.observe(d,{childList:!0,subtree:!0})}if(i){var p="#"+u+i,f=nav.cur.split("#")[0];nav.go(f+p,!1,{push_only:!0}),v[p]=e}return e},close:A});r.default;r.default._onOverlayClick=D;var d="Popup",_="Popup_open",p="Popup_hasScroll",f="ScrollView",h="Popup--closing",b={open:"."+_,popup:"."+d,wrap:"."+"Popup__wrap",content:"."+"Popup__content",scroll:".Popup__scroll",header:".Popup__header",footer:".Popup__footer"},m=!1,v={},g=[];function D(e,t,n){var r=e.closest(b.popup);Object(c.isFunction)(t)?t({$popup:r}):t&&i.default.handle(t,{$popup:r}),n&&A(r)}function w(e,t){var n=e.$(b.header),r=e.$(b.footer);t.scrollHeight-6>t.offsetHeight?(Object(c.addClass)(e,p),Object(c.addClass)(t,f),ContentScrollView.restore()):(Object(c.removeClass)(e,p),Object(c.removeClass)(t,f),t.scrollTop=0);var a=Object(c.getCh)(),i=0,o=0;n&&(i=n.offsetHeight),r&&(o=r.offsetHeight);var s=Math.min(a-i-o-100,420);Object(c.setStyle)(t,"max-height",s+"px")}function A(e,t){void 0===t&&(t={});var n=t,r=n.smooth,i=n.velocity,l=n.lastY;if(e&&!e.classList.contains(d)&&(e=e.closest(b.popup)),e||(e=Object(o.$)(b.open)),e){var p=Object(o.$)(b.wrap,e),f=Object(o.$)(b.content,e);if(r&&i&&l){var v=Object(c.getH)(f),D=(v-l)*i.y;return D>=300&&(D=200),D=Math.max(150,Math.min(300,D)),c.setStyle.animate(p,"transform",{duration:D,func:"cubic-bezier(0.0, 0.0, 0.2, 1)"}),c.setStyle.transform(p,1,[0,v+"px"]),e.classList.add(h),setTimeout((function(){A(e,{onClose:t.onClose})}),1.1*D)}if(r){e.classList.add(h);var w=Object(c.getH)(f);return c.setStyle.transform(p,1,[0,w+"px"]),setTimeout((function(){A(e,{onClose:t.onClose})}),200*1.1)}if(e.classList.remove(_),e.appendedToBody&&document.body.contains(e)&&Object(c.replace)(e,e.withoutCloning?e:e.original),e.classList.remove(h),c.setStyle.transform(p),Object(c.removeEvent)(window,"resize",e.onResizeHandler),e.scrollContentObserver&&e.scrollContentObserver.disconnect(),Object(o.$)(b.open)||Object(a.enableBodyScroll)(void 0,{forceScrollDisable:m}),nav.cur&&nav.cur.startsWith("#"+u)){var E=s.default.make(nav.path,qs2obj(nav.params));nav.set({nav:Object(c.extend)({},nav,{cur:nav.path,path:nav.path||"",push:E||""})})}var y,C=(y=e,(g.find((function(e){return e[0]===y}))||[])[1]);C&&(C(),O(e)),t.onClose&&t.onClose(),window.cur&&window.cur.app&&window.cur.app.frame&&window.cur.app.frame.focus()}}function O(e){var t=g.findIndex((function(t){return t[0]===e}));t>=0&&g.splice(t,1)}nav.onPopState&&nav.onPopState((function(){var e=v[nav.cur];e&&(A(e),delete v[nav.cur])})),window.Popup=r.default;t.default=r.default},rc7J:function(e,t,n){"use strict";n.r(t);var r=n("z9sQ");var a=function(e){void 0===e&&(e={});var t=r.default.class("AlbumInfoRow",{withoutBottomBorder:e.withoutBottomBorder},"--");return{inner:[{inner:[{src:e.avatar,alt:"avatar",tag:"img"}],class:"AlbumInfoRow__avatar",href:e.author_url,onclick:"cancelEvent(event); nav.go(this);",tag:"a"},{inner:[{inner:[e.title],class:"AlbumInfoRow__title",href:e.url,tag:"a"},{inner:[e.subtitle],class:"AlbumInfoRow__subtitle",tag:"div"}],class:"AlbumInfoRow__content",tag:"div"}],class:t,onclick:"nav.go('"+e.url+"')",tag:"div"}};t.default=a},t7Ww:function(e,t,n){"use strict";n.r(t),n.d(t,"ModalMenuBtn",(function(){return c})),n.d(t,"ModalMenuContent",(function(){return p})),n.d(t,"ModalMenuIcon",(function(){return u})),n.d(t,"ModalMenuTitle",(function(){return d})),n.d(t,"ModalMenuBody",(function(){return l})),n.d(t,"ModalMenuHeaderCloseButton",(function(){return _}));var r=n("r/ag"),a=n("29dZ"),i=n("Y6JH"),o=n("fdw3"),s=n("c9MT");function c(e){var t=e.class?" "+e.class:"";return t=e.isBtn?Object(o.concatValues)(t," ModalMenu__customBtn"):Object(o.concatValues)(t," ModalMenu__item"),Object(a.default)({url:e.url,class:"ModalMenu__btn "+t,theme:e.theme?e.theme:"none",size:e.size?e.size:"",inner:e.inner,on_click:e.onclick,use_native_onclick:!0,attrs:e.attrs,"aria-label":e["aria-label"]||""})}function u(e){return{inner:[{inner:[e.inner],class:"ModalMenu__icon",tag:"div"}],class:"ModalMenu__iconWrapper",tag:"div"}}function l(e){return{inner:[e.inner],class:"ModalMenu__customBody",tag:"div"}}function d(e){return{inner:[e.inner],class:"ModalMenu__title",tag:"div"}}function _(e){return void 0===e&&(e={}),{inner:[Object(i.default)({icon:Object(s.getDismiss24Icon)()})],class:"ModalMenu__headerCloseButton",onClick:e.onClose?e.onClose:["ModalMenu.close","this"],"aria-label":Object(o.getLang)("mobile_close"),tag:"button"}}function p(e){return e.class+=" ModalMenuContent",e}t.default=function(e){var t=e.attached?"ModalMenu--attached":"",n=window.lang,i=[];if(e.title&&i.push({class:"ModalMenu__title",inner:e.title}),e.body&&i.push({class:"ModalMenu__body",inner:e.body}),Object(o.isArray)(e.items)){var s=e.items.map((function(e){return e}));i.push(s)}e.close&&i.push(Object(a.default)({class:"ModalMenu__btn ModalMenu__cancel",theme:"secondary",size:"large",inner:e.closeText?e.closeText:n.mobile_cancel,on_click:e.onClose?e.onClose:["ModalMenu.close","this"],use_native_onclick:!0}));var c=function(e){if(e&&e[0]&&e[0].inner&&e[0].inner.inner&&"ModalMenuHeader"===e[0].inner.inner[0].class)return!0;return!1}(i)?" ModalMenu--hasHeader":"";return Object(r.default)({id:e.id||"",class:"ModalMenu "+e.class+" "+t+" "+c,on_overlay_click_native:e.on_overlay_click?e.on_overlay_click:["ModalMenu.close","this"],content:i})}},tgcV:function(e,t,n){"use strict";function r(e){return new Promise((function(t,n){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=e,r.onload=function(){return t(r)},r.onerror=function(){return n(new Error("Stylesheet load error for "+e))},document.head.appendChild(r)}))}function a(e){var t,n=(t=e,new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.onload=function(){200===r.status?e(r.response):n(r.response)},r.onerror=function(){n(r.response)},r.send()})));return n.then((function(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)})),n}var i;n.r(t),n.d(t,"addStatic",(function(){return _})),n.d(t,"preloadStaticForNavigation",(function(){return p})),n.d(t,"initStaticManager",(function(){return f}));var o=[];function s(e,t){var n=e;t&&(n+="?"+t);var r=new Promise((function(t,r){var a,i,o;a=n,i=function(n){n?(window.stManager.staticFiles[e]=null,r(n)):t()},(o=document.createElement("script")).src=a,o.onload=function(){return i(null,o)},o.onerror=function(){return i(new Error("Script load error for "+a))},document.head.appendChild(o)}));return window.stManager.staticFiles[e]=r,r}function c(e,t){var n=function(){if(void 0!==i)return i;try{var e=document.createElement("b");e.style.display="flex",i="flex"===e.style.display}catch(e){i=!1}return i}()?r:a,o=e;t&&(o+="?"+t);var s=n(o).catch((function(){return window.stManager.staticFiles[e]=null,Promise.resolve()}));return window.stManager.staticFiles[e]=s,s}function u(e){window.stManager.staticFiles[e]=Promise.resolve()}function l(){window.vk&&window.vk.stFiles&&window.stManager?(Object.keys(window.vk.stFiles).forEach((function(e){return u(e)})),window.vk.stFiles=[]):setTimeout(l,0)}function d(e){o[e]&&o[e]()}function _(e){return void 0===e&&(e={}),Promise.all(Object.keys(e).map((function(t){return n=t,r=e[t],window.stManager.staticFiles[n]||(n.includes(".js")?s(n,r):n.includes(".css")?c(n,r):Promise.resolve());var n,r})))}function p(e){var t=window.vk.stNavMap||{};for(var n in t){if(t.hasOwnProperty(n))if(new RegExp(n).test(e)){_(t[n]||{});break}}}function f(){l(),window.stManager={done:d,staticFiles:[],registerLoadedScript:u}}},tlMv:function(e,t,n){"use strict";n.r(t);var r=n("g3t9");t.default=r.default},uQjJ:function(e,t,n){"use strict";n.r(t);var r=n("4O8T"),a=n.n(r);window.EventEmitter=a.a,t.default=a.a},"v+Uj":function(e,t,n){"use strict";n.r(t),n.d(t,"getCurrentElementIndex",(function(){return f})),n.d(t,"getElements",(function(){return p})),n.d(t,"scrollToElem",(function(){return _})),n.d(t,"_onWheel",(function(){return m}));var r=n("z9sQ");var a=function(e){return{class:[r.default.class("Slider",{snapping:!!e.snapping},"--"),e.class||e.mix],id:e.id,inner:{class:["Slider__scroll","_preventMenuOpen"],attrs:e.attrs,onwheel:["Slider._onWheel","event","this"],inner:{class:"Slider__line",attrs:{role:"presentation"},inner:e.inner}}}},i=n("OcsD"),o=n("UxAg"),s=n("jk6M");window.Slider={scrollToElem:_,nextElem:h,prevElem:b},Slider._onWheel=m,onDOMReady(g),onDOMReady((function(){onBodyResize(v)}));var c=".Slider",u=".Slider--snapping",l=".Slider__scroll",d=".Slider__line";function _(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n="center"),e){var r=e.closest(l),a=e.offsetLeft;"center"===n&&(a-=r.offsetWidth/2-e.offsetWidth/2);var o=0;if(window.getComputedStyle){var s=getComputedStyle(e);(s.scrollMarginLeft||s.scrollSnapMarginLeft)&&(o+=Object(i.toInt)(s.scrollMarginLeft||s.scrollSnapMarginLeft))}t&&r.scrollTo?(Object(i.domData)(r,"left",a-o),r.scrollTo({left:a-o,behavior:"smooth"})):r.scrollLeft=a-o}}function p(e){return e=Object(i.ge)(e),Object(o.$)(d,e).childNodes}function f(e,t){var n=Object(o.$)(l,e);return t||(t=p(e)),Array.from(t).map((function(e,t){return{index:t,scrollLeft:Math.abs(e.offsetLeft-n.scrollLeft)}})).sort((function(e,t){return e.scrollLeft-t.scrollLeft}))[0].index}function h(e,t,n){void 0===t&&(t=!1);var r=p(e=Object(i.ge)(e)),a=r[f(e,r)+1];h&&_(a,t,n)}function b(e,t,n){void 0===t&&(t=!1);var r=p(e=Object(i.ge)(e)),a=r[f(e,r)-1];a&&_(a,t,n)}function m(e,t){e.preventDefault();var n=e.deltaX,r=e.deltaY;Math.abs(n)>Math.abs(r)&&(t.scrollLeft+=n)}function v(){var e=Object(o.$$)(u);Array.from(e).forEach((function(e){var t=Object(o.$)(l,e);t.scrollLeft=t.scrollLeft}))}function g(){(s.default.ios||s.default.msie_edge)&&(onDOMReady(w),window.page&&window.page.onChange(w),window.MutationObserver&&onDOMReady((function(){document.body&&new MutationObserver(D).observe(document.body,{subtree:!0,childList:!0})})))}function D(e){e.forEach((function(e){e.addedNodes.forEach((function(e){e.nodeType===Node.ELEMENT_NODE&&e.$$(c).forEach(A)}))}))}function w(){Object(o.$$)(c).forEach(A)}function A(e){var t=getComputedStyle(e),n=Number(t.paddingTop.replace("px","")),r=Number(t.paddingBottom.replace("px",""));e.style.overflow="hidden",e.style.height=e.offsetHeight-n-r+"px",e.$(l).style.paddingBottom="20px"}t.default=a;window.Slider=a,Object(i.extend)(a,{scrollToElem:_,nextElem:h,prevElem:b,_onWheel:m})},vOib:function(e,t,n){"use strict";n.r(t);var r=n("UWnA"),a=n("8ZMO"),i=n("KiYr"),o=n("z9sQ"),s=n("fdw3");function c(e){var t=[e];return Object(s.isArray)(e)&&(t=Object(s.wdToFlatArray)(e)),t.join("")}function u(e){var t=c(e);return!t||"<div></div>"===t}var l=function(e){if(void 0===e&&(e={}),e.content_only)return{outerHTML:c(e.content)};var t=e.title,n=e.corner||{},s=e.inner||e.content||e.children,l=e.anchor,d=e.alert,_=e.style||{},p=e.attrs||{},f=e.noShadow,h="gray";null!==e.count&&(h="black");var b=e.pageBlock?"PageBlock PageBlock--separate":"",m=[t];if(null!==e.count){var v={inner:[e.count],class:"Pad__count",tag:"span"};m.push(v)}return{tag:e.tag||"div",class:[e.class||e.mix,o.default.class("Pad",{empty:u(s),noBorder:e.no_border,noCapsTitle:e.no_caps_for_title,style_extraTopPadding:_.extra_top_padding,theme:h,noShadow:f}),b],ref:e.ref,attrs:p,"data-id":e.name||e.id,inner:[l?Object(a.default)({mix:"Pad__anchor",id:l}):null,d?Object(r.default)({inner:[Object(i.default)({inner:[d],class:"Pad__alert",theme:e.alert_theme})],style:{tiny_padding_bottom:!0}}):null,t?Object(r.default)({inner:[e.isHeaderPage?{inner:[m],class:"Pad__title",tag:"h1"}:{inner:[m],class:"Pad__title",tag:"h3"},n.url?{inner:[n.text],href:n.url,onClick:n.onclick,attrs:n.attrs,class:["Pad__corner",n.class],tag:"a"}:{inner:[n.text],href:n.url,onClick:n.onclick,attrs:n.attrs,class:["Pad__corner",n.class],tag:"div"}],class:"Pad__header"}):null,t?{inner:[s],class:["Pad__content",e.content_mix],tag:"div"}:s]}};t.default=l},vWwi:function(e,t,n){"use strict";n.r(t),n.d(t,"disableBodyScroll",(function(){return u})),n.d(t,"enableBodyScroll",(function(){return l}));var r,a=n("OcsD"),i=n("jk6M"),o=!1,s=null,c=null;function u(e,t){if(void 0===t&&(t={}),window.MutationObserver&&!o){window.nav.saveScrollPosition();var n=document.body;s=n.style.overflow,o=!0,i.default.ios||i.default.ipad||(n.style.overflow="hidden"),t.forceScrollDisable&&(n.style.height="100%",document.documentElement.style.overflow="hidden"),c=new MutationObserver((function(){n.contains(e)||l()})),r=Object(a.scrollTop)(),document.body&&(document.body.classList.add("fixed"),Object(a.setStyle)(document.body,{top:"-"+r+"px"}),i.default.safari&&Object(a.getCw)()<882&&document.scrollingElement&&(document.scrollingElement.scrollTop=r||0,setTimeout((function(){document.scrollingElement&&(document.scrollingElement.scrollTop=r||0)}),100),setTimeout((function(){document.scrollingElement&&(document.scrollingElement.scrollTop=r||0)}),300))),c.observe(document.body,{attributes:!0,childList:!0,subtree:!0})}}function l(e,t){void 0===t&&(t={}),window.MutationObserver&&o&&(document.body.style.overflow=s,(null==t?void 0:t.forceScrollDisable)&&(document.documentElement.style.overflow="initial"),null==c||c.disconnect(),document.body&&(document.body.classList.remove("fixed"),Object(a.setStyle)(document.body,{top:""}),Object(a.scrollTop)(r)),o=!1)}},vhZE:function(e,t,n){"use strict";n.r(t);var r=n("z9sQ"),a=n("z1UI"),i=n("Y6JH"),o=n("+7CI"),s=n("xTMR"),c=n("1W7h"),u=n("HaOv");var l=function(e){void 0===e&&(e={});var t={},n=e.raw||"",l=e.hash||"",d=e.text||"";"album"===(e.attachment_type||"")&&(e.height-=60),e.type&&"blur"!==e.type||(e.width>=250&&e.height>=250?e.type="blurWithText":e.type="blur"),("blur"===e.type||e.only_icon)&&(delete e.button,delete e.title),e.type&&(t[e.type]=!0);var _,p=r.default.class("PostPhotoRestriction",t,"--");"blur"!==e.type&&"blurWithText"!==e.type||(_=e.width<100||e.height<100?Object(i.default)({icon:Object(o.getHideOutline28Icon)()}):Object(i.default)({icon:Object(s.getHideOutline56Icon)()})),"block"===e.type&&(!e.forceText&&(e.width<300||e.height<250)&&(delete e.title,delete e.text),_=e.width<100||e.height<100?Object(i.default)({icon:Object(c.getBlockOutline28Icon)()}):Object(i.default)({icon:Object(u.getDoNotDisturbOutline56Icon)()})),_={inner:[_],class:"SplashScreen__icon",tag:"div"},"block"!==e.type||e.title||(e.title=e.text);var f="PostPhotoRestriction.clear(this, event, '"+d+"', '"+e.button+"', '"+n+"', '"+l+"')";return{inner:[{inner:[Object(a.default)({title:e.title,icon_raw:_,more_text:e.button,more_type:"outlineMono",more_onclick:f,more_ontouchend:f,more_native_onclick:!0})],class:"PostPhotoRestriction__splash",tag:"div"}],class:p,tag:"div"}},d=n("he4e"),_=n("OcsD");window.PostPhotoRestriction={clear:d.clear,onClearConfirm:d.onClearConfirm,onClearDecline:d.onClearDecline};t.default=Object(_.extend)(l,{onClear:d.onClear,isCleared:d.isCleared})},vk58:function(e,t,n){"use strict";n.r(t);var r=n("29dZ"),a=n("fdw3"),i=n("z9sQ");var o=function(e){var t=e.btns||e.inner||[],n=e.mode||"horizontal",o=e.align||"start";Object(a.isArray)(e.inner)&&1===e.inner.length&&e.inner[0].length>1&&(t=e.inner[0]),e.nowrap&&(t=t.map((function(e){return e.nowrap=!0,e})));var s,c=i.default.class("BtnStack",{stretchOnSmallScreens:e.stretch_on_small_screens,table:e.nowrap,mode:n,align:o}),u=t.map((function(e){if(!e)return null;var t=["BtnStack__btn"];if(e.class&&t.push(e.class),e.mix&&t.push(e.mix),e.class=Object(a.arrayUnique)(Object(a.arrayFlat)(t)),!!e._&&e._.__is_wd_internal_data||Object(a.arrayIncludes)(t,"CellButton")||(e=Object(a.extend)(Object(r.default)(e),{nowrap:e.nowrap,is_icon:e.is_icon})),e.nowrap){var n=i.default.class("BtnStack__cell",{icon:e.is_icon});return delete e.nowrap,{inner:[e],class:n,tag:"div"}}return e}));return e.after&&(s={class:i.default.class("BtnStack__cell",e.after_mix),inner:e.after}),{inner:[u[0]?u:null,s],class:c,tag:"div"}};t.default=o},vkmG:function(e,t,n){"use strict";n.r(t),n.d(t,"symbols",(function(){return r})),n.d(t,"escape",(function(){return a})),n.d(t,"encodeHTMLEntities",(function(){return i})),n.d(t,"decodeHTMLEntities",(function(){return o}));var r=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function a(e){return r.reduce((function(e,t){var n=t[0],r=t[1];return e.replace(new RegExp(r,"ig"),n)}),e)}function i(e){return a(e).replace(/[\u00A0-\u9999<>\&]/gim,(function(e){return"&#"+e.charCodeAt(0)+";"}))}function o(e){return r.reduce((function(e,t){var n=t[0],r=t[1];return e.replace(new RegExp(n,"ig"),r)}),e).replace(/&#(\d+);/g,(function(e,t){return String.fromCodePoint(t)}))}},wMVj:function(e,t,n){"use strict";n.r(t);var r=n("UxAg"),a=n("+cqQ"),i=n("jk6M"),o=n("OcsD"),s=n("a0wW"),c=n("eGQV"),u=n("izth"),l=n("wkhI"),d=n("VzJG"),_=function(){if(!window.storybook){var e=!(!window.history||!history.pushState),t=se((function(){return p}));onDOMReady((function(){s.default.setFlag(s.FLAG_SUPPORTS_HISTORY_API,e)}));var n={},p=null,f=[],h=!1;if(e)addEvent(window,"popstate",(function(e){if(window.isNewMail&&_.onPopState())return preventEvent(e),void stopEvent(e);var t=extend({no_push:!0,need_restore:!0});if(e.state&&e.state.nav){var n=e.state.nav,a=n.tab,i=n.prev_tab;t=extend(t,{tab:a,prev_tab:i})}cur.share&&cur.share.destroy&&cur.share.destroy();var o=Object(r.$)(".Popup_open");location.href.includes("#pop_")||Popup.close(o),x(location,null,t)}));else{var b=location.hash||"";"#/"==b.substr(0,2)&&P(b.substr(1),null,{replace:!0});var m=function(e){(e=(e||"").substr(1))&&"/"==e.substr(0,1)||(e=location),x(e,null,{no_push:!0,need_restore:!0})};"onhashchange"in window?addEvent(window,"hashchange",(function(){m(location.hash||"")})):(!function e(){var n=location.hash||"";p!==n&&(p=n,t(!0)),setTimeout(e,100)}(),t((function(e){m(e)})))}var v=(location.pathname||"").replace(/^\/+/,"/"),g=location.search||"",D=location.hash||"";return{onBeforeGo:Object(a.default)(),onBeforeGo2:Object(a.default)(),onPopState:Object(a.default)(),go:x,al_go:M,app_go:function(e,t,n){if(!n)return!0;if(checkEvent(t))return!0;remove("app_go_frame");var r=getHref(e),a=ce("iframe",{id:"app_go_frame",src:n,onload:function(){remove("app_go_frame"),r&&_.hard_go(r)}},{display:"none"});return window.bodyNode.appendChild(a),!1},hard_go:P,go_after:function(e,t){return!Object(o.ajaxLayoutEnabled)()||(!!checkNav(t.target,{skip_onclick:!0,skip_clicable:!0})||(!1===e||_.go(e,t)||cancelEvent(t),!1))},page_set:function(e,t,n){j(e,t,n)},page_get:function(e,t){return void 0===t&&(t=Tabbar.getCurrentId()),function(e,t){for(var n=E(t),r=n.length-1;r>=0;--r){var a=n[r];if(a.h===e||a.a===e)return a.d}return!1}(e,t)},saveScrollPosition:function(){var e=k();e&&e.d&&(e.d.st=scrollTop())},set:B,checkUrl:S,tryHistoryBack:function(){var e=h;return e&&history.go(-e),h=!1,!!e},zInit:function(){var e=qs2obj(_.params);e.z&&I(e.z)},getPostParams:F,cur:v+g+D,path:v,params:g.substr(1),hash:D,clear:function(){n={},_.initStore(),f=[],Tabbar.setHistory(n)},hasUpdate:function(e,t,n){if(!e||!e.need_check_updates)return!1;var r=t,a=C(E(e.tab),r);if(!a||!n.html)return!1;var i=a.d.lm.check_updates,o=n.lm.check_updates;return!(!i&&!o)&&(o!==i&&{currentCache:a})},needUpdate:function(e,t,n){if(!e||!e.need_check_updates)return!0;var r=t,a=C(E(e.tab),r);if(!a||!n.html)return!0;var i=a.d.lm.check_updates,o=n.lm.check_updates;return!i&&!o||o!==i},updateCurrentPage:function(){var e=k();page.set(e.h,e.d,{forceUpdate:!0})},isTabHaveCache:function(e,t){var n=E(e);return!!n&&!!C(n,t)},getQuery:function(e){var t=qs2obj(_.params);return e?t[e]||null:t},getNotifierScrollTop:function(){var e=f.find((function(e){return"/settings?act=notifier"===e.h}));return e?e.d.st:null},reload:function(){return _.go(_.cur)},tryBack:function(){var e=f.slice(-2)[0];return!!e&&(_.go(e.h,null,{need_restore:!0}),!0)},backToTabHistory:function(e){var t=y(),n=t.findIndex((function(e){return!0===e.current})),r=e&&hasClass("al_back",e),a=e&&e.classList.contains("mh_back_replace"),i=attr(e,"href"),o=t[n-1];if(o)return t.splice(n,t.length),_.go(o.h,null,{need_restore:r});if(i)return O(Tabbar.getCurrentId()),_.go(i,null,{replace:a});var s=Tabbar.getCurrentId(),c=Tabbar.getDefaultURL(s);return O(s),_.go(c,null,{replace:a})},openInNativeApp:function(e,t,n,r){var a=this;if(void 0===r&&(r=!1),this._openAppInProgress)return!1;cancelEvent(t);var o={android:"https://vk.cc/android",iphone:"https://vk.cc/iphone"},s=r?n.href:"vk://vk.com"+(ge("vk_wrap").offsetWidth<882&&_.prev_cur?_.prev_cur:_.cur),c=i.default.mi?1500:300;i.default.safari&&(c=10===i.default.ios?1100:i.default.ios>10&&i.default.ios<12?0:i.default.ios>=12&&i.default.ios<13?2800:i.default.ios>=13?1800:300);var u=Date.now(),l=setTimeout((function(){a._openAppInProgress=!1,Date.now()-u>c+200||!document.hasFocus()||(n&&n.href?_.hard_go(n.href):_.hard_go(o[e]))}),c);if(addEvent(window,"blur",(function e(){clearTimeout(l),a._openAppInProgress=!1,removeEvent(window,"blur",e)})),i.default.ios){addEvent(window,"focus",(function e(){window.menu&&window.menu.close(),removeEvent(window,"focus",e)}))}else window.menu&&window.menu.close();return this._openAppInProgress=!0,_.hard_go(s),statlogsValueEvent("mvk_open_in_native_link",1,e),!1},initOpenInNativeAppBtn:function(){if(!isVkWebView()){var e=geByClass1("mmi_open_in_app");e&&addClass("supported",e)}},initStore:function(){window.store&&(window.store.tabs=n)},getPageJs:function(){var e=Object(r.$)("#page_script");return e?e.innerText:f.length&&f[f.length-1].d.js||""},onMenuItemClick:function(e,t){var n=getW("vk_wrap")>=882?"full_version":"mobile";if(t&&Object(d.recordClick)(t),statlogsValueEvent("mvk_navigation_pages","click","tabbar",e,n),"/wall"===_.cur.substr(0,5)&&"add"===_.getQuery("act")){var a=Object(r.$)("#feed_add_form"),i=qs2obj(a.action.split("?")[1]),o=a.getAttribute("data-hash")||i.hash;o&&post.saveDraft(null,o)}},setFvLink:function(e){_.fv_link=e}}}function w(){Tabbar.setHistory(n)}function A(e){var t=window.Tabbar;if(!t)throw new Error("Tabbar is not defined: "+JSON.stringify(e));if(e.lm&&e.lm.tab&&e.lm.is_tab_page||e.options&&e.options.forceSetCurrent){var n=t.getCurrentId(),r=e.lm&&e.lm.tab||e.options.tab;t.setCurrentId(r),n!==r&&w()}else e.lm&&!e.lm.tab&&(e.lm.tab=t.getCurrentId())}function O(e){n[e]=[]}function E(e){return!!n[e]&&n[e]}function y(){return E(Tabbar.getCurrentId())}function C(e,t){var n=(e||[]).filter((function(e){return e.d===t||e.h===t}));return!(!n||!n[0])&&n[0]}function k(){var e=(y()||[]).filter((function(e){return!0===e.current}));return!(!e||!e[0])&&e[0]}function j(e,t,r){var a;t.options&&t.options.is_fast&&t.options.prev_tab?a=E(t.options.prev_tab):(A(t),a=y(),t.lm&&t.lm.is_tab_page&&(a=!1));var i=function(){var e=k();return e&&e.d&&e.d.options&&e.d.options.replaceState}()||function(e){return e&&e.options&&e.options.replacePrevPage}(t),o=!1;if(a){for(var s=-1,c=a.length-1;c>=0;c--)if(a[c].h===e||a[c].a===e){s=c;break}s>-1&&a.splice(s+1,a.length);for(var u=a.length-1;u>=0;u--){var l=a[u];l.h===e||l.a===e?(a[u]={h:e,d:t,a:r,current:!0},o=!0):a[u].current=!1}}if(!o){var d={h:e,d:t,a:r,current:!0};if(a){var _=a[a.length-1],p=_&&_.d&&_.d.options&&_.d.options.removeAfterNextResponse;(i||p)&&a.pop(),a.push(d),a.length>20&&a.shift()}else{var f=Tabbar.getCurrentId(),h=k();if(h&&h.d&&h.d.options&&h.d.options.need_check_updates&&d.d.lm.check_updates){var b=d.d.html,m=h.d.page;d.d.page=m,d.d.newHTML=b}n[f]=[d]}}if(isArray(a)){for(var v=-1,g=a.length-1;g>=0;g--)if(!0===a[g].current){v=g;break}if(v>0){var D=v-1;a[D].h.includes("/like?act=publish")&&function(e,t){e.splice(t,1)}(a,D)}}}function S(e){var t;if(t=/^(https?:)\/\/([^:\/]+)?(?::(\d+))??(\/+\\+)?(.*)$/i.exec(e)){if(t[1]!==location.protocol)return!1;if(t[2]&&t[2]!==location.hostname)return!1;if(t[3]&&t[3]!==location.port)return!1;e=t[5]||""}var n=e.match(/[^\/|\\|\s+]+\/\S+/g);return e=n?n[n.length-1].trim():e}function P(e,t,n){if(checkEvent(t))return!0;if(n&&n.push_only)return!0;if(n&&n.replace)location.replace(e);else if(e){var r=getHref(e);r===location.href.replace(location.origin,"")?location.reload():location.href=r}return!0}function M(e,t,n){cancelEvent(t);var r=getHref(e);if(Object(o.ajaxLayoutEnabled)()){if(n&&n.push_only)return!0;if(ajax.nav(r,n))return document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),!0}P(r,t,n)}function x(t,n,r){var a,i,o=window.Tabbar;if(t&&t.href){if(/vk\.com\/vkui\/([a-zA-Z_]+)/.test(t.href))return P(t.href,n,r),!1;if(i=t.href,t.getAttribute&&t.getAttribute("data-change-location-with-post-away")){var s={};return(a=F(t)).post_id&&(s.post=a.post_id,a.ad_data&&(s.post_ad_data=a.ad_data),a.post_click_cc_key&&(s.cc_key=a.post_click_cc_key),i="/away.php?to="+encodeURIComponent(i)+"&"+obj2qs(s).substr(1)),P(i,n,r),!1}}if(t&&t.href&&t.dataset&&t.dataset.setFrom&&(t.href=Url.make(t.href,{from:_.cur})),_.onBeforeGo(t,n,r))return!1;if(r=extend({no_push:!1,push_only:!1,replace:!1},r),checkEvent(n))return!stopEvent(n);if(!t)return!0;e&&(r.no_push||r.need_restore)&&(h=!1);var c=t,d="",p="",f="";function b(e){return"a"===tag(e)?e:gpeByTag("a",e)}!t.href&&t.getAttribute&&(c=t.getAttribute("data-href"));var m=n&&b(n.target)||t&&t.tagName&&b(t);if(("input"==tag(t)||"button"==tag(t))&&("submit"==t.type||"image"==t.type)&&t.form){if(t.disabled)return!0;var v=t.form,g={},D=v.action||"",w=!1;if(each(v,(function(e,n){return!(n.name&&!n.disabled&&!Object(l.isFieldIgnored)(n))||("radio"===n.type&&!n.checked||("button"===n.type||("submit"===n.type&&n!==t||("image"===n.type&&n!==t||("file"===n.type?(w=!0,!1):"checkbox"===n.type?(g[n.name]=n.checked?1:0,!0):void(g[n.name]=n.value))))))})),"image"==t.type&&(g[t.name]=t.value,g[t.name+".x"]=1,g[t.name+".y"]=1),w||"multipart/form-data"==attr(v,"enctype"))return function(e){var t=ce("iframe");attr(t,"id","upload_iframe"),attr(t,"name","upload_iframe"),attr(t,"width","0"),attr(t,"height","0"),attr(t,"border","0"),attr(t,"style","width:0;height:0;border:none;position:absolute;left:-1000px;"),append(t,e.parentNode),window.frames.upload_iframe.name="upload_iframe",t=ge("upload_iframe");var n=!1;return each(e,(function(e,t){if("submit"===t.type)return n=t,!1})),addEvent(t,"load",(function e(){removeEvent(t,"load",e),setTimeout((function(){remove(t),unlockButton(n)}),2e3)})),Object(u.setDocumentDomain)(),attr(e,"target","upload_iframe"),attr(e,"method","post"),attr(e,"enctype","multipart/form-data"),attr(e,"encoding","multipart/form-data"),append(ce("input",{type:"hidden",id:"__extra",name:"__extra",value:1}),e),e.submit(),setTimeout((function(){lockButton(n),remove("__extra")})),!1}(v);if(!(c=S(D)))return!0;v.method&&"get"!=v.method?r.params=g:c=c.split("?",1).shift()+obj2qs(g)}if(hasClass("al_need_login",t)&&(r.redirectToLoginPage=!0),"string"!=typeof c){if(!c)return!0;"/"!==(d=(c.pathname||"").replace(/^\/+/,"/")).substr(0,1)&&(d="/"+d),p=c.search.substr(1),f=c.hash,c=d+c.search+f;if(/^(?:%40|@)-?[.a-z0-9_]+-[a-z0-9-]+(?:[\?&]\w+\=[a-z0-9-_]+)*$/.test(d.substr(1))&&window.cur&&window.cur.module){var O=window.cur.module;if("feed"===O)"search"===qs2obj(_.params).section&&(O="feed_search");p+="&ref="+O}}else{var E=c.split("#"),y=E.shift();f=E.length?"#"+E.join("#"):"",d=(y=y.split("?")).shift(),p=y.join("?"),!f&&!p||d||(d=_.path,y||(p=_.params),c=d+(p?"?"+p:"")+f)}var C=qs2obj(p);function k(e,t,n){var r=n&&C[t];return!(!e||r)&&(C[t]=e,!0)}if(k((a=F(m,!!C._post_click_type)).post_id,"_post",!0),k(a.post_click_type,"_post_click_type",!0),C._post_click_type&&(k(a.post_click_mention_id,"_post_click_mention_id",!0),k(a.post_click_cc_key,"_post_click_cc_key",!0),k(a.post_click_url,"_post_click_url",!0),k(a.ad_data,"_post_ad_data",!0)&&k(a.ad_block_unique_id,"_post_ad_block_unique_id")),-1!==location.pathname.indexOf("/groups_catalog")&&0!==c.indexOf("/")&&(c="/"+c),0!==location.pathname.indexOf("/app")&&0===d.indexOf("/app")&&C&&C.act&&"app_r"===C.act)return!!n||(P(t,n,r),!1);if(p=obj2qs(C).substr(1),n&&c&&_.cur&&c.split("#").shift()==_.cur.split("#").shift()&&f&&!r.force&&(scrollToHash(f),r.push_only=!0),r.no_push&&_.cur==c&&!r.force)return!1;if(r.push_only)return B(extend(r,{nav:{push:c,path:d,params:p,hash:f}})),!1;if(addClass("active",r.link||t),hasClass("al_back_history",t))return addClass("al_back",r.link||t),removeClass("al_back_history",r.link||t),_.backToTabHistory(r.link||t);if((D||r.isForm)&&(r.removeAfterNextResponse=null==r.removeAfterNextResponse||r.removeAfterNextResponse),t.classList&&(t.classList.contains("al_tab")||t.classList.contains("SliderTabs__tab")||t.classList.contains("Unfold__item_replaceState"))&&(r.replaceState=!0),hasClass("al_back",t)){var j=C.act;window.isNewMail&&"/mail"===location.pathname&&!j||"show"===j&&!geByClass1("messenger")?r.need_restore=!1:r.need_restore=!0}var x=attr(t,"data-tabbar");if(x){var T=o.getCurrentId();T!==x?(x!==o.TAB_ID_MESSAGES&&0===o.getTabCounter(x)&&(r.need_restore=!0),x===o.TAB_ID_FEED&&"/feed"===c&&(r.need_check_updates=!0),r.tab=x,r.prev_tab=T,r.forceSetCurrent=!0):(r.tab=x,r.prev_tab=x,r.replace=!0),A({lm:{tab:x,is_tab_page:!0}})}else if(r.tab)r.native_prev=o.getCurrentId(),r.is_native_back=!0,r.forceSetCurrent=!0,A({lm:{tab:r.tab,is_tab_page:!0}});else{var L=o.getCurrentId();r.tab=L;var R=!(!this||!isString(this.cur))&&this.cur.substr(1);o.TAB_IDS.includes(R)?r.prev_tab=R:r.prev_tab=L}var N=function(e){var t=window.cur,n=window.menu,r=qs2obj(e.nav.params),a=qs2obj(_.params);if((a.z||r.z)&&a.z!=r.z){if(_.path==e.nav.path){var i=copy(r),o=copy(a);if(delete i.z,delete o.z,i=obj2qs(i),o=obj2qs(o),i==o)return I(r.z,!1,e),B(e),n.close(null,!0),!1}e.zProcess=function(t,n){I(r.z,t,extend({},e,{no_push:!0}),n)}}if(e.onPreNav=function(){e.zProcess&&(e.zProcess(),delete e.zProcess)},!e.ignore_cur_process&&t.processNav&&t.processNav(e))return B(e),n.close(null,!0),!1;return M(e.nav.push,null,e),!1}(extend(r,t.tagName?{target:t}:{},{nav:{push:c,path:d,params:p,hash:f}}));return N||cancelEvent(n),N}function I(e,t,n,r){var a,i=window.photo,o=window.zlayer;if(e){if(a=/^photo(-?\d+_\d+)(?:\/([a-z0-9_-]+(\/rev)?)?)?$/i.exec(e)){if(!0===r)return!1;var s=a[1]||"",c=a[2]||"";return i.zopen(!1,null,s,c,{no_push:(n||{}).no_push}),o&&!1!==t&&void 0!==t&&(o._st=t),QRPhotoPosting&&QRPhotoPosting.close(),!0}if(a=/^story(-?\d+_\d+)(\/([a-z0-9_-]+))?(\/?[a-z0-9_:]+)?$/i.exec(e)){var u=window.Stories;if(!0===r)return!1;if(!u.opened){var l=a[1]+(a[2]?a[2]:"/"+a[1])+(a[4]?a[4]:"");u.init(l)}return!0}if(a=/^narrative([0-9\-]+)_(\d+)(?:_(\d+))?$/i.exec(e)){window.Stories;if(!0===r)return!1;var d=a,_=d[1],p=d[2],f=d[3];return window.showNarrative(_,p,f,"",{source:"narrative_link"}),!0}if(a=/^\/?doc(-?\d+)_(\d+)(\/?([a-z0-9_-]+))?$/i.exec(e))return!0!==r&&(i.zopen(null,null,a[1]+"_"+a[2],"",{no_push:(n||{}).no_push,isDoc:!0,hasVideo:!1,hash:a[4]}),o&&!1!==t&&void 0!==t&&(o._st=t),!0);if(a=/^\/?publish_photo(-?\d+)?$/i.exec(e)){if(!0===r)return!1;QRPhotoPosting&&QRPhotoPosting.show()}}return!1!==r&&(o&&o.close(),Stories&&Stories.opened&&Stories.close({isPopState:!0,closeAll:!0}),QRPhotoPosting&&QRPhotoPosting.close(),!0)}function T(t,n,r){if(void 0===r&&(r=null),e)!function(e,t,n){var r=window.Tabbar.getCurrentId(),a={nav:{tab:t.tab||r,prev_tab:t.prev_tab}};window.isNewMail?t.replace?history.replaceState(extend({},n,a),null,e):history.pushState(extend({},n,a),null,e):t.replace?history.replaceState(a,null,e):history.pushState(a,null,e)}(t,n,r);else{var a="/"==t.substr(0,1)?t:"/"+t,i="#"+a,o=location.pathname+location.search+i;ge("base").href=a,n.replace?location.replace(o):(p=i,location.href=o)}}function B(t){if(!t.no_push&&_.cur!=t.nav.push){if(!window.isBasicOffline&&Object(c.isOfflineCapable)()&&!1===navigator.onLine&&!t.push_only)return P(t.nav.push,null,t);try{window.isNewMail?T(t.nav.push,t,t.historyState):T(t.nav.push,t),e&&!t.no_push&&(t.nav_init||t.nav_incr)?(t.nav_init&&(h=0),t.nav_incr&&!1!==h&&h++,h>30&&(h=!1)):h=!1}catch(e){return P(t.nav.push,null,t)}}_.cur!==t.nav.push&&(_.prev_cur=_.cur,_.prev_fv_link=_.fv_link),_.cur=t.nav.push,_.path=t.nav.path,_.params=t.nav.params,_.hash=t.nav.hash,_.path&&0!==_.path.indexOf("/")&&(_.path="/"+_.path)}function F(e,t){var n=!(!e||!e.getAttribute),r={};if(!n)return r;var a=e.getAttribute("data-post-id");a&&(r.post_id=a);var i=e.getAttribute("data-post-click-type");i&&(r.post_click_type=i);var o=e.getAttribute("mention_id");o&&(r.post_click_mention_id=o);var s=e.getAttribute("data-post-click-cc-key");s&&(r.post_click_cc_key=s);var c=[e.getAttribute("href"),e.getAttribute("data-href")];if(each(c,(function(e,t){if(t&&"#"!==t)return r.post_click_url=t,!1})),!!i||t){var u=gpeByClass("_ads_block_data_w",e),l=(u=u||gpeByClass("_ads_promoted_post_data_w",e))&&u.getAttribute("data-ad"),d=u&&u.getAttribute("data-ad-block-uid");l&&(r.ad_data=l),d&&(r.ad_block_unique_id=d)}return r}}();onDOMReady((function(){window.storybook||(_.initOpenInNativeAppBtn(),_.initStore())})),window.nav=_,t.default=_},wTbK:function(e,t,n){"use strict";n.r(t),n.d(t,"open",(function(){return D})),n.d(t,"close",(function(){return O})),n.d(t,"ModalMenuBtn",(function(){return s.ModalMenuBtn})),n.d(t,"ModalMenuIcon",(function(){return s.ModalMenuIcon})),n.d(t,"ModalMenuTitle",(function(){return s.ModalMenuTitle})),n.d(t,"ModalMenuBody",(function(){return s.ModalMenuBody})),n.d(t,"ModalMenuHeaderCloseButton",(function(){return s.ModalMenuHeaderCloseButton}));var r,a,i,o=n("OcsD"),s=n("t7Ww"),c=n("r/ag"),u=n("UxAg"),l=function(){function e(e){this.lastTime=0,this.lastRegisteredTime=0,this.lastCoordinates=[0,0],this.velocity={x:0,y:0},this.lastTime=e.time,this.lastCoordinates=[e.x,e.y],this.velocity={x:0,y:0}}return e.getVelocity=function(e,t,n){return{x:t/e||0,y:n/e||0}},e.prototype.registerEvent=function(t){if("touchmove"===t.type){var n=+t.touches[0].clientX,r=+t.touches[0].clientY,a=t.timeStamp-this.lastTime;if(t.timeStamp-this.lastRegisteredTime<=16.67)this.lastCoordinates=[n,r],this.lastTime=t.timeStamp;else{var i=n-this.lastCoordinates[0],o=r-this.lastCoordinates[1];this.velocity=e.getVelocity(a,i,o),this.lastTime=t.timeStamp,this.lastRegisteredTime=this.lastTime,this.lastCoordinates=[n,r]}}else window.clog&&window.clog("[Gestures.js] unhandled event "+t.type)},e}(),d=n("CQvH"),_=!1,p=null,f=0,h=0,b={},m=null,v=Object(u.$)(".Popup__wrap",r),g=!1;function D(e,t,n,s){void 0===t&&(t=!0),void 0===n&&(n=""),void 0===s&&(s={});var l=s,_=l.settling,p=void 0===_?75:_,f=l.expandable,h=void 0!==f&&f;if(s.settling=p,s.expandable=h,r=c.default.open(e,t,{hash:n,withoutCloning:s.withoutPopupCloning}),b=s,v=Object(u.$)(".Popup__wrap",r),i=Object(u.$)(".Popup__content",v),void 0===s.swipeDown&&(s.swipeDown=!0),h&&A(r)){r.classList.add("ModalMenu--expandable");var m=(100-b.settling)/100*window.innerHeight;C=m,o.setStyle.animate(v,"transform",{duration:200,func:"ease"}),o.setStyle.transform(v,1,[0,m])}return P(),Object(o.onBodyResize)(P),s.swipeDown&&window.innerWidth<882&&(scrollTop(0),Object(o.addEvent)(i,"touchstart",E,{passive:!0}),Object(o.addEvent)(i,"touchmove",k,{capture:!0}),Object(o.addEvent)(i,"touchcancel touchend",j,{passive:!0}),Object(o.addEvent)(v,"click",w,{passive:!0}),Object(o.addEvent)(v,"click",w,{passive:!0})),(a=Object(d.setFocusTrap)(r))&&(a.exitIntent=function(){return!1}),r}function w(e){if(v&&e.target===v)return(a=Object(d.setFocusTrap)(r))&&(a.exitIntent=function(){return!1}),r}function A(e){var t=Object(u.$)(".ModalMenu__body",e)||Object(u.$)(".ModalMenuContent",e)||Object(u.$)(".Popup__content",e);return!(Object(o.getCw)()>=882)&&(t.scrollHeight||Object(o.getH)(t))>=window.innerHeight}function O(e,t){if(void 0===t&&(t={}),e||(e=document.activeElement),e){var n=e.closest(".ModalMenu.Popup_open")||e;n&&n.classList.contains("ModalMenu")&&(innerWidth<882?c.default.close(n,{smooth:!0,velocity:!(!m||!m.velocity)&&m.velocity,lastY:h,onClose:t.onClose}):setTimeout((function(){c.default.close(n),t.onClose&&t.onClose()})),Object(o.removeEvent)(i,"touchstart",E,{passive:!0}),Object(o.removeEvent)(i,"touchmove",k,{capture:!0}),Object(o.removeEvent)(i,"touchcancel touchend",j,{passive:!0}),Object(o.removeEvent)(v,"click",w,{passive:!0}),Object(o.removeEvent)(v,"click",w,{passive:!0}),p=null,f=0,y=!1,h=0,C=0,r=null,v=null,i=null,m=null,b={},Object(o.onBodyResize)("__clear",P),a&&(a(),a=null))}}function E(e){if(e.touches&&e.touches.length>1)_=!1;else{var t=e.target.closest(".ScrollView")||Object(u.$)(".ScrollView",e.target);if(!Object(u.$)(".ModalMenu").classList.contains("ModalMenu--blocked")){var n=b.expandable&&A(r);g=n,p=e.touches[0],f=e.touches[0].clientY,t&&t.scrollTop>1?_=!1:(m=new l({time:e.timeStamp,x:e.touches[0].clientX,y:e.touches[0].clientY}),_=!0)}}}var y=!1,C=0;function k(e){if(e.touches&&e.touches.length>1)_=!1;else if(p&&_){var t=e.touches[0];m.registerEvent(e);var n=-Math.min(0,f-t.clientY-C);0!==n&&(Object(o.cancelEvent)(e),h=n,y||(r.classList.add("ModalMenu--dragging"),browser.ios&&o.setStyle.animate(v,"transform",{duration:50,func:"linear"}),y=!0),S(n),o.setStyle.transform(v,1,[0,n]))}}function j(e){if(_){_=!1,r.classList.remove("ModalMenu--dragging"),y=!1,S(h);var t=b.expandable&&A(r);g=t;var n=r.classList.contains("ModalMenu--expanded"),a=!n,i=function(e){void 0===e&&(e=[]);return e.find((function(e){return 0!==e.scrollTop||e.scrollHeight>e.offsetHeight}))}(e.path),s=!1;i&&(s=0!==i.scrollTop);var c=!1,u=!1;m&&(c=!s&&m.velocity.y>=.6,u=!s&&m.velocity.y<=-.15);var l=h/innerHeight*100,d="";n?d="expand":a&&(d="collapse");var p=d;c&&l<8?l=8:u&&(l=0),!t&&l>=8||l>=100-b.settling+8?p="close":n?l>=8&&!s&&(p="collapse"):a&&A(r)&&l<=100-b.settling&&(p="expand"),function(e){if(!e)return;r.classList.toggle("ModalMenu--expanded","expand"===e),"close"!==e&&v.style.removeProperty("transition");switch(e){case"collapse":r.classList.add("ModalMenu--restore");var t=0;A(r)&&(t=(100-b.settling)/100*window.innerHeight),C=t,o.setStyle.transform(v,1,[0,t]),S(C=t,!0),setTimeout((function(){r&&r.classList.remove("ModalMenu--restore"),0===t&&Object(o.setStyle)(v,{transform:""})}),200);break;case"expand":r.classList.add("ModalMenu--restore"),r.classList.add("ModalMenu--expanded"),o.setStyle.transform(v,1,[0,0]),S(C=0,!0),setTimeout((function(){r&&(P(),r.classList.remove("ModalMenu--restore"))}),200);break;case"close":C=0,O(r,b)}}(p),m=null}}function S(e,t){if(void 0===e&&(e=null),void 0===t&&(t=!1),g){var n=(100-b.settling)/100*window.innerHeight,r=Object(u.$)(".ModalMenuHeader__title",v),a=Object(u.$)(".ModalMenuHeader__close",v),i=1-Math.max(0,Math.min(1,(null===e?C:e)/n));t&&(o.setStyle.animate(r,"transform",{duration:250}),o.setStyle.animate(a,"transform, opacity",{duration:250})),o.setStyle.transform(r,1,[44*i,0]),o.setStyle.transform(a,i),Object(o.setStyle)(a,{opacity:i})}}function P(){var e=Object(u.$)(".ModalMenuContent",r),t=Object(u.$)(".ModalMenuHeader",r);if(e&&t){var n=Object(o.getH)(t),a=Object(o.getH)(e),i=Math.min(Object(o.getCh)(),a+n+"px");Object(o.getCw)()>=882&&(i=null),Object(o.setStyle)(e,"height",i)}}Object(o.addEvent)(window,"keydown",(function(e){var t=e.target&&e.target.closest(".ModalMenu")||document.activeElement&&document.activeElement.closest(".ModalMenu")||Object(u.$)(".ModalMenu.Popup_open");if(t)switch(e.keyCode){case 27:O(t,b)}})),Object(o.addEvent)(window,"click",(function(e){if(e.isTrusted){var t=e.target&&e.target.closest(".ModalMenu")||document.activeElement&&document.activeElement.closest(".ModalMenu")||Object(u.$)(".ModalMenu.Popup_open"),n=!!e.target.closest(".ModalMenu");if(t&&n&&!e.target.closest(".Popup__content")){var r=Object(u.$)(".Popup__overlay",t);window.clog("Simulate modal overlay click"),r.click()}}}),{passive:!0});t.default=s.default;Object(o.extend)(s.default,{open:D,close:O}),window.ModalMenu=s.default},wTgh:function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=0);var n=32768&t;return e=(e=e.replace(/([a-zA-Z\-_\.0-9]+@[a-zA-Z\-_0-9]+\.[a-zA-Z\-_\.0-9]+[a-zA-Z\-_0-9]+)/g,(function(e){return'<a href="mailto:'+e+'">'+e+"</a>"}))).replace(/(https?:\/\/)?(([A-Za-zА-Яа-яЁё0-9@][A-Za-zА-Яа-яЁё0-9@\-\_\.]*[A-Za-zА-Яа-яЁё0-9@])(\/([A-Za-zА-Яа-я0-9@\-\_#%&?+\/\.=;:~]*[^\.\,;\(\)\?<\&\s:])?)?)/gi,(function(){var e=arguments[3],t=arguments[2],r=arguments[0],a=arguments[1]||"http://";if(-1==e.indexOf(".")||-1!=e.indexOf(".."))return r;var i=e.split(".").pop();if(i.length>7||-1==indexOf("place,camera,info,name,academy,aero,arpa,coop,media,museum,mobi,travel,xxx,asia,biz,com,net,org,gov,mil,edu,int,tel,ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,bd,be,bf,bg,bh,bi,bj,bm,bn,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,ck,cl,cm,cn,co,cr,cu,cv,cx,cy,cz,de,dj,dk,dm,do,dz,ec,ee,eg,eh,er,es,et,eu,fi,fj,fk,fm,fo,fr,ga,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gu,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,il,im,in,io,iq,ir,is,it,je,jm,jo,jp,ke,kg,kh,ki,km,kn,kp,kr,kw,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mm,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,mz,na,nc,ne,nf,ng,ni,nl,no,np,nr,nu,nz,om,pa,pe,pf,pg,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,ru,rs,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,um,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,ye,yt,yu,za,zm,zw,рф,укр,сайт,онлайн,срб,cat,pro,local".split(","),i))return r;if(-1!=r.indexOf("@"))return r;try{r=decodeURIComponent(r)}catch(e){}return r.length>55&&(r=r.substr(0,53)+".."),r=htsc(r),!n&&e.match(/^([a-zA-Z0-9\.\_\-]+\.)?(vkontakte\.ru|vk\.com|vkadre\.ru|vshtate\.ru|userapi\.com|vk\.me)$/)?'<a href="'+(a+(t=replaceEntities(t).replace(/([^a-zA-Z0-9#%;_\-.\/?&=\[\]])/g,encodeURIComponent))).replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'">'+r+"</a>":'<a href="/away?to='+encodeURIComponent(a+replaceEntities(t))+'" target="_blank">'+r+"</a>"}))}n.r(t),n.d(t,"wrapLinks",(function(){return r}))},wkhI:function(e,t,n){"use strict";n.r(t),n.d(t,"setFieldIgnored",(function(){return a})),n.d(t,"isFieldIgnored",(function(){return i}));var r=n("OcsD"),a=function(e,t){void 0===t&&(t=!0),Object(r.attr)(e,"data-ignore-field",!!t&&"true")},i=function(e){return"true"===Object(r.attr)(e,"data-ignore-field")}},z1UI:function(e,t,n){"use strict";n.r(t);var r=n("k+Df");t.default=r.default},z9sQ:function(e,t,n){"use strict";n.r(t);n("OcsD");var r={class:function(e,t,n){void 0===t&&(t={});void 0===n&&(n="_");var r=[e];return Object.keys(t).forEach((function(i){if(a(i)){var o=t[i];!0===o?r.push(""+e+n+i):a(o)&&r.push(""+e+n+i+n+o)}})),r.join(" ")},setMod:function(e,t,n){var r,i=new RegExp("\\s*"+t+"(_[-a-zA-Z]+)?");r=!0===n?" "+t:a(n)?" "+t+"_"+n:"";i.test(e.className)?e.className=e.className.replace(i,r):e.className+=r}};function a(e){return"number"==typeof e||"string"==typeof e&&e}t.default=r;window.Bem=r},zouF:function(e,t,n){"use strict";n.r(t),n.d(t,"Confirm",(function(){return c}));var r=n("TYsd"),a=n("Po+v"),i=n("fdw3"),o=n("29dZ"),s=n("UxAg");function c(e,t,n,s){void 0===s&&(s={});var c=r.default.preactElemFromTemplate(Object(a.default)({id:s.id,class:"Confirm",scrollable:!0,header:{title:s.title||Object(i.getLang)("mobile_warning_header")},on_overlay_click_native:n,content:[e,{class:"Popup__buttons",inner:[Object(o.default)({onClick:t,use_native_onclick:!0,class:"Popup__button",theme:s.theme_accept_btn||"regular",url:s.yes_href,inner:s.yes_label||Object(i.getLang)("mobile_continue")}),Object(o.default)({onClick:n||"Popup.close(this, event)",use_native_onclick:!0,class:"Popup__button",theme:s.theme_close_btn||"secondary",url:s.no_href,inner:s.no_label||Object(i.getLang)("mobile_cancel")})]}]}));return a.default.open(c,!0,{withoutCloning:s.withoutPopupCloning})}window.page&&window.page.onChange((function(){Object(s.$$)(".Confirm").forEach((function(e){return a.default.close(e)}))})),window.Confirm=c},zq7H:function(e,t,n){"use strict";n.r(t),n.d(t,"COUNTERS_POS_NOTIFICATIONS",(function(){return r})),n.d(t,"COUNTERS_POS_MESSAGES",(function(){return a})),n.d(t,"COUNTERS_POS_APPS",(function(){return i})),n.d(t,"DESKTOP_WIDTH",(function(){return o}));var r=2,a=3,i=10,o=882},zvhO:function(e,t,n){"use strict";function r(e){return"number"==typeof e&&!isNaN(e)}n.r(t),n.d(t,"isNumber",(function(){return r}))}},[[1,"runtime","vendors","icons","b-82d9927df0978c64fbba746460792e53","b-bb8a45b66effa6a9a720f7c1b25cb90c"]]]);